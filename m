Return-path: <linux-media-owner@vger.kernel.org>
Received: from mailmxout15.mailmx.agnat.pl ([193.239.45.95]:55560 "EHLO
	mailmxout15.mailmx.agnat.pl" rhost-flags-OK-OK-OK-OK)
	by vger.kernel.org with ESMTP id S1754298Ab2FDRhd (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Mon, 4 Jun 2012 13:37:33 -0400
Message-ID: <CEA83F28AF7C47E7B83AE1DBFFBC8514@laptop2>
From: "Janusz Uzycki" <janusz.uzycki@elproma.com.pl>
To: "Guennadi Liakhovetski" <g.liakhovetski@gmx.de>
Cc: <linux-media@vger.kernel.org>
References: <1E539FC23CF84B8A91428720570395E0@laptop2> <Pine.LNX.4.64.1101241720001.17567@axis700.grange> <AD14536027B946D6B4504D4F43E352A5@laptop2> <Pine.LNX.4.64.1101262045550.3989@axis700.grange> <F95361ABAE1D4A70A10790A798004482@laptop2> <Pine.LNX.4.64.1101271809030.8916@axis700.grange> <8026191608244DB98F002E983C866149@laptop2> <Pine.LNX.4.64.1102011420540.6673@axis700.grange> <18BE1662A1F04B6C8B39AA46440A3FBB@laptop2> <Pine.LNX.4.64.1102011532360.6673@axis700.grange> <2F2263A44E0F466F898DD3E2F1D19F12@laptop2> <Pine.LNX.4.64.1102081427500.1393@axis700.grange>
Subject: SH7724, VOU, PAL mode
Date: Mon, 4 Jun 2012 19:32:05 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="ISO-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

Hi Guennadi.

I am trying to force to proper work CS4954 encoder with sh4.
I want to use sh4 VOU in PAL mode (kernel 3.2.7). Do you have any experience 
with AK881x and PAL?
If I set PAL mode (v4l2-ctl -s) VOUCR::MD is still configured for NTSC. I 
noticed that VOU is limited to NTSC resolution: "Maximum destination image 
size: 720 x 240 per field". And indeed I had to change my encoder settings 
to NTSC-M CCIR601 timing 720x480 (PAL synch freq. only) for synced (stable) 
color video picture of BAR generated by the encoder (not VOU). On the other 
hand VOUDSR register has bit-limit 1024x512 (enough for PAL 768x576 
interlaced).
Another method for stable PAL picture (but 768x576) is change both VOUCR::MD 
to PAL output mode and set the encoder to PAL mode. Then the green picture 
has a bound about 480 line I think.
Unfortunately I can't still manage to work video data from VOU to the 
encoder - green picture only. Do you have any test program for video v4l2 
output? Does the idea fb->v4l2 output 
http://www.spinics.net/lists/linux-fbdev/msg01102.html is alive?

best regards
Janusz Uzycki
ELPROMA

