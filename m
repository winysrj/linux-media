Return-path: <linux-media-owner@vger.kernel.org>
Received: from mail-bw0-f219.google.com ([209.85.218.219]:39797 "EHLO
	mail-bw0-f219.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1754629AbZHYH0V (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Tue, 25 Aug 2009 03:26:21 -0400
Received: by bwz19 with SMTP id 19so1880547bwz.37
        for <linux-media@vger.kernel.org>; Tue, 25 Aug 2009 00:26:22 -0700 (PDT)
From: alfred.egger@gmail.com
To: linux-media@vger.kernel.org
Subject: Bug 14036 -  Module gspca_stv06xx image problem using Logitech Quickcam Express
Date: Tue, 25 Aug 2009 09:26:19 +0200
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Message-Id: <200908250926.20100.alfred.egger@gmail.com>
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

Hello,

I have the following problem:

-- System Information: Debian 
Release: squeeze/sid
Package: linux-image-2.6.30-1-686-bigmem 
Version: 2.6.30-6 Severity: important 

Using a Logitech Quickcam Express using the gspca module only gives a broken 
image. lsusb output:

Bus 003 Device 002: ID 046d:0870 Logitech, Inc. QuickCam Express 

Dmesg output: 

[ 10.554655] gspca: main v2.5.0 registered
[ 10.556144] STV06xx: Probing for a stv06xx device 
[ 10.556148] gspca: probing 046d:0870
[ 10.556152] STV06xx: Configuring camera
[ 10.566049] STV06xx: HDCS-1020 sensor detected 
[ 10.566052] STV06xx: Initializing camera 
[ 10.848079] gspca: probe ok 
[ 10.848100] usbcore: registered new interface driver STV06xx 
[ 10.848104] STV06xx: registered

When starting e. g. Cheese or gstreamer-properties, the following dmesg output 
appears:

[ 8331.020392] gspca: ISOC data error: [5] len=329, status=-63 

The image in Cheese or gstreamer-properties is completely messed up. 

Hexdump of the video output:

user@localhost:~$ hexdump /dev/video0 0000000 0000 0000 0000 0000 0000 0000 
0000 0000 0000010 0501 0104 0402 0502 0000 0000 0000 0000 0000020 0408 0507 
0402 0104 0000 0000 0000 0000 0000030 0307 0305 0004 0105 0000 0000 0000 0000 
0000040 0604 0205 0001 0106 0000 0000 0000 0000 0000050 0607 060a 0807 040a 
0000 0000 0000 0000 0000060 0706 0705 0905 0306 0000 0000 0000 0000 0000070 
0506 0204 0204 0206 0000 0000 0000 0000 0000080 0506 010a 0a06 0606 0000 0000 
0000 0000 0000090 0b05 050a 0606 0807 0000 0000 0000 0000 00000a0 0306 0205 
0505 0206 0000 0000 0000 0000 00000b0 0803 0506 0604 0507 0000 0000 0000 0000 
00000c0 0806 0705 0505 0606 0000 0000 0000 0000 00000d0 0406 0308 0106 0304 
0000 0000 0000 0000 00000e0 0607 0509 0507 0604 0000 0000 0000 0000 00000f0 
0708 0504 0509 0608 0000 0000 0000 0000 0000100 0907 0605 0806 0807 0000 0000 
0000 0000 0000110 0706 0807 0307 0808 0000 0000 0000 0000 0000120 0407 0508 
0105 0506 0000 0000 0000 0000 0000130 0607 0504 0707 0807 0000 0000 0000 0000 
0000140 0909 0808 0807 080b 0000 0000 0000 0000 0000150 0a06 0507 0605 0606 
0000 0000 0000 0000 0000160 0508 0408 0103 0806 0000 0000 0000 0000 0000170 
0508 0309 0705 020a 0000 0000 0000 0000 0000180 090b 060b 0609 070a 0000 0000 
0000 0000 0000190 0b09 0807 0509 080a 0000 0000 0000 0000 00001a0 0a03 0906 
0b05 0609 0000 0000 0000 0000 00001b0 0508 0609 0507 0504 0000 0000 0000 0000 
00001c0 0709 0506 0b07 0508 0000 0000 0000 0000 00001d0 0809 0509 0807 0608 
0000 0000 0000 0000 00001e0 0709 0707 0707 070b 0000 0000 0000 0000 00001f0 
040a 050a 0707 050b 0000 0000 0000 0000 0000200 0708 0807 0809 0608 0000 0000 
0000 0000 0000210 0508 0409 0506 0608 0100 0000 0000 0000 0000220 0a0a 0606 
0706 0b09 0000 0000 0000 0000 0000230 0907 070a 0c06 080a 0000 0000 0000 0000 
0000240 0b05 0708 0808 070a 0000 0000 0000 0000 0000250 0c0a 0a07 060b 070a 
0000 0000 0000 0000 0000260 0a08 0806 0b06 0609 0000 0000 0000 0000 0000270 
0606 0506 0905 0704 0000 0000 0000 0000 0000280 0b09 0708 0908 0909 0000 0000 
0000 0000 0000290 0308 0609 0706 0108 0000 0000 0000 0000 00002a0 060a 040a 
0909 070c 0000 0000 0000 0000 00002b0 0a07 050a 0805 0709 0000 0000 0000 0000 
00002c0 0906 0609 0604 0706 0000 0000 0000 0000 00002d0 0608 050a 0b05 0509 
0000 0000 0000 0000 00002e0 0a07 0607 0506 060b 0000 0000 0000 0000 00002f0 
0808 080a 0806 060d 0000 0000 0000 0000 0000300 0b09 070b 090a 070b 0000 0000 
0000 0000 0000310 0b07 090a 0708 090a 0000 0000 0000 0000 0000320 0609 0b06 
0307 0809 0000 0000 0000 0000 0000330 0909 070b 0609 080b 0000 0000 0000 0000 
0000340 080b 0708 0c07 080a 0000 0000 0000 0000 0000350 0a0a 0607 0908 0a08 
0000 0000 0000 0000 0000360 0809 0508 0407 0809 0000 0000 0000 0000 0000370 
0709 0607 0405 0607 0100 0000 0000 0000 0000380 080a 0708 090a 080b 0000 0000 
0000 0000 0000390 0709 0607 0608 0608 0000 0000 0000 0000 00003a0 0806 0a0c 
0a05 0809 0000 0000 0000 0000 00003b0 0706 0507 0507 0807 0000 0000 0000 0000 
00003c0 0a08 0907 0b05 0a07 0000 0000 0000 0000 00003d0 0907 080a 0a05 080a 
0000 0000 0000 0000 00003e0 0a07 0807 0907 0709 0000 0000 0000 0000 00003f0 
0808 0707 0c06 070b 0000 0000 0000 0000 0000400 080b 0608 0606 0a09 0000 0000 
0000 0000 0000410 0906 0808 0c07 0808 0000 0000 0000 0000 0000420 0a09 0808 
0506 0907 0000 0000 0000 0000 0000430 0b0a 0708 0a08 090b 0000 0000 0000 0000 
0000440 0c08 0706 0808 0709 0100 0000 0000 0000 0000450 0b09 0808 0808 050c 
0000 0000 0000 0000 0000460 0a0a 0a0b 0d09 090a 0000 0000 0000 0000 0000470 
0909 070a 0209 060c 0000 0000 0000 0000 0000480 0808 0606 0406 0809 0000 0000 
0000 0000 0000490 080a 0408 0707 0509 0000 0000 0100 0000 00004a0 090b 0808 
0705 0509 0000 0000 0000 0000 00004b0 0907 0809 0807 0809 0000 0000 0000 0000 
00004c0 0708 050b 0a06 0908 0000 0000 0000 0000 00004d0 0b08 080a 0b07 0908 
0000 0000 0000 0000 00004e0 0d08 070c 090a 090a 0100 0000 0000 0000 00004f0 
0c08 0808 0509 0808 0000 0100 0000 0000 0000500 0b09 040c 0505 060b 0000 0000 
0000 0000 0000510 090a 0909 0a06 070a 0000 0000 0000 0000 0000520 0c09 0909 
0907 0909 0000 0000 0000 0000 0000530 0709 0607 0407 0508 0000 0000 0000 0000 
0000540 0807 0606 0707 0707 0000 0000 0000 0000 0000550 090a 080a 0a08 090c 
0000 0000 0000 0000 0000560 0c06 0709 080a 0c06 0000 0000 0000 0000 0000570 
0a09 0607 0606 070a 0000 0000 0000 0000 0000580 0907 0509 0a06 0708 0000 0000 
0000 0000 0000590 090a 0a0a 0708 0b08 0000 0000 0000 0000 00005a0 0d08 0809 
0b06 080a 0000 0000 0000 0000 00005b0 0a07 0709 0a06 0809 0000 0000 0000 0000 
00005c0 0807 0609 0505 040a 0000 0000 0000 0000 00005d0 080a 0609 0209 0608 
0000 0000 0000 0000 00005e0 0909 0509 080a 0508 0000 0000 0000 0000 00005f0 
0809 0909 0b08 0909 0000 0000 0000 0000 0000600 0908 090b 0609 080b 0000 0000 
0000 0000 0000610 0a0b 0709 0908 080b 0000 0000 0000 0000 0000620 0807 080a 
0b07 0a09 0000 0000 0000 0000 0000630 0a0a 0709 090a 090c 0000 0000 0000 0000 
0000640 0809 0a0a 080d 090a 0000 0000 0000 0000 0000650 0a09 080a 0e0a 0b0b 
0000 0000 0000 0000 0000660 0509 050b 0607 070a 0000 0000 0000 0000 0000670 
0908 0806 0d09 0809 0000 0000 0000 0000 0000680 080a 0709 0a06 0a0a 0000 0000 
0000 0000 0000690 0906 0908 0709 0709 0000 0000 0000 0000 00006a0 0809 050b 
0908 070d 0000 0000 0000 0000 00006b0 0809 080b 0a08 0a07 0000 0000 0000 0000 
00006c0 0808 070b 0909 060b 0000 0000 0000 0000 00006d0 090e 060d 0809 070b 
0000 0000 0000 0000 00006e0 0a0c 060a 0b09 0609 0000 0000 0000 0000 00006f0 
080b 0508 0608 020a 0000 0001 0000 0000 0000700 0806 0807 0904 0608 0100 0000 
0000 0000 0000710 0809 0707 0506 0a08 0000 0000 0000 0000 0000720 0709 060a 
0707 0705 0000 0100 0000 0000 0000730 0809 050b 0409 060a 0000 0000 0000 0000 
0000740 0608 0509 0507 0708 0000 0000 0001 0000 0000750 090b 060b 0907 070a 
0000 0000 0000 0000 0000760 0808 0908 0408 0a06 0000 0000 0000 0000 0000770 
0807 0609 0c07 070a 0000 0000 0000 0000 0000780 0b09 0606 0608 0609 0000 0000 
0000 0000 0000790 0a09 0706 0c07 080b 0000 0000 0000 0000 00007a0 0a09 0809 
0806 060e 0000 0000 0000 0000 00007b0 0a09 0809 0a08 060a 0000 0000 0000 0000

 -- Package-specific info: ** Version: Linux version 2.6.30-1-686-bigmem 
(Debian 2.6.30-6) (waldi@debian.org) (gcc version 4.3.4 (Debian 4.3.4-1) ) #1 
SMP Sat Aug 15 20:10:47 UTC 2009

The bugreport can be found on

http://bugzilla.kernel.org/show_bug.cgi?id=14036

With best regards

Alfred Egger
