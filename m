Return-path: <video4linux-list-bounces@redhat.com>
Received: from mx1.redhat.com (ext-mx10.extmail.prod.ext.phx2.redhat.com
	[10.5.110.14])
	by int-mx04.intmail.prod.int.phx2.redhat.com (8.13.8/8.13.8) with ESMTP
	id nAC5o10C007358
	for <video4linux-list@redhat.com>; Thu, 12 Nov 2009 00:50:01 -0500
Received: from mail01.idc.renesas.com (mail.renesas.com [202.234.163.13])
	by mx1.redhat.com (8.13.8/8.13.8) with ESMTP id nAC5o01Q027562
	for <video4linux-list@redhat.com>; Thu, 12 Nov 2009 00:50:01 -0500
Date: Thu, 12 Nov 2009 14:49:55 +0900
From: Kuninori Morimoto <morimoto.kuninori@renesas.com>
To: Guennadi <g.liakhovetski@gmx.de>
Message-id: <uws1wcmws.wl%morimoto.kuninori@renesas.com>
MIME-version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-type: text/plain; charset=US-ASCII
Cc: V4L-Linux <video4linux-list@redhat.com>
Subject: [PATCH 2/2] soc-camera: tw9910: use V4L2_FIELD_INTERLACED_BT
List-Unsubscribe: <https://www.redhat.com/mailman/listinfo/video4linux-list>,
	<mailto:video4linux-list-request@redhat.com?subject=unsubscribe>
List-Archive: <https://www.redhat.com/mailman/private/video4linux-list>
List-Post: <mailto:video4linux-list@redhat.com>
List-Help: <mailto:video4linux-list-request@redhat.com?subject=help>
List-Subscribe: <https://www.redhat.com/mailman/listinfo/video4linux-list>,
	<mailto:video4linux-list-request@redhat.com?subject=subscribe>
Sender: video4linux-list-bounces@redhat.com
Errors-To: video4linux-list-bounces@redhat.com
List-ID: <video4linux-list@redhat.com>

tw9910 output is interlaced and its correct order is Bottom - Top

Signed-off-by: Kuninori Morimoto <morimoto.kuninori@renesas.com>
---
 drivers/media/video/tw9910.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/media/video/tw9910.c b/drivers/media/video/tw9910.c
index 3697833..4bd12e5 100644
--- a/drivers/media/video/tw9910.c
+++ b/drivers/media/video/tw9910.c
@@ -767,7 +767,7 @@ static int tw9910_g_fmt(struct v4l2_subdev *sd,
 	imgf->width	= priv->scale->width;
 	imgf->height	= priv->scale->height;
 	imgf->code	= V4L2_IMGBUS_FMT_UYVY;
-	imgf->field	= V4L2_FIELD_INTERLACED;
+	imgf->field	= V4L2_FIELD_INTERLACED_BT;
 
 	return 0;
 }
@@ -789,7 +789,7 @@ static int tw9910_s_fmt(struct v4l2_subdev *sd,
 	int i, ret;
 
 	WARN_ON(imgf->field != V4L2_FIELD_ANY &&
-		imgf->field != V4L2_FIELD_INTERLACED);
+		imgf->field != V4L2_FIELD_INTERLACED_BT);
 
 	/*
 	 * check color format
@@ -817,8 +817,8 @@ static int tw9910_try_fmt(struct v4l2_subdev *sd,
 	const struct tw9910_scale_ctrl *scale;
 
 	if (V4L2_FIELD_ANY == imgf->field) {
-		imgf->field = V4L2_FIELD_INTERLACED;
-	} else if (V4L2_FIELD_INTERLACED != imgf->field) {
+		imgf->field = V4L2_FIELD_INTERLACED_BT;
+	} else if (V4L2_FIELD_INTERLACED_BT != imgf->field) {
 		dev_err(&client->dev, "Field type %d invalid.\n", imgf->field);
 		return -EINVAL;
 	}
-- 
1.6.3.3

--
video4linux-list mailing list
Unsubscribe mailto:video4linux-list-request@redhat.com?subject=unsubscribe
https://www.redhat.com/mailman/listinfo/video4linux-list
