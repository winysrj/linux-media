Return-path: <linux-media-owner@vger.kernel.org>
Received: from smtpout13.poczta.onet.pl ([213.180.147.173]:53847 "EHLO
	smtpout13.poczta.onet.pl" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1751895Ab0GXRAQ (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Sat, 24 Jul 2010 13:00:16 -0400
Received: from pmq4.m5r2.onet ([10.174.32.84]:60641 "EHLO pmq4.m5r2.onet"
	rhost-flags-OK-OK-OK-OK) by ps5.m5r2.onet with ESMTP
	id S134218219Ab0GXQpMvxtG9 (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Sat, 24 Jul 2010 18:45:12 +0200
Date: Sat, 24 Jul 2010 18:45:12 +0200
From: vvvl@onet.pl
To: linux-media@vger.kernel.org
Subject: cx23885: Unknown symbol __ir_input_register
Message-Id: <Q8994360-053833478ce51cd1e8a0a45c0f796b50@pmq4.m5r2.onet.test.onet.pl>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="=-mIvPlKJEbTrRfZ5RXUCo"
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

--=-mIvPlKJEbTrRfZ5RXUCo
Content-Type: text/plain; charset=iso-8859-2
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

with linux-2.6.34-gentoo-r1 and V4L/DVB repository of July 24 I get these e=
rrors:
cx23885: Unknown symbol __ir_input_register
cx23885: Unknown symbol get_rc_map

My card is Compro Videomate E600F and i try to get it work with changes att=
ached in diff.txt file.
On linux-2.6.33-gentoo-r2 it works without any problems.

Thanks for any help
Marek


--=-mIvPlKJEbTrRfZ5RXUCo
Content-Type: text/plain; name="diff.txt"
Content-Disposition: attachment; filename="diff.txt"
Content-Transfer-Encoding: base64

ZGlmZiAtciAtTiAtVSAyIGNsZWFuXzI0LjA3LjIwMTAvdjRsLWR2Yi9saW51eC9kcml2ZXJzL21l
ZGlhL3ZpZGVvL2N4MjM4ODUvY3gyMzg4NS1hbHNhLmMgMi42LjM0L3Y0bC1kdmIvbGludXgvZHJp
dmVycy9tZWRpYS92aWRlby9jeDIzODg1L2N4MjM4ODUtYWxzYS5jCi0tLSBjbGVhbl8yNC4wNy4y
MDEwL3Y0bC1kdmIvbGludXgvZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L2N4MjM4ODUtYWxz
YS5jCTE5NzAtMDEtMDEgMDE6MDA6MDAuMDAwMDAwMDAwICswMTAwCisrKyAyLjYuMzQvdjRsLWR2
Yi9saW51eC9kcml2ZXJzL21lZGlhL3ZpZGVvL2N4MjM4ODUvY3gyMzg4NS1hbHNhLmMJMjAxMC0w
MS0wMiAxNzo0MjozMy4wMDAwMDAwMDAgKzAxMDAKQEAgLTAsMCArMSw1NDUgQEAKKy8qCisgKgor
ICogIFN1cHBvcnQgZm9yIENYMjM4ODUgYW5hbG9nIGF1ZGlvIGNhcHR1cmUKKyAqCisgKiAgICAo
YykgMjAwOCBNaWpoYWlsIE1vcmV5cmEgPG1pamhhaWwubW9yZXlyYUBnbWFpbC5jb20+CisgKiAg
ICBBZGFwdGVkIGZyb20gY3g4OC1hbHNhLmMKKyAqCisgKiAgVGhpcyBwcm9ncmFtIGlzIGZyZWUg
c29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKKyAqICBpdCB1
bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxp
c2hlZCBieQorICogIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9u
IDIgb2YgdGhlIExpY2Vuc2UsIG9yCisgKiAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVy
c2lvbi4KKyAqCisgKiAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRo
YXQgaXQgd2lsbCBiZSB1c2VmdWwsCisgKiAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRo
b3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyAqICBNRVJDSEFOVEFCSUxJVFkgb3Ig
RklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCisgKiAgR05VIEdlbmVy
YWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KKyAqCisgKiAgWW91IHNob3VsZCBo
YXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKKyAq
ICBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0
d2FyZQorICogIEZvdW5kYXRpb24sIEluYy4sIDY3NSBNYXNzIEF2ZSwgQ2FtYnJpZGdlLCBNQSAw
MjEzOSwgVVNBLgorICovCisKKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRlIDxs
aW51eC9pbml0Lmg+CisjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+CisjaW5jbHVkZSA8bGludXgv
aW50ZXJydXB0Lmg+CisjaW5jbHVkZSA8bGludXgvdm1hbGxvYy5oPgorI2luY2x1ZGUgPGxpbnV4
L2RtYS1tYXBwaW5nLmg+CisjaW5jbHVkZSA8bGludXgvcGNpLmg+CisKKyNpbmNsdWRlIDxhc20v
ZGVsYXkuaD4KKyNpbmNsdWRlICJjb21wYXQuaCIKKyNpbmNsdWRlIDxzb3VuZC9jb3JlLmg+Cisj
aW5jbHVkZSA8c291bmQvcGNtLmg+CisjaW5jbHVkZSA8c291bmQvcGNtX3BhcmFtcy5oPgorI2lu
Y2x1ZGUgPHNvdW5kL2NvbnRyb2wuaD4KKyNpbmNsdWRlIDxzb3VuZC9pbml0dmFsLmg+CisjaWYg
TElOVVhfVkVSU0lPTl9DT0RFID49IEtFUk5FTF9WRVJTSU9OKDIsIDYsIDE5KQorI2luY2x1ZGUg
PHNvdW5kL3Rsdi5oPgorI2VuZGlmCisKKyNpbmNsdWRlICJjeDIzODg1LmgiCisjaW5jbHVkZSAi
Y3gyMzg4NS1yZWcuaCIKKworI2RlZmluZSBBVURJT19TUkFNX0NIQU5ORUwJU1JBTV9DSDA3CisK
KyNkZWZpbmUgZHByaW50ayhsZXZlbCwgZm10LCBhcmcuLi4pCWlmIChhdWRpb19kZWJ1ZyA+PSBs
ZXZlbCkgXAorCXByaW50ayhLRVJOX0lORk8gIiVzLzE6ICIgZm10LCBjaGlwLT5kZXYtPm5hbWUg
LCAjIyBhcmcpCisKKyNkZWZpbmUgZHByaW50a19jb3JlKGxldmVsLCBmbXQsIGFyZy4uLikJaWYg
KGF1ZGlvX2RlYnVnID49IGxldmVsKSBcCisJcHJpbnRrKEtFUk5fREVCVUcgIiVzLzE6ICIgZm10
LCBjaGlwLT5kZXYtPm5hbWUgLCAjIyBhcmcpCisKKy8qKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisJCQlN
b2R1bGUgZ2xvYmFsIHN0YXRpYyB2YXJzCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KKworc3RhdGlj
IHVuc2lnbmVkIGludCBkaXNhYmxlX2FuYWxvZ19hdWRpbzsKK21vZHVsZV9wYXJhbShkaXNhYmxl
X2FuYWxvZ19hdWRpbywgaW50LCAwNjQ0KTsKK01PRFVMRV9QQVJNX0RFU0MoZGlzYWJsZV9hbmFs
b2dfYXVkaW8sICJkaXNhYmxlIGFuYWxvZyBhdWRpbyBBTFNBIGRyaXZlciIpOworCitzdGF0aWMg
dW5zaWduZWQgaW50IGF1ZGlvX2RlYnVnOworbW9kdWxlX3BhcmFtKGF1ZGlvX2RlYnVnLCBpbnQs
IDA2NDQpOworTU9EVUxFX1BBUk1fREVTQyhhdWRpb19kZWJ1ZywgImVuYWJsZSBkZWJ1ZyBtZXNz
YWdlcyBbYW5hbG9nIGF1ZGlvXSIpOworCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorCQkJQm9hcmQg
c3BlY2lmaWMgZnVudGlvbnMKKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworCisvKiBDb25zdGFudHMg
dGFrZW4gZnJvbSBjeDg4LXJlZy5oICovCisjZGVmaW5lIEFVRF9JTlRfRE5fUklTQ0kxICAgICAg
ICgxIDw8ICAwKQorI2RlZmluZSBBVURfSU5UX1VQX1JJU0NJMSAgICAgICAoMSA8PCAgMSkKKyNk
ZWZpbmUgQVVEX0lOVF9SRFNfRE5fUklTQ0kxICAgKDEgPDwgIDIpCisjZGVmaW5lIEFVRF9JTlRf
RE5fUklTQ0kyICAgICAgICgxIDw8ICA0KSAvKiB5ZXMsIDMgaXMgc2tpcHBlZCAqLworI2RlZmlu
ZSBBVURfSU5UX1VQX1JJU0NJMiAgICAgICAoMSA8PCAgNSkKKyNkZWZpbmUgQVVEX0lOVF9SRFNf
RE5fUklTQ0kyICAgKDEgPDwgIDYpCisjZGVmaW5lIEFVRF9JTlRfRE5fU1lOQyAgICAgICAgICgx
IDw8IDEyKQorI2RlZmluZSBBVURfSU5UX1VQX1NZTkMgICAgICAgICAoMSA8PCAxMykKKyNkZWZp
bmUgQVVEX0lOVF9SRFNfRE5fU1lOQyAgICAgKDEgPDwgMTQpCisjZGVmaW5lIEFVRF9JTlRfT1BD
X0VSUiAgICAgICAgICgxIDw8IDE2KQorI2RlZmluZSBBVURfSU5UX0JFUl9JUlEgICAgICAgICAo
MSA8PCAyMCkKKyNkZWZpbmUgQVVEX0lOVF9NQ0hHX0lSUSAgICAgICAgKDEgPDwgMjEpCisjZGVm
aW5lIEdQX0NPVU5UX0NPTlRST0xfUkVTRVQJMHgzCisKKy8qCisgKiBCT0FSRCBTcGVjaWZpYzog
U2V0cyBhdWRpbyBETUEKKyAqLworCitzdGF0aWMgaW50IGN4MjM4ODVfc3RhcnRfYXVkaW9fZG1h
KHN0cnVjdCBjeDIzODg1X2F1ZGlvX2RldiAqY2hpcCkKK3sKKwlzdHJ1Y3QgY3gyMzg4NV9idWZm
ZXIgKmJ1ZiA9IGNoaXAtPmJ1ZjsKKwlzdHJ1Y3QgY3gyMzg4NV9kZXYgKmRldiAgPSBjaGlwLT5k
ZXY7CisJc3RydWN0IHNyYW1fY2hhbm5lbCAqYXVkaW9fY2ggPQorCQkmZGV2LT5zcmFtX2NoYW5u
ZWxzW0FVRElPX1NSQU1fQ0hBTk5FTF07CisKKwlkcHJpbnRrKDEsICIlcygpXG4iLCBfX2Z1bmNf
Xyk7CisKKwkvKiBNYWtlIHN1cmUgUklTQy9GSUZPIGFyZSBvZmYgYmVmb3JlIGNoYW5naW5nIEZJ
Rk8vUklTQyBzZXR0aW5ncyAqLworCWN4X2NsZWFyKEFVRF9JTlRfRE1BX0NUTCwgMHgxMSk7CisK
KwkvKiBzZXR1cCBmaWZvICsgZm9ybWF0IC0gb3V0IGNoYW5uZWwgKi8KKwljeDIzODg1X3NyYW1f
Y2hhbm5lbF9zZXR1cChjaGlwLT5kZXYsIGF1ZGlvX2NoLCBidWYtPmJwbCwKKwkJYnVmLT5yaXNj
LmRtYSk7CisKKwkvKiBzZXRzIGJwbCBzaXplICovCisJY3hfd3JpdGUoQVVEX0lOVF9BX0xOR1RI
LCBidWYtPmJwbCk7CisKKwkvKiBUaGlzIGlzIHJlcXVpcmVkIHRvIGdldCBnb29kIGF1ZGlvICgx
IHNlZW1zIHRvIGJlIG9rKSAqLworCWN4X3dyaXRlKEFVRF9JTlRfQV9NT0RFLCAxKTsKKworCS8q
IHJlc2V0IGNvdW50ZXIgKi8KKwljeF93cml0ZShBVURfSU5UX0FfR1BDTlRfQ1RMLCBHUF9DT1VO
VF9DT05UUk9MX1JFU0VUKTsKKwlhdG9taWNfc2V0KCZjaGlwLT5jb3VudCwgMCk7CisKKwlkcHJp
bnRrKDEsICJTdGFydCBhdWRpbyBETUEsICVkIEIvbGluZSwgJWQgbGluZXMvRklGTywgJWQgcGVy
aW9kcywgJWQgIgorCQkiYnl0ZSBidWZmZXJcbiIsIGJ1Zi0+YnBsLCBjeF9yZWFkKGF1ZGlvX2No
LT5jbWRzX3N0YXJ0KzEyKT4+MSwKKwkJY2hpcC0+bnVtX3BlcmlvZHMsIGJ1Zi0+YnBsICogY2hp
cC0+bnVtX3BlcmlvZHMpOworCisJLyogRW5hYmxlcyBjb3JyZXNwb25kaW5nIGJpdHMgYXQgQVVE
X0lOVF9TVEFUICovCisJY3hfd3JpdGUoQVVESU9fSU5UX0lOVF9NU0ssIEFVRF9JTlRfT1BDX0VS
UiB8IEFVRF9JTlRfRE5fU1lOQyB8CisJCQkJICAgIEFVRF9JTlRfRE5fUklTQ0kxKTsKKworCS8q
IENsZWFuIGFueSBwZW5kaW5nIGludGVycnVwdCBiaXRzIGFscmVhZHkgc2V0ICovCisJY3hfd3Jp
dGUoQVVESU9fSU5UX0lOVF9TVEFULCB+MCk7CisKKwkvKiBlbmFibGUgYXVkaW8gaXJxcyAqLwor
CWN4X3NldChQQ0lfSU5UX01TSywgY2hpcC0+ZGV2LT5wY2lfaXJxbWFzayB8IFBDSV9NU0tfQVVE
X0lOVCk7CisKKwkvKiBzdGFydCBkbWEgKi8KKwljeF9zZXQoREVWX0NOVFJMMiwgKDE8PDUpKTsg
LyogRW5hYmxlcyBSaXNjIFByb2Nlc3NvciAqLworCWN4X3NldChBVURfSU5UX0RNQV9DVEwsIDB4
MTEpOyAvKiBhdWRpbyBkb3duc3RyZWFtIEZJRk8gYW5kCisJCQkJCSAgUklTQyBlbmFibGUgKi8K
KwlpZiAoYXVkaW9fZGVidWcpCisJCWN4MjM4ODVfc3JhbV9jaGFubmVsX2R1bXAoY2hpcC0+ZGV2
LCBhdWRpb19jaCk7CisKKwlyZXR1cm4gMDsKK30KKworLyoKKyAqIEJPQVJEIFNwZWNpZmljOiBS
ZXNldHMgYXVkaW8gRE1BCisgKi8KK3N0YXRpYyBpbnQgY3gyMzg4NV9zdG9wX2F1ZGlvX2RtYShz
dHJ1Y3QgY3gyMzg4NV9hdWRpb19kZXYgKmNoaXApCit7CisJc3RydWN0IGN4MjM4ODVfZGV2ICpk
ZXYgPSBjaGlwLT5kZXY7CisJZHByaW50aygxLCAiU3RvcHBpbmcgYXVkaW8gRE1BXG4iKTsKKwor
CS8qIHN0b3AgZG1hICovCisJY3hfY2xlYXIoQVVEX0lOVF9ETUFfQ1RMLCAweDExKTsKKworCS8q
IGRpc2FibGUgaXJxcyAqLworCWN4X2NsZWFyKFBDSV9JTlRfTVNLLCBQQ0lfTVNLX0FVRF9JTlQp
OworCWN4X2NsZWFyKEFVRElPX0lOVF9JTlRfTVNLLCBBVURfSU5UX09QQ19FUlIgfCBBVURfSU5U
X0ROX1NZTkMgfAorCQkJCSAgICBBVURfSU5UX0ROX1JJU0NJMSk7CisKKwlpZiAoYXVkaW9fZGVi
dWcpCisJCWN4MjM4ODVfc3JhbV9jaGFubmVsX2R1bXAoY2hpcC0+ZGV2LAorCQkJJmRldi0+c3Jh
bV9jaGFubmVsc1tBVURJT19TUkFNX0NIQU5ORUxdKTsKKworCXJldHVybiAwOworfQorCisvKgor
ICogQk9BUkQgU3BlY2lmaWM6IEhhbmRsZXMgYXVkaW8gSVJRCisgKi8KK2ludCBjeDIzODg1X2F1
ZGlvX2lycShzdHJ1Y3QgY3gyMzg4NV9kZXYgKmRldiwgdTMyIHN0YXR1cywgdTMyIG1hc2spCit7
CisJc3RydWN0IGN4MjM4ODVfYXVkaW9fZGV2ICpjaGlwID0gZGV2LT5hdWRpb19kZXY7CisKKwlp
ZiAoMCA9PSAoc3RhdHVzICYgbWFzaykpCisJCXJldHVybiAwOworCisJY3hfd3JpdGUoQVVESU9f
SU5UX0lOVF9TVEFULCBzdGF0dXMpOworCisJLyogcmlzYyBvcCBjb2RlIGVycm9yICovCisJaWYg
KHN0YXR1cyAmIEFVRF9JTlRfT1BDX0VSUikgeworCQlwcmludGsoS0VSTl9XQVJOSU5HICIlcy8x
OiBBdWRpbyByaXNjIG9wIGNvZGUgZXJyb3JcbiIsCisJCQlkZXYtPm5hbWUpOworCQljeF9jbGVh
cihBVURfSU5UX0RNQV9DVEwsIDB4MTEpOworCQljeDIzODg1X3NyYW1fY2hhbm5lbF9kdW1wKGRl
diwKKwkJCSZkZXYtPnNyYW1fY2hhbm5lbHNbQVVESU9fU1JBTV9DSEFOTkVMXSk7CisJfQorCWlm
IChzdGF0dXMgJiBBVURfSU5UX0ROX1NZTkMpIHsKKwkJZHByaW50aygxLCAiRG93bnN0cmVhbSBz
eW5jIGVycm9yXG4iKTsKKwkJY3hfd3JpdGUoQVVEX0lOVF9BX0dQQ05UX0NUTCwgR1BfQ09VTlRf
Q09OVFJPTF9SRVNFVCk7CisJCXJldHVybiAxOworCX0KKwkvKiByaXNjMSBkb3duc3RyZWFtICov
CisJaWYgKHN0YXR1cyAmIEFVRF9JTlRfRE5fUklTQ0kxKSB7CisJCWF0b21pY19zZXQoJmNoaXAt
PmNvdW50LCBjeF9yZWFkKEFVRF9JTlRfQV9HUENOVCkpOworCQlzbmRfcGNtX3BlcmlvZF9lbGFw
c2VkKGNoaXAtPnN1YnN0cmVhbSk7CisJfQorCS8qIEZJWE1FOiBBbnkgb3RoZXIgc3RhdHVzIHNo
b3VsZCBkZXNlcnZlIGEgc3BlY2lhbCBoYW5kbGluZz8gKi8KKworCXJldHVybiAxOworfQorCitz
dGF0aWMgaW50IGRzcF9idWZmZXJfZnJlZShzdHJ1Y3QgY3gyMzg4NV9hdWRpb19kZXYgKmNoaXAp
Cit7CisJQlVHX09OKCFjaGlwLT5kbWFfc2l6ZSk7CisKKwlkcHJpbnRrKDIsICJGcmVlaW5nIGJ1
ZmZlclxuIik7CisJdmlkZW9idWZfc2dfZG1hX3VubWFwKCZjaGlwLT5wY2ktPmRldiwgY2hpcC0+
ZG1hX3Jpc2MpOworCXZpZGVvYnVmX2RtYV9mcmVlKGNoaXAtPmRtYV9yaXNjKTsKKwlidGN4X3Jp
c2NtZW1fZnJlZShjaGlwLT5wY2ksICZjaGlwLT5idWYtPnJpc2MpOworCWtmcmVlKGNoaXAtPmJ1
Zik7CisKKwljaGlwLT5kbWFfcmlzYyA9IE5VTEw7CisJY2hpcC0+ZG1hX3NpemUgPSAwOworCisJ
cmV0dXJuIDA7Cit9CisKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisJCQkJQUxTQSBQQ00gSW50ZXJm
YWNlCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKi8KKworLyoKKyAqIERpZ2l0YWwgaGFyZHdhcmUgZGVm
aW5pdGlvbgorICovCisjZGVmaW5lIERFRkFVTFRfRklGT19TSVpFCTQwOTYKKworc3RhdGljIHN0
cnVjdCBzbmRfcGNtX2hhcmR3YXJlIHNuZF9jeDIzODg1X2RpZ2l0YWxfaHcgPSB7CisJLmluZm8g
PSBTTkRSVl9QQ01fSU5GT19NTUFQIHwKKwkJU05EUlZfUENNX0lORk9fSU5URVJMRUFWRUQgfAor
CQlTTkRSVl9QQ01fSU5GT19CTE9DS19UUkFOU0ZFUiB8CisJCVNORFJWX1BDTV9JTkZPX01NQVBf
VkFMSUQsCisJLmZvcm1hdHMgPSBTTkRSVl9QQ01fRk1UQklUX1MxNl9MRSwKKworCS5yYXRlcyA9
CQlTTkRSVl9QQ01fUkFURV80ODAwMCwKKwkucmF0ZV9taW4gPQkJNDgwMDAsCisJLnJhdGVfbWF4
ID0JCTQ4MDAwLAorCS5jaGFubmVsc19taW4gPSAyLAorCS5jaGFubmVsc19tYXggPSAyLAorCS8q
IEFuYWxvZyBhdWRpbyBvdXRwdXQgd2lsbCBiZSBmdWxsIG9mIGNsaWNrcyBhbmQgcG9wcyBpZiB0
aGVyZQorCSAgIGFyZSBub3QgZXhhY3RseSBmb3VyIGxpbmVzIGluIHRoZSBTUkFNIEZJRk8gYnVm
ZmVyLiAgKi8KKwkucGVyaW9kX2J5dGVzX21pbiA9IERFRkFVTFRfRklGT19TSVpFLzQsCisJLnBl
cmlvZF9ieXRlc19tYXggPSBERUZBVUxUX0ZJRk9fU0laRS80LAorCS5wZXJpb2RzX21pbiA9IDEs
CisJLnBlcmlvZHNfbWF4ID0gMTAyNCwKKwkuYnVmZmVyX2J5dGVzX21heCA9ICgxMDI0KjEwMjQp
LAorfTsKKworLyoKKyAqIGF1ZGlvIHBjbSBjYXB0dXJlIG9wZW4gY2FsbGJhY2sKKyAqLworc3Rh
dGljIGludCBzbmRfY3gyMzg4NV9wY21fb3BlbihzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0gKnN1
YnN0cmVhbSkKK3sKKwlzdHJ1Y3QgY3gyMzg4NV9hdWRpb19kZXYgKmNoaXAgPSBzbmRfcGNtX3N1
YnN0cmVhbV9jaGlwKHN1YnN0cmVhbSk7CisJc3RydWN0IHNuZF9wY21fcnVudGltZSAqcnVudGlt
ZSA9IHN1YnN0cmVhbS0+cnVudGltZTsKKwlpbnQgZXJyOworCisJaWYgKCFjaGlwKSB7CisJCXBy
aW50ayhLRVJOX0VSUiAiQlVHOiBjeDIzODg1IGNhbid0IGZpbmQgZGV2aWNlIHN0cnVjdC4iCisJ
CQkJIiBDYW4ndCBwcm9jZWVkIHdpdGggb3BlblxuIik7CisJCXJldHVybiAtRU5PREVWOworCX0K
KworCWVyciA9IHNuZF9wY21faHdfY29uc3RyYWludF9wb3cyKHJ1bnRpbWUsIDAsCisJCVNORFJW
X1BDTV9IV19QQVJBTV9QRVJJT0RTKTsKKwlpZiAoZXJyIDwgMCkKKwkJZ290byBfZXJyb3I7CisK
KwljaGlwLT5zdWJzdHJlYW0gPSBzdWJzdHJlYW07CisKKwlydW50aW1lLT5odyA9IHNuZF9jeDIz
ODg1X2RpZ2l0YWxfaHc7CisKKwlpZiAoY2hpcC0+ZGV2LT5zcmFtX2NoYW5uZWxzW0FVRElPX1NS
QU1fQ0hBTk5FTF0uZmlmb19zaXplICE9CisJCURFRkFVTFRfRklGT19TSVpFKSB7CisJCXVuc2ln
bmVkIGludCBicGwgPSBjaGlwLT5kZXYtPgorCQkJc3JhbV9jaGFubmVsc1tBVURJT19TUkFNX0NI
QU5ORUxdLmZpZm9fc2l6ZSAvIDQ7CisJCWJwbCAmPSB+NzsgLyogbXVzdCBiZSBtdWx0aXBsZSBv
ZiA4ICovCisJCXJ1bnRpbWUtPmh3LnBlcmlvZF9ieXRlc19taW4gPSBicGw7CisJCXJ1bnRpbWUt
Pmh3LnBlcmlvZF9ieXRlc19tYXggPSBicGw7CisJfQorCisJcmV0dXJuIDA7CitfZXJyb3I6CisJ
ZHByaW50aygxLCAiRXJyb3Igb3BlbmluZyBQQ00hXG4iKTsKKwlyZXR1cm4gZXJyOworfQorCisv
KgorICogYXVkaW8gY2xvc2UgY2FsbGJhY2sKKyAqLworc3RhdGljIGludCBzbmRfY3gyMzg4NV9j
bG9zZShzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0gKnN1YnN0cmVhbSkKK3sKKwlyZXR1cm4gMDsK
K30KKworLyoKKyAqIGh3X3BhcmFtcyBjYWxsYmFjaworICovCitzdGF0aWMgaW50IHNuZF9jeDIz
ODg1X2h3X3BhcmFtcyhzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0gKnN1YnN0cmVhbSwKKwkJCSAg
ICAgIHN0cnVjdCBzbmRfcGNtX2h3X3BhcmFtcyAqaHdfcGFyYW1zKQoreworCXN0cnVjdCBjeDIz
ODg1X2F1ZGlvX2RldiAqY2hpcCA9IHNuZF9wY21fc3Vic3RyZWFtX2NoaXAoc3Vic3RyZWFtKTsK
KwlzdHJ1Y3QgdmlkZW9idWZfZG1hYnVmICpkbWE7CisKKwlzdHJ1Y3QgY3gyMzg4NV9idWZmZXIg
KmJ1ZjsKKwlpbnQgcmV0OworCisJaWYgKHN1YnN0cmVhbS0+cnVudGltZS0+ZG1hX2FyZWEpIHsK
KwkJZHNwX2J1ZmZlcl9mcmVlKGNoaXApOworCQlzdWJzdHJlYW0tPnJ1bnRpbWUtPmRtYV9hcmVh
ID0gTlVMTDsKKwl9CisKKwljaGlwLT5wZXJpb2Rfc2l6ZSA9IHBhcmFtc19wZXJpb2RfYnl0ZXMo
aHdfcGFyYW1zKTsKKwljaGlwLT5udW1fcGVyaW9kcyA9IHBhcmFtc19wZXJpb2RzKGh3X3BhcmFt
cyk7CisJY2hpcC0+ZG1hX3NpemUgPSBjaGlwLT5wZXJpb2Rfc2l6ZSAqIHBhcmFtc19wZXJpb2Rz
KGh3X3BhcmFtcyk7CisKKwlCVUdfT04oIWNoaXAtPmRtYV9zaXplKTsKKwlCVUdfT04oY2hpcC0+
bnVtX3BlcmlvZHMgJiAoY2hpcC0+bnVtX3BlcmlvZHMtMSkpOworCisJYnVmID0gdmlkZW9idWZf
c2dfYWxsb2Moc2l6ZW9mKCpidWYpKTsKKwlpZiAoTlVMTCA9PSBidWYpCisJCXJldHVybiAtRU5P
TUVNOworCisJYnVmLT52Yi5tZW1vcnkgPSBWNEwyX01FTU9SWV9NTUFQOworCWJ1Zi0+dmIuZmll
bGQgID0gVjRMMl9GSUVMRF9OT05FOworCWJ1Zi0+dmIud2lkdGggID0gY2hpcC0+cGVyaW9kX3Np
emU7CisJYnVmLT5icGwgICAgICAgPSBjaGlwLT5wZXJpb2Rfc2l6ZTsKKwlidWYtPnZiLmhlaWdo
dCA9IGNoaXAtPm51bV9wZXJpb2RzOworCWJ1Zi0+dmIuc2l6ZSAgID0gY2hpcC0+ZG1hX3NpemU7
CisKKwlkbWEgPSB2aWRlb2J1Zl90b19kbWEoJmJ1Zi0+dmIpOworCXZpZGVvYnVmX2RtYV9pbml0
KGRtYSk7CisJcmV0ID0gdmlkZW9idWZfZG1hX2luaXRfa2VybmVsKGRtYSwgUENJX0RNQV9GUk9N
REVWSUNFLAorCQkJKFBBR0VfQUxJR04oYnVmLT52Yi5zaXplKSA+PiBQQUdFX1NISUZUKSk7CisJ
aWYgKHJldCA8IDApCisJCWdvdG8gZXJyb3I7CisKKwlyZXQgPSB2aWRlb2J1Zl9zZ19kbWFfbWFw
KCZjaGlwLT5wY2ktPmRldiwgZG1hKTsKKwlpZiAocmV0IDwgMCkKKwkJZ290byBlcnJvcjsKKwor
CXJldCA9IGN4MjM4ODVfcmlzY19kYXRhYnVmZmVyKGNoaXAtPnBjaSwgJmJ1Zi0+cmlzYywgZG1h
LT5zZ2xpc3QsCisJCQkJICAgYnVmLT52Yi53aWR0aCwgYnVmLT52Yi5oZWlnaHQsIDEpOworCWlm
IChyZXQgPCAwKQorCQlnb3RvIGVycm9yOworCisJLyogTG9vcCBiYWNrIHRvIHN0YXJ0IG9mIHBy
b2dyYW0gKi8KKwlidWYtPnJpc2Muam1wWzBdID0gY3B1X3RvX2xlMzIoUklTQ19KVU1QfFJJU0Nf
SVJRMXxSSVNDX0NOVF9JTkMpOworCWJ1Zi0+cmlzYy5qbXBbMV0gPSBjcHVfdG9fbGUzMihidWYt
PnJpc2MuZG1hKTsKKwlidWYtPnJpc2Muam1wWzJdID0gY3B1X3RvX2xlMzIoMCk7IC8qIGJpdHMg
NjMtMzIgKi8KKworCWJ1Zi0+dmIuc3RhdGUgPSBWSURFT0JVRl9QUkVQQVJFRDsKKworCWNoaXAt
PmJ1ZiA9IGJ1ZjsKKwljaGlwLT5kbWFfcmlzYyA9IGRtYTsKKworCXN1YnN0cmVhbS0+cnVudGlt
ZS0+ZG1hX2FyZWEgPSBjaGlwLT5kbWFfcmlzYy0+dm1hbGxvYzsKKwlzdWJzdHJlYW0tPnJ1bnRp
bWUtPmRtYV9ieXRlcyA9IGNoaXAtPmRtYV9zaXplOworCXN1YnN0cmVhbS0+cnVudGltZS0+ZG1h
X2FkZHIgPSAwOworCisJcmV0dXJuIDA7CisKK2Vycm9yOgorCWtmcmVlKGJ1Zik7CisJcmV0dXJu
IHJldDsKK30KKworLyoKKyAqIGh3IGZyZWUgY2FsbGJhY2sKKyAqLworc3RhdGljIGludCBzbmRf
Y3gyMzg4NV9od19mcmVlKHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVhbSAqc3Vic3RyZWFtKQorewor
CisJc3RydWN0IGN4MjM4ODVfYXVkaW9fZGV2ICpjaGlwID0gc25kX3BjbV9zdWJzdHJlYW1fY2hp
cChzdWJzdHJlYW0pOworCisJaWYgKHN1YnN0cmVhbS0+cnVudGltZS0+ZG1hX2FyZWEpIHsKKwkJ
ZHNwX2J1ZmZlcl9mcmVlKGNoaXApOworCQlzdWJzdHJlYW0tPnJ1bnRpbWUtPmRtYV9hcmVhID0g
TlVMTDsKKwl9CisKKwlyZXR1cm4gMDsKK30KKworLyoKKyAqIHByZXBhcmUgY2FsbGJhY2sKKyAq
Lworc3RhdGljIGludCBzbmRfY3gyMzg4NV9wcmVwYXJlKHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVh
bSAqc3Vic3RyZWFtKQoreworCXJldHVybiAwOworfQorCisvKgorICogdHJpZ2dlciBjYWxsYmFj
aworICovCitzdGF0aWMgaW50IHNuZF9jeDIzODg1X2NhcmRfdHJpZ2dlcihzdHJ1Y3Qgc25kX3Bj
bV9zdWJzdHJlYW0gKnN1YnN0cmVhbSwKKwlpbnQgY21kKQoreworCXN0cnVjdCBjeDIzODg1X2F1
ZGlvX2RldiAqY2hpcCA9IHNuZF9wY21fc3Vic3RyZWFtX2NoaXAoc3Vic3RyZWFtKTsKKwlpbnQg
ZXJyOworCisJLyogTG9jYWwgaW50ZXJydXB0cyBhcmUgYWxyZWFkeSBkaXNhYmxlZCBieSBBTFNB
ICovCisJc3Bpbl9sb2NrKCZjaGlwLT5yZWdfbG9jayk7CisKKwlzd2l0Y2ggKGNtZCkgeworCWNh
c2UgU05EUlZfUENNX1RSSUdHRVJfU1RBUlQ6CisJCWVyciA9IGN4MjM4ODVfc3RhcnRfYXVkaW9f
ZG1hKGNoaXApOworCQlicmVhazsKKwljYXNlIFNORFJWX1BDTV9UUklHR0VSX1NUT1A6CisJCWVy
ciA9IGN4MjM4ODVfc3RvcF9hdWRpb19kbWEoY2hpcCk7CisJCWJyZWFrOworCWRlZmF1bHQ6CisJ
CWVyciA9IC1FSU5WQUw7CisJCWJyZWFrOworCX0KKworCXNwaW5fdW5sb2NrKCZjaGlwLT5yZWdf
bG9jayk7CisKKwlyZXR1cm4gZXJyOworfQorCisvKgorICogcG9pbnRlciBjYWxsYmFjaworICov
CitzdGF0aWMgc25kX3BjbV91ZnJhbWVzX3Qgc25kX2N4MjM4ODVfcG9pbnRlcigKKwlzdHJ1Y3Qg
c25kX3BjbV9zdWJzdHJlYW0gKnN1YnN0cmVhbSkKK3sKKwlzdHJ1Y3QgY3gyMzg4NV9hdWRpb19k
ZXYgKmNoaXAgPSBzbmRfcGNtX3N1YnN0cmVhbV9jaGlwKHN1YnN0cmVhbSk7CisJc3RydWN0IHNu
ZF9wY21fcnVudGltZSAqcnVudGltZSA9IHN1YnN0cmVhbS0+cnVudGltZTsKKwl1MTYgY291bnQ7
CisKKwljb3VudCA9IGF0b21pY19yZWFkKCZjaGlwLT5jb3VudCk7CisKKwlyZXR1cm4gcnVudGlt
ZS0+cGVyaW9kX3NpemUgKiAoY291bnQgJiAocnVudGltZS0+cGVyaW9kcy0xKSk7Cit9CisKKy8q
CisgKiBwYWdlIGNhbGxiYWNrIChuZWVkZWQgZm9yIG1tYXApCisgKi8KK3N0YXRpYyBzdHJ1Y3Qg
cGFnZSAqc25kX2N4MjM4ODVfcGFnZShzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0gKnN1YnN0cmVh
bSwKKwkJCQl1bnNpZ25lZCBsb25nIG9mZnNldCkKK3sKKwl2b2lkICpwYWdlcHRyID0gc3Vic3Ry
ZWFtLT5ydW50aW1lLT5kbWFfYXJlYSArIG9mZnNldDsKKwlyZXR1cm4gdm1hbGxvY190b19wYWdl
KHBhZ2VwdHIpOworfQorCisvKgorICogb3BlcmF0b3JzCisgKi8KK3N0YXRpYyBzdHJ1Y3Qgc25k
X3BjbV9vcHMgc25kX2N4MjM4ODVfcGNtX29wcyA9IHsKKwkub3BlbiA9IHNuZF9jeDIzODg1X3Bj
bV9vcGVuLAorCS5jbG9zZSA9IHNuZF9jeDIzODg1X2Nsb3NlLAorCS5pb2N0bCA9IHNuZF9wY21f
bGliX2lvY3RsLAorCS5od19wYXJhbXMgPSBzbmRfY3gyMzg4NV9od19wYXJhbXMsCisJLmh3X2Zy
ZWUgPSBzbmRfY3gyMzg4NV9od19mcmVlLAorCS5wcmVwYXJlID0gc25kX2N4MjM4ODVfcHJlcGFy
ZSwKKwkudHJpZ2dlciA9IHNuZF9jeDIzODg1X2NhcmRfdHJpZ2dlciwKKwkucG9pbnRlciA9IHNu
ZF9jeDIzODg1X3BvaW50ZXIsCisJLnBhZ2UgPSBzbmRfY3gyMzg4NV9wYWdlLAorfTsKKworLyoK
KyAqIGNyZWF0ZSBhIFBDTSBkZXZpY2UKKyAqLworc3RhdGljIGludCBzbmRfY3gyMzg4NV9wY20o
c3RydWN0IGN4MjM4ODVfYXVkaW9fZGV2ICpjaGlwLCBpbnQgZGV2aWNlLAorCWNoYXIgKm5hbWUp
Cit7CisJaW50IGVycjsKKwlzdHJ1Y3Qgc25kX3BjbSAqcGNtOworCisJZXJyID0gc25kX3BjbV9u
ZXcoY2hpcC0+Y2FyZCwgbmFtZSwgZGV2aWNlLCAwLCAxLCAmcGNtKTsKKwlpZiAoZXJyIDwgMCkK
KwkJcmV0dXJuIGVycjsKKwlwY20tPnByaXZhdGVfZGF0YSA9IGNoaXA7CisJc3RyY3B5KHBjbS0+
bmFtZSwgbmFtZSk7CisJc25kX3BjbV9zZXRfb3BzKHBjbSwgU05EUlZfUENNX1NUUkVBTV9DQVBU
VVJFLCAmc25kX2N4MjM4ODVfcGNtX29wcyk7CisKKwlyZXR1cm4gMDsKK30KKworLyoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioKKwkJCUJhc2ljIEZsb3cgZm9yIFNvdW5kIERldmljZXMKKyAqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqLworCisvKgorICogQWxzYSBDb25zdHJ1Y3RvciAtIENvbXBvbmVudCBwcm9iZQor
ICovCisKK3N0cnVjdCBjeDIzODg1X2F1ZGlvX2RldiAqY3gyMzg4NV9hdWRpb19pbml0ZGV2KHN0
cnVjdCBjeDIzODg1X2RldiAqZGV2KQoreworCXN0cnVjdCBzbmRfY2FyZCAqY2FyZDsKKwlzdHJ1
Y3QgY3gyMzg4NV9hdWRpb19kZXYgKmNoaXA7CisJaW50IGVycjsKKworCWlmIChkaXNhYmxlX2Fu
YWxvZ19hdWRpbykKKwkJcmV0dXJuIE5VTEw7CisKKwlpZiAoZGV2LT5zcmFtX2NoYW5uZWxzW0FV
RElPX1NSQU1fQ0hBTk5FTF0uY21kc19zdGFydCA9PSAwKSB7CisJCXByaW50ayhLRVJOX1dBUk5J
TkcgIiVzKCk6IE1pc3NpbmcgU1JBTSBjaGFubmVsIGNvbmZpZ3VyYXRpb24gIgorCQkJImZvciBh
bmFsb2cgVFYgQXVkaW9cbiIsIF9fZnVuY19fKTsKKwkJcmV0dXJuIE5VTEw7CisJfQorCisJZXJy
ID0gc25kX2NhcmRfY3JlYXRlKFNORFJWX0RFRkFVTFRfSURYMSwgU05EUlZfREVGQVVMVF9TVFIx
LAorCQkJICAgIFRISVNfTU9EVUxFLCBzaXplb2Yoc3RydWN0IGN4MjM4ODVfYXVkaW9fZGV2KSwg
JmNhcmQpOworCWlmIChlcnIgPCAwKQorCQlnb3RvIGVycm9yOworCisJaWYgKCFjYXJkKQorCQln
b3RvIGVycm9yOworCisJY2hpcCA9IChzdHJ1Y3QgY3gyMzg4NV9hdWRpb19kZXYgKikgY2FyZC0+
cHJpdmF0ZV9kYXRhOworCWNoaXAtPmRldiA9IGRldjsKKwljaGlwLT5wY2kgPSBkZXYtPnBjaTsK
KwljaGlwLT5jYXJkID0gY2FyZDsKKwlzcGluX2xvY2tfaW5pdCgmY2hpcC0+cmVnX2xvY2spOwor
CisJc25kX2NhcmRfc2V0X2RldihjYXJkLCAmZGV2LT5wY2ktPmRldik7CisKKwllcnIgPSBzbmRf
Y3gyMzg4NV9wY20oY2hpcCwgMCwgIkNYMjM4ODUgRGlnaXRhbCIpOworCWlmIChlcnIgPCAwKQor
CQlnb3RvIGVycm9yOworCisJc3RyY3B5KGNhcmQtPmRyaXZlciwgIkNYMjM4ODUiKTsKKwlzcHJp
bnRmKGNhcmQtPnNob3J0bmFtZSwgIkNvbmV4YW50IENYMjM4ODUiKTsKKwlzcHJpbnRmKGNhcmQt
PmxvbmduYW1lLCAiJXMgYXQgJXMiLCBjYXJkLT5zaG9ydG5hbWUsIGRldi0+bmFtZSk7CisKKwll
cnIgPSBzbmRfY2FyZF9yZWdpc3RlcihjYXJkKTsKKwlpZiAoZXJyIDwgMCkKKwkJZ290byBlcnJv
cjsKKworCWRwcmludGsoMCwgInJlZ2lzdGVyZWQgQUxTQSBhdWRpbyBkZXZpY2VcbiIpOworCisJ
cmV0dXJuIGNoaXA7CisKK2Vycm9yOgorCXNuZF9jYXJkX2ZyZWUoY2FyZCk7CisJcHJpbnRrKEtF
Uk5fRVJSICIlcygpOiBGYWlsZWQgdG8gcmVnaXN0ZXIgYW5hbG9nICIKKwkJCSJhdWRpbyBhZGFw
dGVyXG4iLCBfX2Z1bmNfXyk7CisKKwlyZXR1cm4gTlVMTDsKK30KKworLyoKKyAqIEFMU0EgZGVz
dHJ1Y3RvcgorICovCit2b2lkIGN4MjM4ODVfYXVkaW9fZmluaWRldihzdHJ1Y3QgY3gyMzg4NV9k
ZXYgKmRldikKK3sKKwlzdHJ1Y3QgY3gyMzg4NV9hdWRpb19kZXYgKmNoaXAgPSBkZXYtPmF1ZGlv
X2RldjsKKworCXNuZF9jYXJkX2ZyZWUoY2hpcC0+Y2FyZCk7Cit9CisKZGlmZiAtciAtTiAtVSAy
IGNsZWFuXzI0LjA3LjIwMTAvdjRsLWR2Yi9saW51eC9kcml2ZXJzL21lZGlhL3ZpZGVvL2N4MjM4
ODUvY3gyMzg4NS1jYXJkcy5jIDIuNi4zNC92NGwtZHZiL2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlk
ZW8vY3gyMzg4NS9jeDIzODg1LWNhcmRzLmMKLS0tIGNsZWFuXzI0LjA3LjIwMTAvdjRsLWR2Yi9s
aW51eC9kcml2ZXJzL21lZGlhL3ZpZGVvL2N4MjM4ODUvY3gyMzg4NS1jYXJkcy5jCTIwMTAtMDct
MjQgMTY6MTk6NDEuMDAwMDAwMDAwICswMjAwCisrKyAyLjYuMzQvdjRsLWR2Yi9saW51eC9kcml2
ZXJzL21lZGlhL3ZpZGVvL2N4MjM4ODUvY3gyMzg4NS1jYXJkcy5jCTIwMTAtMDMtMjcgMTI6Mzk6
MzUuMDAwMDAwMDAwICswMTAwCkBAIC0xNjMsNiArMTYzLDI4IEBACiAJfSwKIAlbQ1gyMzg4NV9C
T0FSRF9DT01QUk9fVklERU9NQVRFX0U2NTBGXSA9IHsKLQkJLm5hbWUJCT0gIkNvbXBybyBWaWRl
b01hdGUgRTY1MEYiLAotCQkucG9ydGMJCT0gQ1gyMzg4NV9NUEVHX0RWQiwKKyAgICAgICAgICAg
ICAgICAgICAgICAgLm5hbWUJCT0gIkNvbXBybyBWaWRlb01hdGUgRTY1MEYiLAorICAgICAgICAg
ICAgICAgICAgICAgICAucG9ydGEgICAgICAgICAgPSBDWDIzODg1X0FOQUxPR19WSURFTywKKyAg
ICAgICAgICAgICAgICAgICAgICAgLnBvcnRiICAgICAgICAgID0gQ1gyMzg4NV9NUEVHX0VOQ09E
RVIsCisgICAgICAgICAgICAgICAgICAgICAgIC50dW5lcl90eXBlICAgICA9IFRVTkVSX1hDMjAy
OCwKKyAgICAgICAgICAgICAgICAgICAgICAgLnR1bmVyX2FkZHIgICAgID0gMHg2MSwKKyAgICAg
ICAgICAgICAgICAgICAgICAgLmlucHV0ICAgICAgICAgID0geworICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50
eXBlICAgPSBDWDIzODg1X1ZNVVhfVEVMRVZJU0lPTiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIC52bXV4ICAgPSBDWDI1ODQwX0NPTVBPU0lURTIsCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgfSwgeworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgLnR5cGUgICA9IENYMjM4ODVfVk1VWF9DT01QT1NJVEUxLAorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZtdXggICA9IENYMjU4NDBfQ09NUE9TSVRFOCwK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAudHlwZSAgID0gQ1gyMzg4NV9WTVVYX1NWSURFTywKKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52bXV4ICAgPSBDWDI1ODQwX1NWSURF
T19MVU1BMyB8CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IENYMjU4NDBfU1ZJREVPX0NIUk9NQTQsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
fSwgeworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnR5cGUgICA9IENY
MjM4ODVfVk1VWF9DT01QT05FTlQsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAudm11eCAgID0gQ1gyNTg0MF9DT01QT05FTlRfT04gfAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDWDI1ODQwX1ZJTjFfQ0gxIHwKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1gyNTg0MF9WSU42X0NIMiB8
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENYMjU4NDBf
VklON19DSDMsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKKyAgICAgICAgICAg
ICAgICAgICAgICAgfSwKIAl9LAogCVtDWDIzODg1X0JPQVJEX1RCU182OTIwXSA9IHsKZGlmZiAt
ciAtTiAtVSAyIGNsZWFuXzI0LjA3LjIwMTAvdjRsLWR2Yi9saW51eC9kcml2ZXJzL21lZGlhL3Zp
ZGVvL2N4MjM4ODUvY3gyMzg4NS1jb3JlLmMgMi42LjM0L3Y0bC1kdmIvbGludXgvZHJpdmVycy9t
ZWRpYS92aWRlby9jeDIzODg1L2N4MjM4ODUtY29yZS5jCi0tLSBjbGVhbl8yNC4wNy4yMDEwL3Y0
bC1kdmIvbGludXgvZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L2N4MjM4ODUtY29yZS5jCTIw
MTAtMDctMjQgMTY6MTk6NDEuMDAwMDAwMDAwICswMjAwCisrKyAyLjYuMzQvdjRsLWR2Yi9saW51
eC9kcml2ZXJzL21lZGlhL3ZpZGVvL2N4MjM4ODUvY3gyMzg4NS1jb3JlLmMJMjAxMC0wMy0yNyAx
NDowMzoyOS4wMDAwMDAwMDAgKzAxMDAKQEAgLTE1MywxMCArMTUzLDEwIEBACiAJfSwKIAlbU1JB
TV9DSDA3XSA9IHsKLQkJLm5hbWUJCT0gImNoNyIsCi0JCS5jbWRzX3N0YXJ0CT0gMHgwLAotCQku
Y3RybF9zdGFydAk9IDB4MCwKLQkJLmNkdAkJPSAweDAsCi0JCS5maWZvX3N0YXJ0CT0gMHgwLAot
CQkuZmlmb19zaXplCT0gMHgwLAorICAgICAgICAgICAgICAgIC5uYW1lICAgICAgICAgICA9ICJU
ViBBdWRpbyIsCisgICAgICAgICAgICAgICAgLmNtZHNfc3RhcnQgICAgID0gMHgxMDE5MCwKKyAg
ICAgICAgICAgICAgICAuY3RybF9zdGFydCAgICAgPSAweDEwNDgwLAorICAgICAgICAgICAgICAg
IC5jZHQgICAgICAgICAgICA9IDB4MTBhMDAsCisgICAgICAgICAgICAgICAgLmZpZm9fc3RhcnQg
ICAgID0gMHg3MDAwLAorICAgICAgICAgICAgICAgIC5maWZvX3NpemUgICAgICA9IDB4MTAwMCwK
IAkJLnB0cjFfcmVnCT0gRE1BNl9QVFIxLAogCQkucHRyMl9yZWcJPSBETUE2X1BUUjIsCkBAIC05
OTEsOCArOTkxLDggQEAKIAkJCSAgICAgICB1bnNpZ25lZCBpbnQgb2Zmc2V0LCB1MzIgc3luY19s
aW5lLAogCQkJICAgICAgIHVuc2lnbmVkIGludCBicGwsIHVuc2lnbmVkIGludCBwYWRkaW5nLAot
CQkJICAgICAgIHVuc2lnbmVkIGludCBsaW5lcykKKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBpbnQgbGluZXMsIHVuc2lnbmVkIGludCBscGkpCiB7CiAJc3RydWN0IHNj
YXR0ZXJsaXN0ICpzZzsKLQl1bnNpZ25lZCBpbnQgbGluZSwgdG9kbzsKKyAgICAgICAgdW5zaWdu
ZWQgaW50IGxpbmUsIHRvZG8sIHNvbDsKIAogCS8qIHN5bmMgaW5zdHJ1Y3Rpb24gKi8KQEAgLTEw
MDcsNyArMTAwNywxMSBAQAogCQkJc2crKzsKIAkJfQorICAgICAgICAgICAgICAgaWYgKGxwaSAm
JiBsaW5lID4gMCAmJiAhKGxpbmUgJSBscGkpKQorICAgICAgICAgICAgICAgICAgICBzb2wgPSBS
SVNDX1NPTCB8IFJJU0NfSVJRMSB8IFJJU0NfQ05UX0lOQzsKKyAgICAgICAgICAgICAgIGVsc2UK
KyAgICAgICAgICAgICAgICAgICAgc29sID0gUklTQ19TT0w7CiAJCWlmIChicGwgPD0gc2dfZG1h
X2xlbihzZyktb2Zmc2V0KSB7CiAJCQkvKiBmaXRzIGludG8gY3VycmVudCBjaHVuayAqLwotCQkJ
KihycCsrKSA9IGNwdV90b19sZTMyKFJJU0NfV1JJVEV8UklTQ19TT0x8UklTQ19FT0x8YnBsKTsK
KyAgICAgICAgICAgICAgICAgICAgICAgICoocnArKykgPSBjcHVfdG9fbGUzMihSSVNDX1dSSVRF
fHNvbHxSSVNDX0VPTHxicGwpOwogCQkJKihycCsrKSA9IGNwdV90b19sZTMyKHNnX2RtYV9hZGRy
ZXNzKHNnKStvZmZzZXQpOwogCQkJKihycCsrKSA9IGNwdV90b19sZTMyKDApOyAvKiBiaXRzIDYz
LTMyICovCkBAIC0xMDE2LDUgKzEwMjAsNSBAQAogCQkJLyogc2NhbmxpbmUgbmVlZHMgdG8gYmUg
c3BsaXQgKi8KIAkJCXRvZG8gPSBicGw7Ci0JCQkqKHJwKyspID0gY3B1X3RvX2xlMzIoUklTQ19X
UklURXxSSVNDX1NPTHwKKyAgICAgICAgICAgICAgICAgICAgICAgICoocnArKykgPSBjcHVfdG9f
bGUzMihSSVNDX1dSSVRFfHNvbHwKIAkJCQkJICAgIChzZ19kbWFfbGVuKHNnKS1vZmZzZXQpKTsK
IAkJCSoocnArKykgPSBjcHVfdG9fbGUzMihzZ19kbWFfYWRkcmVzcyhzZykrb2Zmc2V0KTsKQEAg
LTEwNzMsOCArMTA3Nyw4IEBACiAJaWYgKFVOU0VUICE9IHRvcF9vZmZzZXQpCiAJCXJwID0gY3gy
Mzg4NV9yaXNjX2ZpZWxkKHJwLCBzZ2xpc3QsIHRvcF9vZmZzZXQsIDAsCi0JCQkJCWJwbCwgcGFk
ZGluZywgbGluZXMpOworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJw
bCwgcGFkZGluZywgbGluZXMsIDApOwogCWlmIChVTlNFVCAhPSBib3R0b21fb2Zmc2V0KQogCQly
cCA9IGN4MjM4ODVfcmlzY19maWVsZChycCwgc2dsaXN0LCBib3R0b21fb2Zmc2V0LCAweDIwMCwK
LQkJCQkJYnBsLCBwYWRkaW5nLCBsaW5lcyk7CisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgYnBsLCBwYWRkaW5nLCBsaW5lcywgMCk7CiAKIAkvKiBzYXZlIHBvaW50ZXIg
dG8gam1wIGluc3RydWN0aW9uIGFkZHJlc3MgKi8KQEAgLTEwODQsOSArMTA4OCwxMCBAQAogfQog
Ci1zdGF0aWMgaW50IGN4MjM4ODVfcmlzY19kYXRhYnVmZmVyKHN0cnVjdCBwY2lfZGV2ICpwY2ks
CitpbnQgY3gyMzg4NV9yaXNjX2RhdGFidWZmZXIoc3RydWN0IHBjaV9kZXYgKnBjaSwKIAkJCQkg
ICBzdHJ1Y3QgYnRjeF9yaXNjbWVtICpyaXNjLAogCQkJCSAgIHN0cnVjdCBzY2F0dGVybGlzdCAq
c2dsaXN0LAogCQkJCSAgIHVuc2lnbmVkIGludCBicGwsCi0JCQkJICAgdW5zaWduZWQgaW50IGxp
bmVzKQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbGlu
ZXMsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBscGkp
CiB7CiAJdTMyIGluc3RydWN0aW9uczsKQEAgLTExMDgsNSArMTExMyw1IEBACiAJLyogd3JpdGUg
cmlzYyBpbnN0cnVjdGlvbnMgKi8KIAlycCA9IHJpc2MtPmNwdTsKLQlycCA9IGN4MjM4ODVfcmlz
Y19maWVsZChycCwgc2dsaXN0LCAwLCBOT19TWU5DX0xJTkUsIGJwbCwgMCwgbGluZXMpOworICAg
ICAgICBycCA9IGN4MjM4ODVfcmlzY19maWVsZChycCwgc2dsaXN0LCAwLCBOT19TWU5DX0xJTkUs
IGJwbCwgMCwgbGluZXMsIGxwaSk7CiAKIAkvKiBzYXZlIHBvaW50ZXIgdG8gam1wIGluc3RydWN0
aW9uIGFkZHJlc3MgKi8KQEAgLTE0MzEsNSArMTQzNiw1IEBACiAJCWN4MjM4ODVfcmlzY19kYXRh
YnVmZmVyKGRldi0+cGNpLCAmYnVmLT5yaXNjLAogCQkJCQl2aWRlb2J1Zl90b19kbWEoJmJ1Zi0+
dmIpLT5zZ2xpc3QsCi0JCQkJCWJ1Zi0+dmIud2lkdGgsIGJ1Zi0+dmIuaGVpZ2h0KTsKKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWYtPnZiLndpZHRoLCBidWYtPnZi
LmhlaWdodCwgMCk7CiAJfQogCWJ1Zi0+dmIuc3RhdGUgPSBWSURFT0JVRl9QUkVQQVJFRDsKQEAg
LTE2NTksNyArMTY2NCw4IEBACiAJdTMyIHBjaV9zdGF0dXMsIHBjaV9tYXNrOwogCXUzMiB2aWRh
X3N0YXR1cywgdmlkYV9tYXNrOworICAgICAgICB1MzIgYXVkaW50X3N0YXR1cywgYXVkaW50X21h
c2s7CiAJdTMyIHRzMV9zdGF0dXMsIHRzMV9tYXNrOwogCXUzMiB0czJfc3RhdHVzLCB0czJfbWFz
azsKLQlpbnQgdmlkYV9jb3VudCA9IDAsIHRzMV9jb3VudCA9IDAsIHRzMl9jb3VudCA9IDAsIGhh
bmRsZWQgPSAwOworICAgICAgICBpbnQgdmlkYV9jb3VudCA9IDAsIGF1ZGludF9jb3VudCA9IDAs
IHRzMV9jb3VudCA9IDAsIHRzMl9jb3VudCA9IDAsIGhhbmRsZWQgPSAwOwogCWJvb2wgaXJfaGFu
ZGxlZCA9IGZhbHNlOwogCkBAIC0xNjY4LDQgKzE2NzQsNiBAQAogCXZpZGFfc3RhdHVzID0gY3hf
cmVhZChWSURfQV9JTlRfU1RBVCk7CiAJdmlkYV9tYXNrID0gY3hfcmVhZChWSURfQV9JTlRfTVNL
KTsKKyAgICAgICAgYXVkaW50X3N0YXR1cyA9IGN4X3JlYWQoQVVESU9fSU5UX0lOVF9TVEFUKTsK
KyAgICAgICAgYXVkaW50X21hc2sgPSBjeF9yZWFkKEFVRElPX0lOVF9JTlRfTVNLKTsKIAl0czFf
c3RhdHVzID0gY3hfcmVhZChWSURfQl9JTlRfU1RBVCk7CiAJdHMxX21hc2sgPSBjeF9yZWFkKFZJ
RF9CX0lOVF9NU0spOwpAQCAtMTY3Nyw0ICsxNjg1LDUgQEAKIAogCXZpZGFfY291bnQgPSBjeF9y
ZWFkKFZJRF9BX0dQQ05UKTsKKyAgICAgICAgYXVkaW50X2NvdW50ID0gY3hfcmVhZChBVURfSU5U
X0FfR1BDTlQpOwogCXRzMV9jb3VudCA9IGN4X3JlYWQodHMxLT5yZWdfZ3BjbnQpOwogCXRzMl9j
b3VudCA9IGN4X3JlYWQodHMyLT5yZWdfZ3BjbnQpOwpAQCAtMTY4Myw0ICsxNjkyLDYgQEAKIAlk
cHJpbnRrKDcsICJ2aWRhX3N0YXR1czogMHglMDh4IHZpZGFfbWFzazogMHglMDh4IGNvdW50OiAw
eCV4XG4iLAogCQl2aWRhX3N0YXR1cywgdmlkYV9tYXNrLCB2aWRhX2NvdW50KTsKKyAgICAgICAg
ZHByaW50ayg3LCAiYXVkaW50X3N0YXR1czogMHglMDh4IGF1ZGludF9tYXNrOiAweCUwOHggY291
bnQ6IDB4JXhcbiIsCisgICAgICAgICAgICAgICAgYXVkaW50X3N0YXR1cywgYXVkaW50X21hc2ss
IGF1ZGludF9jb3VudCk7CiAJZHByaW50ayg3LCAidHMxX3N0YXR1czogMHglMDh4ICB0czFfbWFz
azogMHglMDh4IGNvdW50OiAweCV4XG4iLAogCQl0czFfc3RhdHVzLCB0czFfbWFzaywgdHMxX2Nv
dW50KTsKQEAgLTE3NzYsNCArMTc4Nyw3IEBACiAJCWhhbmRsZWQgKz0gY3gyMzg4NV92aWRlb19p
cnEoZGV2LCB2aWRhX3N0YXR1cyk7CiAKKyAgICAgICAgaWYgKGF1ZGludF9zdGF0dXMpCisgICAg
ICAgICAgICAgICAgaGFuZGxlZCArPSBjeDIzODg1X2F1ZGlvX2lycShkZXYsIGF1ZGludF9zdGF0
dXMsIGF1ZGludF9tYXNrKTsKKwogCWlmIChwY2lfc3RhdHVzICYgUENJX01TS19JUikgewogCQl2
NGwyX3N1YmRldl9jYWxsKGRldi0+c2RfaXIsIGlyLCBpbnRlcnJ1cHRfc2VydmljZV9yb3V0aW5l
LApkaWZmIC1yIC1OIC1VIDIgY2xlYW5fMjQuMDcuMjAxMC92NGwtZHZiL2xpbnV4L2RyaXZlcnMv
bWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1LWR2Yi5jIDIuNi4zNC92NGwtZHZiL2xpbnV4L2Ry
aXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1LWR2Yi5jCi0tLSBjbGVhbl8yNC4wNy4y
MDEwL3Y0bC1kdmIvbGludXgvZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L2N4MjM4ODUtZHZi
LmMJMjAxMC0wNy0yNCAxNjoxOTo0MS4wMDAwMDAwMDAgKzAyMDAKKysrIDIuNi4zNC92NGwtZHZi
L2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1LWR2Yi5jCTIwMTAtMDMt
MjcgMTQ6MTg6MTAuMDAwMDAwMDAwICswMTAwCkBAIC04MDIsNSArODAyLDQgQEAKIAl9CiAJY2Fz
ZSBDWDIzODg1X0JPQVJEX0xFQURURUtfV0lORkFTVF9QWERWUjMyMDBfSDoKLQljYXNlIENYMjM4
ODVfQk9BUkRfQ09NUFJPX1ZJREVPTUFURV9FNjUwRjoKIAljYXNlIENYMjM4ODVfQk9BUkRfQ09N
UFJPX1ZJREVPTUFURV9FODAwOgogCQlpMmNfYnVzID0gJmRldi0+aTJjX2J1c1swXTsKQEAgLTk5
Myw2ICs5OTIsNCBAQAogCQkJCQkmZGV2LT5wY2ktPmRldiwgYWRhcHRlcl9uciwgMCwKIAkJCQkJ
Y3gyMzg4NV9kdmJfZmVfaW9jdGxfb3ZlcnJpZGUpOwotCWlmICghcmV0KQotCQlyZXR1cm4gcmV0
OwogCiAJLyogaW5pdCBDSSAmIE1BQyAqLwpAQCAtMTAxMCwyMCArMTAwNyw0IEBACiAJCWJyZWFr
OwogCQl9Ci0JY2FzZSBDWDIzODg1X0JPQVJEX1RFVklJX1M0NzA6IHsKLQkJdTggZWVwcm9tWzI1
Nl07IC8qIDI0QzAyIGkyYyBlZXByb20gKi8KLQotCQlpZiAocG9ydC0+bnIgIT0gMSkKLQkJCWJy
ZWFrOwotCi0JCS8qIFJlYWQgZW50aXJlIEVFUFJPTSAqLwotCQlkZXYtPmkyY19idXNbMF0uaTJj
X2NsaWVudC5hZGRyID0gMHhhMCA+PiAxOwotCQl0dmVlcHJvbV9yZWFkKCZkZXYtPmkyY19idXNb
MF0uaTJjX2NsaWVudCwgZWVwcm9tLCBzaXplb2YoZWVwcm9tKSk7Ci0JCXByaW50ayhLRVJOX0lO
Rk8gIlRlVmlpIFM0NzAgTUFDPSAiCi0JCQkJIiUwMlg6JTAyWDolMDJYOiUwMlg6JTAyWDolMDJY
XG4iLAotCQkJCWVlcHJvbVsweGEwXSwgZWVwcm9tWzB4YTFdLCBlZXByb21bMHhhMl0sCi0JCQkJ
ZWVwcm9tWzB4YTNdLCBlZXByb21bMHhhNF0sIGVlcHJvbVsweGE1XSk7Ci0JCW1lbWNweShwb3J0
LT5mcm9udGVuZHMuYWRhcHRlci5wcm9wb3NlZF9tYWMsIGVlcHJvbSArIDB4YTAsIDYpOwotCQli
cmVhazsKLQkJfQogCX0KIApkaWZmIC1yIC1OIC1VIDIgY2xlYW5fMjQuMDcuMjAxMC92NGwtZHZi
L2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1LmggMi42LjM0L3Y0bC1k
dmIvbGludXgvZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L2N4MjM4ODUuaAotLS0gY2xlYW5f
MjQuMDcuMjAxMC92NGwtZHZiL2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIz
ODg1LmgJMjAxMC0wNy0yNCAxNjoxOTo0MS4wMDAwMDAwMDAgKzAyMDAKKysrIDIuNi4zNC92NGwt
ZHZiL2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1LmgJMjAxMC0wNy0y
NCAxODowMjo1OC4wMDAwMDAwMDAgKzAyMDAKQEAgLTMwNiw0ICszMDYsMTggQEAKIH07CiAKK3N0
cnVjdCBjeDIzODg1X2F1ZGlvX2RldiB7CisgICAgICAgIHN0cnVjdCBjeDIzODg1X2RldiAgICAg
ICAgICAgICpkZXY7CisgICAgICAgIHN0cnVjdCBwY2lfZGV2ICAgICAgICAgICAgICpwY2k7Cisg
ICAgICAgIHN0cnVjdCBzbmRfY2FyZCAgICAgICAgICAgICpjYXJkOworICAgICAgICBzcGlubG9j
a190ICAgICAgICAgICAgICAgICByZWdfbG9jazsKKyAgICAgICAgYXRvbWljX3QgICAgICAgICAg
ICAgICAgICAgY291bnQ7CisgICAgICAgIHVuc2lnbmVkIGludCAgICAgICAgICAgICAgIGRtYV9z
aXplOworICAgICAgICB1bnNpZ25lZCBpbnQgICAgICAgICAgICAgICBwZXJpb2Rfc2l6ZTsKKyAg
ICAgICAgdW5zaWduZWQgaW50ICAgICAgICAgICAgICAgbnVtX3BlcmlvZHM7CisgICAgICAgIHN0
cnVjdCB2aWRlb2J1Zl9kbWFidWYgICAgICpkbWFfcmlzYzsKKyAgICAgICAgc3RydWN0IGN4MjM4
ODVfYnVmZmVyICAgICAgKmJ1ZjsKKyAgICAgICAgc3RydWN0IHNuZF9wY21fc3Vic3RyZWFtICAg
KnN1YnN0cmVhbTsKK307CisKIHN0cnVjdCBjeDIzODg1X2RldiB7CiAJYXRvbWljX3QgICAgICAg
ICAgICAgICAgICAgcmVmY291bnQ7CkBAIC0zNTYsNCArMzcwLDggQEAKIAl1bnNpZ25lZCBjaGFy
ICAgICAgICAgICAgICByYWRpb19hZGRyOwogCXVuc2lnbmVkIGludCAgICAgICAgICAgICAgIGhh
c19yYWRpbzsKKworICAgICAgICAvKiBBbmFsb2cgYXVkaW8gKi8KKyAgICAgICAgc3RydWN0IGN4
MjM4ODVfYXVkaW9fZGV2ICAgKmF1ZGlvX2RldjsKKwogCXN0cnVjdCB2NGwyX3N1YmRldiAJICAg
KnNkX2N4MjU4NDA7CiAKQEAgLTQ2Miw0ICs0ODAsMTEgQEAKIAl1bnNpZ25lZCBpbnQgYnBsLCB1
bnNpZ25lZCBpbnQgcGFkZGluZywgdW5zaWduZWQgaW50IGxpbmVzKTsKIAorZXh0ZXJuIGludCBj
eDIzODg1X3Jpc2NfZGF0YWJ1ZmZlcihzdHJ1Y3QgcGNpX2RldiAqcGNpLAorICAgICAgICBzdHJ1
Y3QgYnRjeF9yaXNjbWVtICpyaXNjLAorICAgICAgICBzdHJ1Y3Qgc2NhdHRlcmxpc3QgKnNnbGlz
dCwKKyAgICAgICAgdW5zaWduZWQgaW50IGJwbCwKKyAgICAgICAgdW5zaWduZWQgaW50IGxpbmVz
LAorICAgICAgICB1bnNpZ25lZCBpbnQgbHBpKTsKKwogdm9pZCBjeDIzODg1X2NhbmNlbF9idWZm
ZXJzKHN0cnVjdCBjeDIzODg1X3RzcG9ydCAqcG9ydCk7CiAKQEAgLTUxNSw0ICs1NDAsMTEgQEAK
IAogLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0gKi8KKy8qIGN4MjM4ODUtYWxzYS5jICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICovCisvKiBBbmFsb2cgYXVkaW8gKi8KK2V4dGVybiBzdHJ1Y3Qg
Y3gyMzg4NV9hdWRpb19kZXYgKmN4MjM4ODVfYXVkaW9faW5pdGRldihzdHJ1Y3QgY3gyMzg4NV9k
ZXYgKmRldik7CitleHRlcm4gdm9pZCBjeDIzODg1X2F1ZGlvX2ZpbmlkZXYoc3RydWN0IGN4MjM4
ODVfZGV2ICpkZXYpOworZXh0ZXJuIGludCBjeDIzODg1X2F1ZGlvX2lycShzdHJ1Y3QgY3gyMzg4
NV9kZXYgKmRldiwgdTMyIHN0YXR1cywgdTMyIG1hc2spOworCisvKiAtLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogLyogY3gyMzg4
NS12YmkuYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8K
IGV4dGVybiBpbnQgY3gyMzg4NV92YmlfZm10KHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkICpwcml2
LApkaWZmIC1yIC1OIC1VIDIgY2xlYW5fMjQuMDcuMjAxMC92NGwtZHZiL2xpbnV4L2RyaXZlcnMv
bWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1LXZpZGVvLmMgMi42LjM0L3Y0bC1kdmIvbGludXgv
ZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L2N4MjM4ODUtdmlkZW8uYwotLS0gY2xlYW5fMjQu
MDcuMjAxMC92NGwtZHZiL2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1
LXZpZGVvLmMJMjAxMC0wNy0yNCAxNjoxOTo0MS4wMDAwMDAwMDAgKzAyMDAKKysrIDIuNi4zNC92
NGwtZHZiL2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9jeDIzODg1LXZpZGVvLmMJ
MjAxMC0wNy0yNCAxODowOTozNi4wMDAwMDAwMDAgKzAyMDAKQEAgLTM5LDQgKzM5LDUgQEAKICNp
bmNsdWRlICJjeDIzODg1LWlvY3RsLmgiCiAjaW5jbHVkZSAidHVuZXIteGMyMDI4LmgiCisjaW5j
bHVkZSA8bWVkaWEvY3gyNTg0MC5oPgogCiBNT0RVTEVfREVTQ1JJUFRJT04oInY0bDIgZHJpdmVy
IG1vZHVsZSBmb3IgY3gyMzg4NSBiYXNlZCBUViBjYXJkcyIpOwpAQCAtMjA1LDcgKzIwNiw3IEBA
CiAJCQkubmFtZSAgICAgICAgICA9ICJDb250cmFzdCIsCiAJCQkubWluaW11bSAgICAgICA9IDAs
Ci0JCQkubWF4aW11bSAgICAgICA9IDB4ZmYsCisJCQkubWF4aW11bSAgICAgICA9IDB4N2YsCiAJ
CQkuc3RlcCAgICAgICAgICA9IDEsCi0JCQkuZGVmYXVsdF92YWx1ZSA9IDB4M2YsCisJCQkuZGVm
YXVsdF92YWx1ZSA9IDB4MmYsCiAJCQkudHlwZSAgICAgICAgICA9IFY0TDJfQ1RSTF9UWVBFX0lO
VEVHRVIsCiAJCX0sCkBAIC0yMTgsOCArMjE5LDggQEAKIAkJCS5pZCAgICAgICAgICAgID0gVjRM
Ml9DSURfSFVFLAogCQkJLm5hbWUgICAgICAgICAgPSAiSHVlIiwKLQkJCS5taW5pbXVtICAgICAg
ID0gMCwKLQkJCS5tYXhpbXVtICAgICAgID0gMHhmZiwKKyAgICAgICAgICAgICAgICAgICAgICAg
IC5taW5pbXVtICAgICAgID0gLTEyNywKKyAgICAgICAgICAgICAgICAgICAgICAgIC5tYXhpbXVt
ICAgICAgID0gMTI3LAogCQkJLnN0ZXAgICAgICAgICAgPSAxLAotCQkJLmRlZmF1bHRfdmFsdWUg
PSAweDdmLAorCQkJLmRlZmF1bHRfdmFsdWUgPSAtMzAsCiAJCQkudHlwZSAgICAgICAgICA9IFY0
TDJfQ1RSTF9UWVBFX0lOVEVHRVIsCiAJCX0sCkBAIC0yMzYsNyArMjM3LDcgQEAKIAkJCS5uYW1l
ICAgICAgICAgID0gIlNhdHVyYXRpb24iLAogCQkJLm1pbmltdW0gICAgICAgPSAwLAotCQkJLm1h
eGltdW0gICAgICAgPSAweGZmLAorICAgICAgICAgICAgICAgICAgICAgICAgLm1heGltdW0gICAg
ICAgPSAweDdmLAogCQkJLnN0ZXAgICAgICAgICAgPSAxLAotCQkJLmRlZmF1bHRfdmFsdWUgPSAw
eDdmLAorICAgICAgICAgICAgICAgICAgICAgICAgLmRlZmF1bHRfdmFsdWUgPSAweDJmLAogCQkJ
LnR5cGUgICAgICAgICAgPSBWNEwyX0NUUkxfVFlQRV9JTlRFR0VSLAogCQl9LApAQCAtNTcwLDYg
KzU3MSw2IEBACiAJaWYgKDAgPT0gKmNvdW50KQogCQkqY291bnQgPSAzMjsKLQlpZiAoKnNpemUg
KiAqY291bnQgPiB2aWRfbGltaXQgKiAxMDI0ICogMTAyNCkKLQkJKmNvdW50ID0gKHZpZF9saW1p
dCAqIDEwMjQgKiAxMDI0KSAvICpzaXplOworICAgICAgICBpZiAoKnNpemUgKiAqY291bnQgPiB2
aWRfbGltaXQgKiAxMDI0ICogMTAyNCkKKyAgICAgICAgICAgICAgICAgICAgICAgICpjb3VudCA9
ICh2aWRfbGltaXQgKiAxMDI0ICogMTAyNCkgLyAqc2l6ZTsKIAlyZXR1cm4gMDsKIH0KQEAgLTk2
NSw5ICs5NjYsNiBAQAogCXN0cnVjdCB2NGwyX2NvbnRyb2wgKmN0bCkKIHsKLQlkcHJpbnRrKDEs
ICIlcygpIGNhbGxpbmcgY3gyNTg0MChWSURJT0NfU19DVFJMKSIKLQkJIiAoZGlzYWJsZWQgLSBu
byBhY3Rpb24pXG4iLCBfX2Z1bmNfXyk7Ci0jaWYgMAorICAgICAgICBkcHJpbnRrKDEsICIlcygp
IGNhbGxpbmcgY3gyNTg0MChWSURJT0NfU19DVFJMKVxuIiwgX19mdW5jX18pOwogCWNhbGxfYWxs
KGRldiwgY29yZSwgc19jdHJsLCBjdGwpOwotI2VuZGlmCiAJcmV0dXJuIDA7CiB9CkBAIC0xMDU1
LDUgKzEwNTMsNSBAQAogCXN0cnVjdCBjeDIzODg1X2ZoICpmaCA9IHByaXY7CiAJc3RydWN0IGN4
MjM4ODVfZGV2ICpkZXYgID0gKChzdHJ1Y3QgY3gyMzg4NV9maCAqKXByaXYpLT5kZXY7Ci0Jc3Ry
dWN0IHY0bDJfbWJ1c19mcmFtZWZtdCBtYnVzX2ZtdDsKKyAgICAgICAgc3RydWN0IHY0bDJfbWJ1
c19mcmFtZWZtdCBtYnVzX2ZtdDsKIAlpbnQgZXJyOwogCkBAIC0xMDY5LDcgKzEwNjcsNyBAQAog
CWRwcmludGsoMiwgIiVzKCkgd2lkdGg9JWQgaGVpZ2h0PSVkIGZpZWxkPSVkXG4iLCBfX2Z1bmNf
XywKIAkJZmgtPndpZHRoLCBmaC0+aGVpZ2h0LCBmaC0+dmlkcS5maWVsZCk7Ci0JdjRsMl9maWxs
X21idXNfZm9ybWF0KCZtYnVzX2ZtdCwgJmYtPmZtdC5waXgsIFY0TDJfTUJVU19GTVRfRklYRUQp
OwotCWNhbGxfYWxsKGRldiwgdmlkZW8sIHNfbWJ1c19mbXQsICZtYnVzX2ZtdCk7Ci0JdjRsMl9m
aWxsX3BpeF9mb3JtYXQoJmYtPmZtdC5waXgsICZtYnVzX2ZtdCk7CisgICAgICAgIHY0bDJfZmls
bF9tYnVzX2Zvcm1hdCgmbWJ1c19mbXQsICZmLT5mbXQucGl4LCBWNEwyX01CVVNfRk1UX0ZJWEVE
KTsKKyAgICAgICAgY2FsbF9hbGwoZGV2LCB2aWRlbywgc19tYnVzX2ZtdCwgJm1idXNfZm10KTsK
KyAgICAgICAgdjRsMl9maWxsX3BpeF9mb3JtYXQoJmYtPmZtdC5waXgsICZtYnVzX2ZtdCk7CiAJ
cmV0dXJuIDA7CiB9CkBAIC0xMzIyLDEyICsxMzIwLDggQEAKIAkJcmV0dXJuIC1FSU5WQUw7CiAK
KyAgICAgICAgbWVtc2V0KHQsIDAsIHNpemVvZigqdCkpOwogCXN0cmNweSh0LT5uYW1lLCAiVGVs
ZXZpc2lvbiIpOwotCXQtPnR5cGUgICAgICAgPSBWNEwyX1RVTkVSX0FOQUxPR19UVjsKLQl0LT5j
YXBhYmlsaXR5ID0gVjRMMl9UVU5FUl9DQVBfTk9STTsKLQl0LT5yYW5nZWhpZ2ggID0gMHhmZmZm
ZmZmZlVMOwotI2lmIDAKLQljeDIzODg1X2dldF9zdGVyZW8oZGV2LCB0KTsKLSNlbmRpZgotCXQt
PnNpZ25hbCA9IDB4ZmZmZiA7IC8qIExPQ0tFRCAqLworICAgICAgICBjYWxsX2FsbChkZXYsIHR1
bmVyLCBnX3R1bmVyLCB0KTsKKyAgICAgICAgZHByaW50aygxLCAiVklESU9DX0dfVFVORVI6IHR1
bmVyIHR5cGUgJWRcbiIsIHQtPnR5cGUpOwogCXJldHVybiAwOwogfQpAQCAtMTM0NSw0ICsxMzM5
LDYgQEAKIAljeDIzODg1X3NldF9zdGVyZW8oZGV2LCB0LT5hdWRtb2RlLCAxKTsKICNlbmRpZgor
ICAgICAgICAvKiBVcGRhdGUgdGhlIEEvViBjb3JlICovCisgICAgICAgIGNhbGxfYWxsKGRldiwg
dHVuZXIsIHNfdHVuZXIsIHQpOwogCXJldHVybiAwOwogfQpAQCAtMTcwNiw0ICsxNzAyLDYgQEAK
IAkJYnRjeF9yaXNjbWVtX2ZyZWUoZGV2LT5wY2ksICZkZXYtPnZpZHEuc3RvcHBlcik7CiAJfQor
ICAgICAgICBpZiAoZGV2LT5hdWRpb19kZXYpCisgICAgICAgICAgICAgICAgY3gyMzg4NV9hdWRp
b19maW5pZGV2KGRldik7CiB9CiAKQEAgLTE3NjYsNSArMTc2NCw1IEBACiAJCQl2NGwyX3N1YmRl
dl9jYWxsKHNkLCB0dW5lciwgc190eXBlX2FkZHIsICZ0dW5fc2V0dXApOwogCi0JCQlpZiAoZGV2
LT5ib2FyZCA9PSBDWDIzODg1X0JPQVJEX0xFQURURUtfV0lORkFTVF9QWFRWMTIwMCkgeworCQkJ
aWYgKGRldi0+Ym9hcmQgPT0gQ1gyMzg4NV9CT0FSRF9DT01QUk9fVklERU9NQVRFX0U2NTBGKSB7
CiAJCQkJc3RydWN0IHhjMjAyOF9jdHJsIGN0cmwgPSB7CiAJCQkJCS5mbmFtZSA9IFhDMjAyOF9E
RUZBVUxUX0ZJUk1XQVJFLApAQCAtMTgyNiw0ICsxODI0LDcgQEAKIAl9CiAjZW5kaWYKKy8qIFJl
Z2lzdGVyIEFMU0EgYXVkaW8gZGV2aWNlICovCitkZXYtPmF1ZGlvX2RldiA9IGN4MjM4ODVfYXVk
aW9faW5pdGRldihkZXYpOworCiAJLyogaW5pdGlhbCBkZXZpY2UgY29uZmlndXJhdGlvbiAqLwog
CW11dGV4X2xvY2soJmRldi0+bG9jayk7CmRpZmYgLXIgLU4gLVUgMiBjbGVhbl8yNC4wNy4yMDEw
L3Y0bC1kdmIvbGludXgvZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L0tjb25maWcgMi42LjM0
L3Y0bC1kdmIvbGludXgvZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L0tjb25maWcKLS0tIGNs
ZWFuXzI0LjA3LjIwMTAvdjRsLWR2Yi9saW51eC9kcml2ZXJzL21lZGlhL3ZpZGVvL2N4MjM4ODUv
S2NvbmZpZwkyMDEwLTA3LTI0IDE2OjE5OjQxLjAwMDAwMDAwMCArMDIwMAorKysgMi42LjM0L3Y0
bC1kdmIvbGludXgvZHJpdmVycy9tZWRpYS92aWRlby9jeDIzODg1L0tjb25maWcJMjAxMC0wMy0y
NyAxMjozNTowOC4wMDAwMDAwMDAgKzAxMDAKQEAgLTEsNSArMSw2IEBACiBjb25maWcgVklERU9f
Q1gyMzg4NQogCXRyaXN0YXRlICJDb25leGFudCBjeDIzODg1ICgyMzg4eCBzdWNjZXNzb3IpIHN1
cHBvcnQiCi0JZGVwZW5kcyBvbiBEVkJfQ09SRSAmJiBWSURFT19ERVYgJiYgUENJICYmIEkyQyAm
JiBJTlBVVAorCWRlcGVuZHMgb24gRFZCX0NPUkUgJiYgVklERU9fREVWICYmIFBDSSAmJiBJMkMg
JiYgSU5QVVQgJiYgU05ECisJc2VsZWN0IFNORF9QQ00KIAlzZWxlY3QgSTJDX0FMR09CSVQKIAlz
ZWxlY3QgVklERU9fQlRDWApkaWZmIC1yIC1OIC1VIDIgY2xlYW5fMjQuMDcuMjAxMC92NGwtZHZi
L2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9NYWtlZmlsZSAyLjYuMzQvdjRsLWR2
Yi9saW51eC9kcml2ZXJzL21lZGlhL3ZpZGVvL2N4MjM4ODUvTWFrZWZpbGUKLS0tIGNsZWFuXzI0
LjA3LjIwMTAvdjRsLWR2Yi9saW51eC9kcml2ZXJzL21lZGlhL3ZpZGVvL2N4MjM4ODUvTWFrZWZp
bGUJMjAxMC0wNy0yNCAxNjoxOTo0MS4wMDAwMDAwMDAgKzAyMDAKKysrIDIuNi4zNC92NGwtZHZi
L2xpbnV4L2RyaXZlcnMvbWVkaWEvdmlkZW8vY3gyMzg4NS9NYWtlZmlsZQkyMDEwLTAzLTI3IDEy
OjM2OjA4LjAwMDAwMDAwMCArMDEwMApAQCAtMSw0ICsxLDQgQEAKIGN4MjM4ODUtb2Jqcwk6PSBj
eDIzODg1LWNhcmRzLm8gY3gyMzg4NS12aWRlby5vIGN4MjM4ODUtdmJpLm8gXAotCQkgICAgY3gy
Mzg4NS1jb3JlLm8gY3gyMzg4NS1pMmMubyBjeDIzODg1LWR2Yi5vIGN4MjM4ODUtNDE3Lm8gXAor
CQkgICAgY3gyMzg4NS1jb3JlLm8gY3gyMzg4NS1pMmMubyBjeDIzODg1LWR2Yi5vIGN4MjM4ODUt
NDE3Lm8gY3gyMzg4NS1hbHNhLm8gXAogCQkgICAgY3gyMzg4NS1pb2N0bC5vIGN4MjM4ODUtaXIu
byBjeDIzODg1LWlucHV0Lm8gY3gyMzg4OC1pci5vIFwKIAkJICAgIG5ldHVwLWluaXQubyBjaW1h
eDIubyBuZXR1cC1lZXByb20ubyBjeDIzODg1LWYzMDAubwo=

--=-mIvPlKJEbTrRfZ5RXUCo--
