Return-path: <linux-media-owner@vger.kernel.org>
Received: from mga05.intel.com ([192.55.52.43]:51904 "EHLO mga05.intel.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1751623AbeGEFua (ORCPT <rfc822;linux-media@vger.kernel.org>);
        Thu, 5 Jul 2018 01:50:30 -0400
Date: Thu, 5 Jul 2018 13:49:09 +0800
From: kbuild test robot <fengguang.wu@intel.com>
To: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>
Cc: kbuild-all@01.org,
        Mauro Carvalho Chehab <mchehab+samsung@kernel.org>,
        Linux Media Mailing List <linux-media@vger.kernel.org>,
        Mauro Carvalho Chehab <mchehab@infradead.org>,
        Katsuhiro Suzuki <suzuki.katsuhiro@socionext.com>,
        Antti Palosaari <crope@iki.fi>,
        Jemma Denson <jdenson@gmail.com>,
        Patrick Boettcher <patrick.boettcher@posteo.de>,
        Sergey Kozlov <serjk@netup.ru>, Abylay Ospan <aospan@netup.ru>,
        Yasunari Takiguchi <Yasunari.Takiguchi@sony.com>,
        Malcolm Priestley <tvboxspy@gmail.com>,
        Michael Krufky <mkrufky@linuxtv.org>,
        Daniel Scheller <d.scheller.oss@gmail.com>,
        Matthias Schwarzott <zzam@gentoo.org>,
        Stefan Richter <stefanr@s5r6.in-berlin.de>,
        linux1394-devel@lists.sourceforge.net
Subject: [PATCH] media: dvb: fix noderef.cocci warnings
Message-ID: <20180705054909.GA2303@lkp-wsm-ep2>
References: <b3d63a8f038d136b26692bc3a14554960e767f4a.1530740760.git.mchehab+samsung@kernel.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <b3d63a8f038d136b26692bc3a14554960e767f4a.1530740760.git.mchehab+samsung@kernel.org>
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

From: kbuild test robot <fengguang.wu@intel.com>

drivers/media/dvb-core/dvb_frontend.c:2396:18-24: ERROR: application of sizeof to pointer

 sizeof when applied to a pointer typed expression gives the size of
 the pointer

Generated by: scripts/coccinelle/misc/noderef.cocci

Fixes: 07acff734698 ("media: dvb: represent min/max/step/tolerance freqs in Hz")
CC: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>
Signed-off-by: kbuild test robot <fengguang.wu@intel.com>
---

 dvb_frontend.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/media/dvb-core/dvb_frontend.c
+++ b/drivers/media/dvb-core/dvb_frontend.c
@@ -2393,7 +2393,7 @@ static int dvb_frontend_handle_ioctl(str
 
 	case FE_GET_INFO: {
 		struct dvb_frontend_info *info = parg;
-		memset(info, 0, sizeof(info));
+		memset(info, 0, sizeof(*info));
 
 		dvb_frontend_get_frequency_limits(fe, &info->frequency_min, &info->frequency_max);
 		strcpy(info->name, fe->ops.info.name);
