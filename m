Return-path: <video4linux-list-bounces@redhat.com>
Received: from mx1.redhat.com (mx1.redhat.com [172.16.48.31])
	by int-mx1.corp.redhat.com (8.13.1/8.13.1) with ESMTP id m9K8X5lI003635
	for <video4linux-list@redhat.com>; Mon, 20 Oct 2008 04:33:05 -0400
Received: from mail01.idc.renesas.com (mail.renesas.com [202.234.163.13])
	by mx1.redhat.com (8.13.8/8.13.8) with ESMTP id m9K8Wsqn030847
	for <video4linux-list@redhat.com>; Mon, 20 Oct 2008 04:32:54 -0400
Date: Mon, 20 Oct 2008 17:25:06 +0900
From: morimoto.kuninori@renesas.com
In-reply-to: <20081020094510.4938d7fd@hyperion.delvare>
To: Jean Delvare <khali@linux-fr.org>
Message-id: <uljwjn065.wl%morimoto.kuninori@renesas.com>
MIME-version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-type: text/plain; charset=US-ASCII
References: <uprlwm00v.wl%morimoto.kuninori@renesas.com>
	<20081020094510.4938d7fd@hyperion.delvare>
Cc: V4L <video4linux-list@redhat.com>, i2c@lm-sensors.org,
	mchehab@infradead.org
Subject: Re: [PATCH v5] Add ov772x driver
List-Unsubscribe: <https://www.redhat.com/mailman/listinfo/video4linux-list>,
	<mailto:video4linux-list-request@redhat.com?subject=unsubscribe>
List-Archive: <https://www.redhat.com/mailman/private/video4linux-list>
List-Post: <mailto:video4linux-list@redhat.com>
List-Help: <mailto:video4linux-list-request@redhat.com?subject=help>
List-Subscribe: <https://www.redhat.com/mailman/listinfo/video4linux-list>,
	<mailto:video4linux-list-request@redhat.com?subject=subscribe>
Sender: video4linux-list-bounces@redhat.com
Errors-To: video4linux-list-bounces@redhat.com
List-ID: <video4linux-list@redhat.com>



Hi Jean Delvare

Thank you for checking patch.

> > +	if (reg->val > 0xff)
> 
> ... and apparently you expect an 8-bit value anyway.
> 
> > +		return -EIO;
> > +
> > +	return 0;
> > +}
> 
> Also note that i2c_smbus_read_* functions can return a negative value
> on error. As you are handling this case in the "set" function below,
> you may want to do the same for the "get" function above. If you really
> want to call i2c_smbus_read_byte_data() as I suspect, then it's much
> more useful to check for < 0 than > 0xff, as i2c_smbus_read_byte_data()
> can't return a value greater than 0xff by construction.

Sorry. this came from mt9m001.c that is base of soc_camera_platform.c.
I'll fix it up.

> > +	if (!i2c_check_functionality(to_i2c_adapter(client->dev.parent),
> > +				     I2C_FUNC_SMBUS_BYTE_DATA)) {
> > +		dev_err(&client->dev,
> > +			"I2C-Adapter doesn't support I2C_FUNC_SMBUS_BYTE\n");
> 
> This comment doesn't match the actual check.

Sorry. this came from mt9m001.c that is base of soc_camera_platform.c.
I'll fix it up.

Thank you again.
/Morimoto

--
video4linux-list mailing list
Unsubscribe mailto:video4linux-list-request@redhat.com?subject=unsubscribe
https://www.redhat.com/mailman/listinfo/video4linux-list
