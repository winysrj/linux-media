Return-path: <linux-media-owner@vger.kernel.org>
Received: from imr-db01.mx.aol.com ([205.188.91.95]:40027 "EHLO
	imr-db01.mx.aol.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1758715Ab3DAWq4 (ORCPT
	<rfc822;linux-media@vger.kernel.org>); Mon, 1 Apr 2013 18:46:56 -0400
Message-ID: <515A0D03.7040802@netscape.net>
Date: Mon, 01 Apr 2013 19:41:07 -0300
From: =?UTF-8?B?QWxmcmVkbyBKZXPDunMgRGVsYWl0aQ==?=
	<alfredodelaiti@netscape.net>
MIME-Version: 1.0
To: Mauro Carvalho Chehab <mchehab@redhat.com>
CC: linux-media@vger.kernel.org
Subject: Re: mb86a20s and cx23885
References: <51054759.7050202@netscape.net> <20130127141633.5f751e5d@redhat.com> <5105A0C9.6070007@netscape.net> <20130128082354.607fae64@redhat.com> <5106E3EA.70307@netscape.net> <511264CF.3010002@netscape.net> <51336331.10205@netscape.net> <20130303134051.6dc038aa@redhat.com> <20130304164234.18df36a7@redhat.com> <51353591.4040709@netscape.net> <20130304233028.7bc3c86c@redhat.com> <513A6968.4070803@netscape.net>
In-Reply-To: <513A6968.4070803@netscape.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

Hi all

After analyzing 15 samples (took me many days),I obtained the table 
underneath.

     { 0x70, 0x0f },
     { 0x70, 0xff },
     { 0x09, 0x3a },
     { 0x50, 0xd1 }, { 0x51, 0x22 },
     { 0x39, 0x00 },
     { 0x28, 0x2a }, { 0x29, 0x00 }, { 0x2a, 0xfd }, { 0x2b, 0xc8 },
     { 0x3b, 0x21 },
     { 0x3c, 0x38 },
     { 0x28, 0x20 }, { 0x29, 0x3e }, { 0x2a, 0xde }, { 0x2b, 0x4d },
     { 0x28, 0x22 }, { 0x29, 0x00 }, { 0x2a, 0x1f }, { 0x2b, 0xf0 },
     { 0x01, 0x0d },
     { 0x04, 0x08 }, { 0x05, 0x03 },
     { 0x04, 0x0e }, { 0x05, 0x00 },
     { 0x04, 0x0f }, { 0x05, 0x32 },
     { 0x04, 0x0b }, { 0x05, 0x78 },
     { 0x04, 0x00 }, { 0x05, 0x00 },
     { 0x04, 0x01 }, { 0x05, 0x1e },
     { 0x04, 0x02 }, { 0x05, 0x07 },
     { 0x04, 0x03 }, { 0x05, 0xd0 },
     { 0x04, 0x09 }, { 0x05, 0x00 },
     { 0x04, 0x0a }, { 0x05, 0xff },
     { 0x04, 0x27 }, { 0x05, 0x00 },
     { 0x04, 0x28 }, { 0x05, 0x00 },
     { 0x04, 0x1e }, { 0x05, 0x00 },
     { 0x04, 0x29 }, { 0x05, 0x64 },
     { 0x04, 0x32 }, { 0x05, 0x64 },
     { 0x04, 0x14 }, { 0x05, 0x02 },
     { 0x04, 0x04 }, { 0x05, 0x00 },
     { 0x04, 0x05 }, { 0x05, 0x22 },
     { 0x04, 0x06 }, { 0x05, 0x0e },
     { 0x04, 0x07 }, { 0x05, 0xd8 },
     { 0x04, 0x12 }, { 0x05, 0x00 },
     { 0x04, 0x13 }, { 0x05, 0xff },

     { 0x52, 0x01 },
     { 0x50, 0xa7 }, { 0x51, 0x00 },
     { 0x50, 0xa8 }, { 0x51, 0xff },
     { 0x50, 0xa9 }, { 0x51, 0xff },
     { 0x50, 0xaa }, { 0x51, 0x00 },
     { 0x50, 0xab }, { 0x51, 0xff },
     { 0x50, 0xac }, { 0x51, 0xff },
     { 0x50, 0xad }, { 0x51, 0x00 },
     { 0x50, 0xae }, { 0x51, 0xff },
     { 0x50, 0xaf }, { 0x51, 0xff },

     { 0x5e, 0x07 },
     { 0x50, 0xdc }, { 0x51, 0x3f },
     { 0x50, 0xdd }, { 0x51, 0xff },
     { 0x50, 0xde }, { 0x51, 0x3f },
     { 0x50, 0xdf }, { 0x51, 0xff },
     { 0x50, 0xe0 }, { 0x51, 0x3f },
     { 0x50, 0xe1 }, { 0x51, 0xff },
     { 0x50, 0xb0 }, { 0x51, 0x07 },
     { 0x50, 0xb2 }, { 0x51, 0x3f },
     { 0x50, 0xb3 }, { 0x51, 0xff },
     { 0x50, 0xb4 }, { 0x51, 0x3f },
     { 0x50, 0xb5 }, { 0x51, 0xff },
     { 0x50, 0xb6 }, { 0x51, 0x3f },
     { 0x50, 0xb7 }, { 0x51, 0xff },

     { 0x50, 0x51 }, { 0x51, 0x04 },
     { 0x50, 0x50 }, { 0x51, 0x02 },
     { 0x45, 0x04 },
     { 0x48, 0x04 },

     { 0x50, 0xd5 }, { 0x51, 0x00 },
     { 0x50, 0xd6 }, { 0x51, 0x1f },
     { 0x50, 0xd2 }, { 0x51, 0x03 },
     { 0x50, 0xd7 }, { 0x51, 0x3f },
     { 0x28, 0x74 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0xff },
     { 0x28, 0x46 }, { 0x29, 0x00 }, { 0x2a, 0x1a }, { 0x2b, 0x0c },

     { 0x04, 0x40 }, { 0x05, 0x00 },
     { 0x28, 0x00 }, { 0x2b, 0x08 },
     { 0x28, 0x05 }, { 0x2b, 0x00 },
     { 0x1c, 0x01 },
     { 0x28, 0x06 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x1f },
     { 0x28, 0x07 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x18 },
     { 0x28, 0x08 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x12 },
     { 0x28, 0x09 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x30 },
     { 0x28, 0x0a }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x37 },
     { 0x28, 0x0b }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x02 },
     { 0x28, 0x0c }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x09 },
     { 0x28, 0x0d }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x06 },
     { 0x28, 0x0e }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x7b },
     { 0x28, 0x0f }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x76 },
     { 0x28, 0x10 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x7d },
     { 0x28, 0x11 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x08 },
     { 0x28, 0x12 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x0b },
     { 0x28, 0x13 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x00 },
     { 0x28, 0x14 }, { 0x29, 0x00 }, { 0x2a, 0x01 }, { 0x2b, 0xf2 },
     { 0x28, 0x15 }, { 0x29, 0x00 }, { 0x2a, 0x01 }, { 0x2b, 0xf3 },
     { 0x28, 0x16 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x05 },
     { 0x28, 0x17 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x16 },
     { 0x28, 0x18 }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x0f },
     { 0x28, 0x19 }, { 0x29, 0x00 }, { 0x2a, 0x07 }, { 0x2b, 0xef },
     { 0x28, 0x1a }, { 0x29, 0x00 }, { 0x2a, 0x07 }, { 0x2b, 0xd8 },
     { 0x28, 0x1b }, { 0x29, 0x00 }, { 0x2a, 0x07 }, { 0x2b, 0xf1 },
     { 0x28, 0x1c }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x3d },
     { 0x28, 0x1d }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0x94 },
     { 0x28, 0x1e }, { 0x29, 0x00 }, { 0x2a, 0x00 }, { 0x2b, 0xba },
     { 0x50, 0x1e }, { 0x51, 0x5d },
     { 0x50, 0x22 }, { 0x51, 0x00 },
     { 0x50, 0x23 }, { 0x51, 0xc8 },
     { 0x50, 0x24 }, { 0x51, 0x00 },
     { 0x50, 0x25 }, { 0x51, 0xf0 },
     { 0x50, 0x26 }, { 0x51, 0x00 },
     { 0x50, 0x27 }, { 0x51, 0xc3 },
     { 0x50, 0x39 }, { 0x51, 0x02 },


It has very few changes from the one that comes with the controller, but 
when trying to use it I get the following:

{ 0x70, 0x0f },
{ 0x70, 0xff },
{ 0x09, 0x3a },
{ 0x50, 0xd1 }, { 0x51, 0x22 },
{ 0x09, 0x3e },               /* This line is inserted alone. Initialize 
the frontend? */
{ 0x39, 0x01 },              /* This line is inserted alone. Initialize 
the frontend? */
{ 0x71, 0x00 },              /* This line is inserted alone. Initialize 
the frontend? */
{ 0x28, 0x2a }, { 0x29, 0x5a }, { 0x2a, 0x6c }, { 0x2b, 0x63 },          
/* This line is inserted alone. Adjust IF frequency to match tuner? */
{ 0x28, 0x20 }, { 0x29, 0x33 }, { 0x2a, 0xdf }, { 0x2b, 0xa9 },          
/* This line is inserted alone. Adjust IF frequency to match tuner? */
{ 0x50, 0xd5 }, { 0x51, 0x00 },                /* This line is inserted 
alone. Adjust IF frequency to match tuner? */
{ 0x39, 0x00 },
{ 0x28, 0x2a }, { 0x29, 0x00 }, { 0x2a, 0xfd }, { 0x2b, 0xc8 },
{ 0x3b, 0x21 },
{ 0x3c, 0x38 },
{ 0x28, 0x20 }, { 0x29, 0x3e }, { 0x2a, 0xde }, { 0x2b, 0x4d },
{ 0x28, 0x22 }, { 0x29, 0x00 }, { 0x2a, 0x1f }, { 0x2b, 0xf0 },
...
For the rest I get the same thing on Windows. I have commented the line 
that added "alone".


I get the following with dvbv5:


alfredo@dhcppc4:~> dvbv5-zap -I zap -c ~/channels.conf "Encuentro"
using demux '/dev/dvb/adapter0/demux0'
reading channels from file '/home/alfredo/channels.conf'
CODE_RATE_HP (36) command not found during store
CODE_RATE_LP (37) command not found during store
MODULATION (4) command not found during store
HIERARCHY (40) command not found during store
tuning to 521142857 Hz
video pid 272
audio pid 273
status 01 | signal 0000 | snr ffff | ber 00000000 | unc 0000ffff |
status 01 | signal 0000 | snr ffff | ber 00000000 | unc 0000ffff |
status 01 | signal 0000 | snr ffff | ber 00000000 | unc 0000ffff |

Wath means: CODE_RATE_HP (36) command not found during store; 
CODE_RATE_LP (37) command not found during store; MODULATION (4) command 
not found during store; HIERARCHY (40) command not found during store?

Any suggestions,

Thanks,

Alfredo
