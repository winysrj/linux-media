Return-path: <linux-media-owner@vger.kernel.org>
Received: from mail.tttech.com ([188.20.77.195]:57108 "EHLO mail.tttech.com"
	rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S1753316Ab3KKLgU (ORCPT <rfc822;linux-media@vger.kernel.org>);
	Mon, 11 Nov 2013 06:36:20 -0500
From: =?utf-8?B?TWF0dGhpYXMgV8OkY2h0ZXI=?= <matthias.waechter@tttech.com>
To: Ricardo Ribalda Delgado <ricardo.ribalda@gmail.com>,
	Pawel Osciak <pawel@osciak.com>,
	Marek Szyprowski <m.szyprowski@samsung.com>,
	"Kyungmin Park" <kyungmin.park@samsung.com>,
	Mauro Carvalho Chehab <m.chehab@samsung.com>,
	"open list:VIDEOBUF2 FRAMEWORK" <linux-media@vger.kernel.org>,
	"sylvester.nawrocki@gmail.com" <sylvester.nawrocki@gmail.com>
Subject: RE: [PATCH] videobuf2-dma-sg: Support io userptr operations on io
 memory
Date: Mon, 11 Nov 2013 11:36:10 +0000
Message-ID: <3377d5e29bf6444086575515325b3555@TTTEX01.ds1.internal>
References: <1383767329-29985-1-git-send-email-ricardo.ribalda@gmail.com>
In-Reply-To: <1383767329-29985-1-git-send-email-ricardo.ribalda@gmail.com>
Content-Language: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

PiBAQCAtMTgwLDcgKzE4NiwyNiBAQCBzdGF0aWMgdm9pZCAqdmIyX2RtYV9zZ19nZXRfdXNlcnB0
cih2b2lkDQo+ICphbGxvY19jdHgsIHVuc2lnbmVkIGxvbmcgdmFkZHIsDQo+ICAgICAgIGlmICgh
YnVmLT5wYWdlcykNCj4gICAgICAgICAgICAgICByZXR1cm4gTlVMTDsNCj4NCj4gLSAgICAgbnVt
X3BhZ2VzX2Zyb21fdXNlciA9IGdldF91c2VyX3BhZ2VzKGN1cnJlbnQsIGN1cnJlbnQtPm1tLA0K
PiArICAgICBidWYtPnZtYSA9IGZpbmRfdm1hKGN1cnJlbnQtPm1tLCB2YWRkcik7DQo+ICsgICAg
IGlmICghYnVmLT52bWEpIHsNCj4gKyAgICAgICAgICAgICBkcHJpbnRrKDEsICJubyB2bWEgZm9y
IGFkZHJlc3MgJWx1XG4iLCB2YWRkcik7DQo+ICsgICAgICAgICAgICAgcmV0dXJuIE5VTEw7DQo+
ICsgICAgIH0NCj4gKw0KPiArICAgICBpZiAodm1hX2lzX2lvKGJ1Zi0+dm1hKSkgew0KPiArICAg
ICAgICAgICAgIGZvciAobnVtX3BhZ2VzX2Zyb21fdXNlciA9IDA7DQo+ICsgICAgICAgICAgICAg
ICAgICBudW1fcGFnZXNfZnJvbV91c2VyIDwgYnVmLT5udW1fcGFnZXM7DQo+ICsgICAgICAgICAg
ICAgICAgICArK251bV9wYWdlc19mcm9tX3VzZXIsIHZhZGRyICs9IFBBR0VfU0laRSkgew0KPiAr
ICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBwZm47DQo+ICsNCj4gKyAgICAgICAg
ICAgICAgICAgICAgIGlmIChmb2xsb3dfcGZuKGJ1Zi0+dm1hLCB2YWRkciwgJnBmbikpIHsNCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHByaW50aygxLCAibm8gcGFnZSBmb3IgYWRk
cmVzcyAlbHVcbiIsIHZhZGRyKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJl
YWs7DQo+ICsgICAgICAgICAgICAgICAgICAgICB9DQo+ICsgICAgICAgICAgICAgICAgICAgICBi
dWYtPnBhZ2VzW251bV9wYWdlc19mcm9tX3VzZXJdID0gcGZuX3RvX3BhZ2UocGZuKTsNCj4gKyAg
ICAgICAgICAgICB9DQo+ICsgICAgIH0gZWxzZQ0KPiArICAgICAgICAgICAgIG51bV9wYWdlc19m
cm9tX3VzZXIgPSBnZXRfdXNlcl9wYWdlcyhjdXJyZW50LCBjdXJyZW50LT5tbSwNCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhZGRyICYgUEFHRV9NQVNLLA0K
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmLT5udW1fcGFn
ZXMsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZSwN
Cg0KQ2FuIHlvdSBzYWZlbHkgYXNzdW1lIHRoYXQgeW91ciB1c2VycHRyIHdpbGwgY292ZXIgb25s
eSBvbmUgdm1hPyBBdCBsZWFzdCwgZ2V0X3VzZXJfcGFnZXMgKGNhbGxpbmcgX19nZXRfdXNlcl9w
YWdlcykgZG9lcyBub3QgYXNzdW1lIHRoYXQgYW5kIGNhbGxzIGZpbmRfdm1hKCkgd2hlbmV2ZXIg
dm1hLT52bV9lbmQgaXMgcmVhY2hlZC4NCg0K4oCTIE1hdHRoaWFzDQoNCkNPTkZJREVOVElBTElU
WTogVGhlIGNvbnRlbnRzIG9mIHRoaXMgZS1tYWlsIGFyZSBjb25maWRlbnRpYWwgYW5kIGludGVu
ZGVkIG9ubHkgZm9yIHRoZSBhYm92ZSBhZGRyZXNzZWUocykuIElmIHlvdSBhcmUgbm90IHRoZSBp
bnRlbmRlZCByZWNpcGllbnQsIG9yIHRoZSBwZXJzb24gcmVzcG9uc2libGUgZm9yIGRlbGl2ZXJp
bmcgaXQgdG8gdGhlIGludGVuZGVkIHJlY2lwaWVudCwgY29weWluZyBvciBkZWxpdmVyaW5nIGl0
IHRvIGFueW9uZSBlbHNlIG9yIHVzaW5nIGl0IGluIGFueSB1bmF1dGhvcml6ZWQgbWFubmVyIGlz
IHByb2hpYml0ZWQgYW5kIG1heSBiZSB1bmxhd2Z1bC4gSWYgeW91IHJlY2VpdmUgdGhpcyBlLW1h
aWwgYnkgbWlzdGFrZSwgcGxlYXNlIG5vdGlmeSB0aGUgc2VuZGVyIGFuZCB0aGUgc3lzdGVtcyBh
ZG1pbmlzdHJhdG9yIGF0IHN0cmF5bWFpbEB0dHRlY2guY29tIGltbWVkaWF0ZWx5Lg0K
