Return-path: <linux-media-owner@vger.kernel.org>
Received: from mga14.intel.com ([192.55.52.115]:25742 "EHLO mga14.intel.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1754179AbdEHOO0 (ORCPT <rfc822;linux-media@vger.kernel.org>);
        Mon, 8 May 2017 10:14:26 -0400
From: "Mani, Rajmohan" <rajmohan.mani@intel.com>
To: Hans Verkuil <hverkuil@xs4all.nl>,
        "linux-media@vger.kernel.org" <linux-media@vger.kernel.org>,
        "mchehab@kernel.org" <mchehab@kernel.org>
Subject: RE: [PATCH] dw9714: Initial driver for dw9714 VCM
Date: Mon, 8 May 2017 14:14:19 +0000
Message-ID: <6F87890CF0F5204F892DEA1EF0D77A595AA05426@FMSMSX114.amr.corp.intel.com>
References: <1494156804-9784-1-git-send-email-rajmohan.mani@intel.com>
 <a13f5faa-36e7-67bc-60c7-83b44a37b06f@xs4all.nl>
In-Reply-To: <a13f5faa-36e7-67bc-60c7-83b44a37b06f@xs4all.nl>
Content-Language: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

SGkgSGFucywNCg0KVGhhbmtzIGZvciB0aGUgcXVpY2sgcmV2aWV3LiBQbGVhc2Ugc2VlIG15IGNv
bW1lbnRzIGlubGluZS4uLg0KSSB3aWxsIHBvc3QgdGhlIG5ldyB2MiBwYXRjaCBzb29uLg0KDQo+
IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+IEZyb206IEhhbnMgVmVya3VpbCBbbWFpbHRv
Omh2ZXJrdWlsQHhzNGFsbC5ubF0NCj4gU2VudDogTW9uZGF5LCBNYXkgMDgsIDIwMTcgNjo1OSBQ
TQ0KPiBUbzogTWFuaSwgUmFqbW9oYW4gPHJham1vaGFuLm1hbmlAaW50ZWwuY29tPjsgbGludXgt
DQo+IG1lZGlhQHZnZXIua2VybmVsLm9yZzsgbWNoZWhhYkBrZXJuZWwub3JnDQo+IFN1YmplY3Q6
IFJlOiBbUEFUQ0hdIGR3OTcxNDogSW5pdGlhbCBkcml2ZXIgZm9yIGR3OTcxNCBWQ00NCj4gDQo+
IEhpIFJham1vaGFuLA0KPiANCj4gVGhhbmtzIGZvciB0aGUgcGF0Y2ghDQo+IA0KPiBBIHF1aWNr
IGNvZGUgcmV2aWV3Og0KPiANCj4gT24gMDUvMDcvMjAxNyAwMTozMyBQTSwgcmFqbW9oYW4ubWFu
aUBpbnRlbC5jb20gd3JvdGU6DQo+ID4gRnJvbTogUmFqbW9oYW4gTWFuaSA8cmFqbW9oYW4ubWFu
aUBpbnRlbC5jb20+DQo+ID4NCj4gPiBEVzk3MTQgaXMgYSAxMCBiaXQgREFDLCBkZXNpZ25lZCBm
b3IgbGluZWFyIGNvbnRyb2wgb2Ygdm9pY2UgY29pbA0KPiA+IG1vdG9yLg0KPiA+DQo+ID4gVGhp
cyBkcml2ZXIgY3JlYXRlcyBhIFY0TDIgc3ViZGV2aWNlIGFuZCBwcm92aWRlcyBjb250cm9sIHRv
IHNldCB0aGUNCj4gPiBkZXNpcmVkIGZvY3VzLg0KPiA+DQo+ID4gU2lnbmVkLW9mZi1ieTogUmFq
bW9oYW4gTWFuaSA8cmFqbW9oYW4ubWFuaUBpbnRlbC5jb20+DQo+ID4gLS0tDQo+ID4gIGRyaXZl
cnMvbWVkaWEvaTJjL0tjb25maWcgIHwgICA5ICsrDQo+ID4gIGRyaXZlcnMvbWVkaWEvaTJjL01h
a2VmaWxlIHwgICAxICsNCj4gPiAgZHJpdmVycy9tZWRpYS9pMmMvZHc5NzE0LmMgfCAzMzMNCj4g
PiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysNCj4gPiAgMyBm
aWxlcyBjaGFuZ2VkLCAzNDMgaW5zZXJ0aW9ucygrKQ0KPiA+ICBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9tZWRpYS9pMmMvZHc5NzE0LmMNCj4gPg0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L21lZGlhL2kyYy9LY29uZmlnIGIvZHJpdmVycy9tZWRpYS9pMmMvS2NvbmZpZw0KPiA+IGluZGV4
IGZkMTgxYzkuLjRmMGE3YWQgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9tZWRpYS9pMmMvS2Nv
bmZpZw0KPiA+ICsrKyBiL2RyaXZlcnMvbWVkaWEvaTJjL0tjb25maWcNCj4gPiBAQCAtMzAwLDYg
KzMwMCwxNSBAQCBjb25maWcgVklERU9fQUQ1ODIwDQo+ID4gIAkgIFRoaXMgaXMgYSBkcml2ZXIg
Zm9yIHRoZSBBRDU4MjAgY2FtZXJhIGxlbnMgdm9pY2UgY29pbC4NCj4gPiAgCSAgSXQgaXMgdXNl
ZCBmb3IgZXhhbXBsZSBpbiBOb2tpYSBOOTAwIChSWC01MSkuDQo+ID4NCj4gPiArY29uZmlnIFZJ
REVPX0RXOTcxNA0KPiA+ICsJdHJpc3RhdGUgIkRXOTcxNCBsZW5zIHZvaWNlIGNvaWwgc3VwcG9y
dCINCj4gPiArCWRlcGVuZHMgb24gSTJDICYmIFZJREVPX1Y0TDIgJiYgTUVESUFfQ09OVFJPTExF
Ug0KPiA+ICsJLS0taGVscC0tLQ0KPiA+ICsJICBUaGlzIGlzIGEgZHJpdmVyIGZvciB0aGUgRFc5
NzE0IGNhbWVyYSBsZW5zIHZvaWNlIGNvaWwuDQo+ID4gKwkgIERXOTcxNCBpcyBhIDEwIGJpdCBE
QUMgd2l0aCAxMjBtQSBvdXRwdXQgY3VycmVudCBzaW5rDQo+ID4gKwkgIGNhcGFiaWxpdHkuIFRo
aXMgaXMgZGVzaWduZWQgZm9yIGxpbmVhciBjb250cm9sIG9mDQo+ID4gKwkgIHZvaWNlIGNvaWwg
bW90b3JzLCBjb250cm9sbGVkIHZpYSBJMkMgc2VyaWFsIGludGVyZmFjZS4NCj4gPiArDQo+ID4g
IGNvbmZpZyBWSURFT19TQUE3MTEwDQo+ID4gIAl0cmlzdGF0ZSAiUGhpbGlwcyBTQUE3MTEwIHZp
ZGVvIGRlY29kZXIiDQo+ID4gIAlkZXBlbmRzIG9uIFZJREVPX1Y0TDIgJiYgSTJDDQo+ID4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvaTJjL01ha2VmaWxlIGIvZHJpdmVycy9tZWRpYS9pMmMv
TWFrZWZpbGUNCj4gPiBpbmRleCA2MjMyM2VjLi45ODdiZDFmIDEwMDY0NA0KPiA+IC0tLSBhL2Ry
aXZlcnMvbWVkaWEvaTJjL01ha2VmaWxlDQo+ID4gKysrIGIvZHJpdmVycy9tZWRpYS9pMmMvTWFr
ZWZpbGUNCj4gPiBAQCAtMjEsNiArMjEsNyBAQCBvYmotJChDT05GSUdfVklERU9fU0FBNzEyNykg
Kz0gc2FhNzEyNy5vDQo+ID4gIG9iai0kKENPTkZJR19WSURFT19TQUE3MTg1KSArPSBzYWE3MTg1
Lm8NCj4gPiAgb2JqLSQoQ09ORklHX1ZJREVPX1NBQTY3NTJIUykgKz0gc2FhNjc1MmhzLm8NCj4g
PiAgb2JqLSQoQ09ORklHX1ZJREVPX0FENTgyMCkgICs9IGFkNTgyMC5vDQo+ID4gK29iai0kKENP
TkZJR19WSURFT19EVzk3MTQpICArPSBkdzk3MTQubw0KPiA+ICBvYmotJChDT05GSUdfVklERU9f
QURWNzE3MCkgKz0gYWR2NzE3MC5vDQo+ID4gIG9iai0kKENPTkZJR19WSURFT19BRFY3MTc1KSAr
PSBhZHY3MTc1Lm8NCj4gPiAgb2JqLSQoQ09ORklHX1ZJREVPX0FEVjcxODApICs9IGFkdjcxODAu
byBkaWZmIC0tZ2l0DQo+ID4gYS9kcml2ZXJzL21lZGlhL2kyYy9kdzk3MTQuYyBiL2RyaXZlcnMv
bWVkaWEvaTJjL2R3OTcxNC5jIG5ldyBmaWxlDQo+ID4gbW9kZSAxMDA2NDQgaW5kZXggMDAwMDAw
MC4uMjc2ZDNmMg0KPiA+IC0tLSAvZGV2L251bGwNCj4gPiArKysgYi9kcml2ZXJzL21lZGlhL2ky
Yy9kdzk3MTQuYw0KPiA+IEBAIC0wLDAgKzEsMzMzIEBADQo+ID4gKy8qDQo+ID4gKyAqIENvcHly
aWdodCAoYykgMjAxNS0tMjAxNyBJbnRlbCBDb3Jwb3JhdGlvbi4NCj4gPiArICoNCj4gPiArICog
VGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFu
ZC9vcg0KPiA+ICsgKiBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJh
bCBQdWJsaWMgTGljZW5zZQ0KPiA+ICt2ZXJzaW9uDQo+ID4gKyAqIDIgYXMgcHVibGlzaGVkIGJ5
IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uDQo+ID4gKyAqDQo+ID4gKyAqIFRoaXMgcHJv
Z3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLA0K
PiA+ICsgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGll
ZCB3YXJyYW50eSBvZg0KPiA+ICsgKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQ
QVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlDQo+ID4gKyAqIEdOVSBHZW5lcmFsIFB1YmxpYyBM
aWNlbnNlIGZvciBtb3JlIGRldGFpbHMuDQo+ID4gKyAqLw0KPiA+ICsNCj4gPiArI2luY2x1ZGUg
PGxpbnV4L2FjcGkuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+DQo+ID4gKyNpbmNs
dWRlIDxsaW51eC9pMmMuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPg0KPiA+ICsj
aW5jbHVkZSA8bGludXgvcG1fcnVudGltZS5oPg0KPiA+ICsjaW5jbHVkZSA8bWVkaWEvdjRsMi1j
dHJscy5oPg0KPiA+ICsjaW5jbHVkZSA8bWVkaWEvdjRsMi1kZXZpY2UuaD4NCj4gPiArDQo+ID4g
KyNkZWZpbmUgRFc5NzE0X05BTUUJCSJkdzk3MTQiDQo+ID4gKyNkZWZpbmUgRFc5NzE0X01BWF9G
T0NVU19QT1MJMTAyMw0KPiA+ICsjZGVmaW5lIERXOTcxNF9DVFJMX1NURVBTCTE2CS8qIEtlZXAg
dGhpcyB2YWx1ZSBwb3dlciBvZiAyDQo+ICovDQo+ID4gKyNkZWZpbmUgRFc5NzE0X0NUUkxfREVM
QVlfVVMJMTAwMA0KPiA+ICsvKg0KPiA+ICsgKiBTWzM6Ml0gPSAweDAwLCBjb2RlcyBwZXIgc3Rl
cCBmb3IgIkxpbmVhciBTbG9wZSBDb250cm9sIg0KPiA+ICsgKiBTWzE6MF0gPSAweDAwLCBzdGVw
IHBlcmlvZA0KPiA+ICsgKi8NCj4gPiArI2RlZmluZSBEVzk3MTRfREVGQVVMVF9TIDB4MA0KPiA+
ICsjZGVmaW5lIERXOTcxNF9WQUwoZGF0YSwgcykgKHUxNikoKGRhdGEpIDw8IDQgfCAocykpDQo+
ID4gKw0KPiA+ICsvKiBkdzk3MTQgZGV2aWNlIHN0cnVjdHVyZSAqLw0KPiA+ICtzdHJ1Y3QgZHc5
NzE0X2RldmljZSB7DQo+ID4gKwlzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50Ow0KPiA+ICsJc3Ry
dWN0IHY0bDJfY3RybF9oYW5kbGVyIGN0cmxzX3ZjbTsNCj4gPiArCXN0cnVjdCB2NGwyX3N1YmRl
diBzZDsNCj4gPiArCXUxNiBjdXJyZW50X3ZhbDsNCj4gPiArfTsNCj4gPiArDQo+ID4gKyNkZWZp
bmUgdG9fZHc5NzE0X3ZjbShfY3RybCkJXA0KPiA+ICsJY29udGFpbmVyX29mKF9jdHJsLT5oYW5k
bGVyLCBzdHJ1Y3QgZHc5NzE0X2RldmljZSwgY3RybHNfdmNtKQ0KPiA+ICsNCj4gPiArc3RhdGlj
IGludCBkdzk3MTRfaTJjX3dyaXRlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQsIHUxNiBkYXRh
KSB7DQo+ID4gKwljb25zdCBpbnQgbnVtX21zZyA9IDE7DQo+ID4gKwlpbnQgcmV0Ow0KPiA+ICsJ
dTE2IHZhbCA9IGNwdV90b19iZTE2KGRhdGEpOw0KPiA+ICsJc3RydWN0IGkyY19tc2cgbXNnID0g
ew0KPiA+ICsJCS5hZGRyID0gY2xpZW50LT5hZGRyLA0KPiA+ICsJCS5mbGFncyA9IDAsDQo+ID4g
KwkJLmxlbiA9IHNpemVvZih2YWwpLA0KPiA+ICsJCS5idWYgPSAodTggKikgJnZhbCwNCj4gPiAr
CX07DQo+ID4gKw0KPiA+ICsJcmV0ID0gaTJjX3RyYW5zZmVyKGNsaWVudC0+YWRhcHRlciwgJm1z
ZywgbnVtX21zZyk7DQo+ID4gKw0KPiA+ICsJLypPbmUgcmV0cnkgKi8NCj4gPiArCWlmIChyZXQg
IT0gbnVtX21zZykNCj4gPiArCQlyZXQgPSBpMmNfdHJhbnNmZXIoY2xpZW50LT5hZGFwdGVyLCAm
bXNnLCBudW1fbXNnKTsNCj4gPiArDQo+ID4gKwlpZiAocmV0ICE9IG51bV9tc2cpIHsNCj4gPiAr
CQlkZXZfZXJyKCZjbGllbnQtPmRldiwgIkkyQyB3cml0ZSBmYWlsIGZhaWxcbiIpOw0KPiA+ICsJ
CXJldHVybiAtRUlPOw0KPiA+ICsJfSBlbHNlIHsNCj4gDQo+IE5vIG5lZWQgZm9yIHRoZSAnZWxz
ZScgaGVyZSwgc2luY2UgdGhlICdpZicgYWxyZWFkeSByZXR1cm5zLg0KDQpBY2sNCkkgYWxzbyBy
ZW1vdmVkIHRoZSByZWR1bmRhbnQgIiBmYWlsIiBpbiB0aGUgZGV2X2VycigpIG1lc3NhZ2UuDQoN
Cj4gDQo+ID4gKwkJcmV0dXJuIDA7DQo+ID4gKwl9DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRp
YyBpbnQgZHc5NzE0X3RfZm9jdXNfdmNtKHN0cnVjdCBkdzk3MTRfZGV2aWNlICpkdzk3MTRfZGV2
LCB1MTYNCj4gPiArdmFsKSB7DQo+ID4gKwlzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50ID0gZHc5
NzE0X2Rldi0+Y2xpZW50Ow0KPiA+ICsJaW50IHJldCA9IC1FSU5WQUw7DQo+ID4gKw0KPiA+ICsJ
ZGV2X2RiZygmY2xpZW50LT5kZXYsICJTZXR0aW5nIG5ldyB2YWx1ZSBWQ006ICVkXG4iLCB2YWwp
Ow0KPiA+ICsJZHc5NzE0X2Rldi0+Y3VycmVudF92YWwgPSB2YWw7DQo+ID4gKw0KPiA+ICsJcmV0
ID0gZHc5NzE0X2kyY193cml0ZShjbGllbnQsIERXOTcxNF9WQUwodmFsLA0KPiBEVzk3MTRfREVG
QVVMVF9TKSk7DQo+ID4gKwlyZXR1cm4gcmV0Ow0KPiANCj4gSnVzdCBkbyByZXR1cm4gZHc5NzE0
X2kyY193cml0ZShjbGllbnQsIERXOTcxNF9WQUwodmFsLA0KPiBEVzk3MTRfREVGQVVMVF9TKSk7
DQo+IA0KPiBUaHVzIGRyb3BwaW5nIHRoZSAncmV0JyB2YXJpYWJsZS4NCg0KQWNrDQoNCj4gDQo+
ID4gK30NCj4gPiArDQo+ID4gK3N0YXRpYyBpbnQgZHc5NzE0X3NldF9jdHJsKHN0cnVjdCB2NGwy
X2N0cmwgKmN0cmwpIHsNCj4gPiArCXN0cnVjdCBkdzk3MTRfZGV2aWNlICpkZXZfdmNtID0gdG9f
ZHc5NzE0X3ZjbShjdHJsKTsNCj4gPiArDQo+ID4gKwlpZiAoY3RybC0+aWQgPT0gVjRMMl9DSURf
Rk9DVVNfQUJTT0xVVEUpDQo+ID4gKwkJcmV0dXJuIGR3OTcxNF90X2ZvY3VzX3ZjbShkZXZfdmNt
LCBjdHJsLT52YWwpOw0KPiANCj4gUGVyc29uYWxseSBJIHdvdWxkIG1lcmdlIHRoZSBkdzk3MTRf
dF9mb2N1c192Y20gaW4gaGVyZS4gQW5kIHByb2JhYmx5IHVzZSBhDQo+IHN3aXRjaCBpbnN0ZWFk
IG9mIGFuIGlmLiBVcCB0byB5b3UsIHRob3VnaC4NCg0KV2l0aCBqdXN0IG9uZSBjdHJsLT5pZCwg
ZHc5NzE0X3NldF9jdHJsKCkgbG9va3MgdG8gYmUgbW9yZSByZWFkYWJsZSB3aXRoIHRoZSBpZiBh
bmQgZHc5NzE0X3RfZm9jdXNfdmNtKCkgY2FsbC4NCldoZW4gbW9yZSBpZHMgYXJlIGFkZGVkLCBt
ZXJnaW5nIG9mIGR3OTcxNF90X2ZvY3VzX3ZjbSgpIGFuZCBzd2l0Y2ggc3RhdGVtZW50IGJlY29t
ZXMgbW9yZSBhcHQuIFNvLCBmb3Igbm93LCBJIGFtIGxlYXZpbmcgaXQgYXMgc3VjaC4NCg0KPiAN
Cj4gPiArCWVsc2UNCj4gDQo+IE5vIG5lZWQgZm9yICdlbHNlJw0KDQpBY2sNCg0KPiANCj4gPiAr
CQlyZXR1cm4gLUVJTlZBTDsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIGNvbnN0IHN0cnVj
dCB2NGwyX2N0cmxfb3BzIGR3OTcxNF92Y21fY3RybF9vcHMgPSB7DQo+ID4gKwkuc19jdHJsID0g
ZHc5NzE0X3NldF9jdHJsLA0KPiA+ICt9Ow0KPiA+ICsNCj4gPiArc3RhdGljIGludCBkdzk3MTRf
aW5pdF9jb250cm9scyhzdHJ1Y3QgZHc5NzE0X2RldmljZSAqZGV2X3ZjbSkgew0KPiA+ICsJc3Ry
dWN0IHY0bDJfY3RybF9oYW5kbGVyICpoZGwgPSAmZGV2X3ZjbS0+Y3RybHNfdmNtOw0KPiA+ICsJ
Y29uc3Qgc3RydWN0IHY0bDJfY3RybF9vcHMgKm9wcyA9ICZkdzk3MTRfdmNtX2N0cmxfb3BzOw0K
PiA+ICsJc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCA9IGRldl92Y20tPmNsaWVudDsNCj4gPiAr
DQo+ID4gKwl2NGwyX2N0cmxfaGFuZGxlcl9pbml0KGhkbCwgMSk7DQo+ID4gKw0KPiA+ICsJdjRs
Ml9jdHJsX25ld19zdGQoaGRsLCBvcHMsIFY0TDJfQ0lEX0ZPQ1VTX0FCU09MVVRFLA0KPiA+ICsJ
CQkgIDAsIERXOTcxNF9NQVhfRk9DVVNfUE9TLCAxLCAwKTsNCj4gPiArDQo+ID4gKwlpZiAoaGRs
LT5lcnJvcikNCj4gPiArCQlkZXZfZXJyKCZjbGllbnQtPmRldiwgImR3OTcxNF9pbml0X2NvbnRy
b2xzIGZhaWxcbiIpOw0KPiA+ICsJZGV2X3ZjbS0+c2QuY3RybF9oYW5kbGVyID0gaGRsOw0KPiA+
ICsJcmV0dXJuIGhkbC0+ZXJyb3I7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRpYyB2b2lkIGR3
OTcxNF9zdWJkZXZfY2xlYW51cChzdHJ1Y3QgZHc5NzE0X2RldmljZSAqZHc5NzE0X2Rldikgew0K
PiA+ICsJdjRsMl9jdHJsX2hhbmRsZXJfZnJlZSgmZHc5NzE0X2Rldi0+Y3RybHNfdmNtKTsNCj4g
PiArCXY0bDJfYXN5bmNfdW5yZWdpc3Rlcl9zdWJkZXYoJmR3OTcxNF9kZXYtPnNkKTsNCj4gPiAr
CXY0bDJfZGV2aWNlX3VucmVnaXN0ZXJfc3ViZGV2KCZkdzk3MTRfZGV2LT5zZCk7DQo+ID4gKwlt
ZWRpYV9lbnRpdHlfY2xlYW51cCgmZHc5NzE0X2Rldi0+c2QuZW50aXR5KTsNCj4gPiArfQ0KPiA+
ICsNCj4gPiArc3RhdGljIGludCBkdzk3MTRfb3BlbihzdHJ1Y3QgdjRsMl9zdWJkZXYgKnNkLCBz
dHJ1Y3QgdjRsMl9zdWJkZXZfZmgNCj4gPiArKmZoKSB7DQo+ID4gKwlzdHJ1Y3QgZHc5NzE0X2Rl
dmljZSAqZHc5NzE0X2RldiA9IGNvbnRhaW5lcl9vZihzZCwNCj4gPiArCQkJCQkJCXN0cnVjdA0K
PiBkdzk3MTRfZGV2aWNlLA0KPiA+ICsJCQkJCQkJc2QpOw0KPiA+ICsJc3RydWN0IGRldmljZSAq
ZGV2ID0gJmR3OTcxNF9kZXYtPmNsaWVudC0+ZGV2Ow0KPiA+ICsJaW50IHJ2YWw7DQo+ID4gKw0K
PiA+ICsJcnZhbCA9IHBtX3J1bnRpbWVfZ2V0X3N5bmMoZGV2KTsNCj4gPiArCWRldl9kYmcoZGV2
LCAiJXMgcnZhbCA9ICVkXG4iLCBfX2Z1bmNfXywgcnZhbCk7DQo+IA0KPiBUaGUgZXJyb3IgaXMg
cHJvcGFnYXRlZCB0byB1c2Vyc3BhY2UgYW55d2F5IGFzIGVycm5vLCBzbyBkbyB5b3UgcmVhbGx5
IG5lZWQgYQ0KPiBkZXZfZGJnIGhlcmU/DQoNCkFjaw0KSSByZW1vdmVkIHRoZSBkZXZfZGJnIG1l
c3NhZ2UuIEkgYWxzbyBnb3QgcmlkIG9mIHJ2YWwsIGJ5IGp1c3QgZG9pbmcgcmV0IHBtX3J1bnRp
bWVfZ2V0X3N5bmMoZGV2KQ0KPiANCj4gPiArDQo+ID4gKwlyZXR1cm4gcnZhbDsNCj4gPiArfQ0K
PiA+ICsNCj4gPiArc3RhdGljIGludCBkdzk3MTRfY2xvc2Uoc3RydWN0IHY0bDJfc3ViZGV2ICpz
ZCwgc3RydWN0IHY0bDJfc3ViZGV2X2ZoDQo+ID4gKypmaCkgew0KPiA+ICsJc3RydWN0IGR3OTcx
NF9kZXZpY2UgKmR3OTcxNF9kZXYgPSBjb250YWluZXJfb2Yoc2QsDQo+ID4gKwkJCQkJCQlzdHJ1
Y3QNCj4gZHc5NzE0X2RldmljZSwNCj4gPiArCQkJCQkJCXNkKTsNCj4gPiArCXN0cnVjdCBkZXZp
Y2UgKmRldiA9ICZkdzk3MTRfZGV2LT5jbGllbnQtPmRldjsNCj4gPiArDQo+ID4gKwlkZXZfZGJn
KGRldiwgIiVzXG4iLCBfX2Z1bmNfXyk7DQo+IA0KPiBTZWVtcyB1c2VsZXNzIGhlcmUgYXMgd2Vs
bC4NCg0KQWNrDQoNCj4gDQo+ID4gKwlwbV9ydW50aW1lX3B1dChkZXYpOw0KPiA+ICsNCj4gPiAr
CXJldHVybiAwOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHY0bDJf
c3ViZGV2X2ludGVybmFsX29wcyBkdzk3MTRfaW50X29wcyA9IHsNCj4gPiArCS5vcGVuID0gZHc5
NzE0X29wZW4sDQo+ID4gKwkuY2xvc2UgPSBkdzk3MTRfY2xvc2UsDQo+ID4gK307DQo+ID4gKw0K
PiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHY0bDJfc3ViZGV2X29wcyBkdzk3MTRfb3BzID0geyB9
Ow0KPiA+ICsNCj4gPiArc3RhdGljIGludCBkdzk3MTRfcHJvYmUoc3RydWN0IGkyY19jbGllbnQg
KmNsaWVudCwNCj4gPiArCQkJY29uc3Qgc3RydWN0IGkyY19kZXZpY2VfaWQgKmRldmlkKSB7DQo+
ID4gKwlzdHJ1Y3QgZHc5NzE0X2RldmljZSAqZHc5NzE0X2RldjsNCj4gPiArCWludCBydmFsOw0K
PiA+ICsNCj4gPiArCWR3OTcxNF9kZXYgPSBkZXZtX2t6YWxsb2MoJmNsaWVudC0+ZGV2LCBzaXpl
b2YoKmR3OTcxNF9kZXYpLA0KPiA+ICsJCQkJICBHRlBfS0VSTkVMKTsNCj4gPiArDQo+ID4gKwlp
ZiAoZHc5NzE0X2RldiA9PSBOVUxMKQ0KPiA+ICsJCXJldHVybiAtRU5PTUVNOw0KPiA+ICsNCj4g
PiArCWR3OTcxNF9kZXYtPmNsaWVudCA9IGNsaWVudDsNCj4gPiArDQo+ID4gKwl2NGwyX2kyY19z
dWJkZXZfaW5pdCgmZHc5NzE0X2Rldi0+c2QsIGNsaWVudCwgJmR3OTcxNF9vcHMpOw0KPiA+ICsJ
ZHc5NzE0X2Rldi0+c2QuZmxhZ3MgfD0gVjRMMl9TVUJERVZfRkxfSEFTX0RFVk5PREU7DQo+ID4g
Kwlkdzk3MTRfZGV2LT5zZC5pbnRlcm5hbF9vcHMgPSAmZHc5NzE0X2ludF9vcHM7DQo+ID4gKw0K
PiA+ICsJc25wcmludGYoZHc5NzE0X2Rldi0+c2QubmFtZSwNCj4gPiArCQkgc2l6ZW9mKGR3OTcx
NF9kZXYtPnNkLm5hbWUpLA0KPiA+ICsJCSBEVzk3MTRfTkFNRSAiICVkLSU0LjR4IiwgaTJjX2Fk
YXB0ZXJfaWQoY2xpZW50LQ0KPiA+YWRhcHRlciksDQo+ID4gKwkJIGNsaWVudC0+YWRkcik7DQo+
IA0KPiB2NGwyX2kyY19zdWJkZXZfaW5pdCgpIGFscmVhZHkgZmlsbHMgaW4gdGhlIHNkLm5hbWUs
IHNvIHRoaXMgY2FuIGJlIGRyb3BwZWQuDQoNCkFjaw0KDQo+IA0KPiA+ICsNCj4gPiArCXJ2YWwg
PSBkdzk3MTRfaW5pdF9jb250cm9scyhkdzk3MTRfZGV2KTsNCj4gPiArCWlmIChydmFsKQ0KPiA+
ICsJCWdvdG8gZXJyX2NsZWFudXA7DQo+ID4gKw0KPiA+ICsJcnZhbCA9IG1lZGlhX2VudGl0eV9w
YWRzX2luaXQoJmR3OTcxNF9kZXYtPnNkLmVudGl0eSwgMCwgTlVMTCk7DQo+ID4gKwlpZiAocnZh
bCA8IDApDQo+ID4gKwkJZ290byBlcnJfY2xlYW51cDsNCj4gPiArDQo+ID4gKwlkdzk3MTRfZGV2
LT5zZC5lbnRpdHkuZnVuY3Rpb24gPSBNRURJQV9FTlRfRl9MRU5TOw0KPiA+ICsNCj4gPiArCXJ2
YWwgPSB2NGwyX2FzeW5jX3JlZ2lzdGVyX3N1YmRldigmZHc5NzE0X2Rldi0+c2QpOw0KPiA+ICsJ
aWYgKHJ2YWwgPCAwKQ0KPiA+ICsJCWdvdG8gZXJyX2NsZWFudXA7DQo+ID4gKw0KPiA+ICsJcG1f
cnVudGltZV9lbmFibGUoJmNsaWVudC0+ZGV2KTsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4g
PiArDQo+ID4gK2Vycl9jbGVhbnVwOg0KPiA+ICsJZHc5NzE0X3N1YmRldl9jbGVhbnVwKGR3OTcx
NF9kZXYpOw0KPiA+ICsJZGV2X2VycigmY2xpZW50LT5kZXYsICJQcm9iZSBmYWlsZWQ6ICVkXG4i
LCBydmFsKTsNCj4gPiArCXJldHVybiBydmFsOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMg
aW50IGR3OTcxNF9yZW1vdmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkgew0KPiA+ICsJc3Ry
dWN0IHY0bDJfc3ViZGV2ICpzZCA9IGkyY19nZXRfY2xpZW50ZGF0YShjbGllbnQpOw0KPiA+ICsJ
c3RydWN0IGR3OTcxNF9kZXZpY2UgKmR3OTcxNF9kZXYgPSBjb250YWluZXJfb2Yoc2QsDQo+ID4g
KwkJCQkJCQlzdHJ1Y3QNCj4gZHc5NzE0X2RldmljZSwNCj4gPiArCQkJCQkJCXNkKTsNCj4gPiAr
DQo+ID4gKwlwbV9ydW50aW1lX2Rpc2FibGUoJmNsaWVudC0+ZGV2KTsNCj4gPiArCWR3OTcxNF9z
dWJkZXZfY2xlYW51cChkdzk3MTRfZGV2KTsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiAr
fQ0KPiA+ICsNCj4gPiArI2lmZGVmIENPTkZJR19QTQ0KPiA+ICsNCj4gPiArc3RhdGljIGludCBk
dzk3MTRfcnVudGltZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikgew0KPiA+ICsJcmV0dXJu
IDA7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRpYyBpbnQgZHc5NzE0X3J1bnRpbWVfcmVzdW1l
KHN0cnVjdCBkZXZpY2UgKmRldikgew0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK30NCj4gPiArDQo+
ID4gKy8qIFRoaXMgZnVuY3Rpb24gc2V0cyB0aGUgdmNtIHBvc2l0aW9uLCBzbyBpdCBjb25zdW1l
cyBsZWFzdCBjdXJyZW50DQo+ID4gKyovIHN0YXRpYyBpbnQgZHc5NzE0X3N1c3BlbmQoc3RydWN0
IGRldmljZSAqZGV2KSB7DQo+ID4gKwlzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50ID0gdG9faTJj
X2NsaWVudChkZXYpOw0KPiA+ICsJc3RydWN0IHY0bDJfc3ViZGV2ICpzZCA9IGkyY19nZXRfY2xp
ZW50ZGF0YShjbGllbnQpOw0KPiA+ICsJc3RydWN0IGR3OTcxNF9kZXZpY2UgKmR3OTcxNF9kZXYg
PSBjb250YWluZXJfb2Yoc2QsDQo+ID4gKwkJCQkJCQlzdHJ1Y3QNCj4gZHc5NzE0X2RldmljZSwN
Cj4gPiArCQkJCQkJCXNkKTsNCj4gPiArCWludCByZXQsIHZhbDsNCj4gPiArDQo+ID4gKwlkZXZf
ZGJnKGRldiwgIiVzXG4iLCBfX2Z1bmNfXyk7DQo+ID4gKw0KPiA+ICsJZm9yICh2YWwgPSBkdzk3
MTRfZGV2LT5jdXJyZW50X3ZhbCAmIH4oRFc5NzE0X0NUUkxfU1RFUFMgLSAxKTsNCj4gPiArCSAg
ICAgdmFsID49IDA7IHZhbCAtPSBEVzk3MTRfQ1RSTF9TVEVQUykgew0KPiA+ICsJCXJldCA9IGR3
OTcxNF9pMmNfd3JpdGUoY2xpZW50LA0KPiA+ICsJCQkJICAgICAgIERXOTcxNF9WQUwoKHUxNikg
dmFsLA0KPiBEVzk3MTRfREVGQVVMVF9TKSk7DQo+ID4gKwkJaWYgKHJldCkNCj4gPiArCQkJZGV2
X2VycihkZXYsICIlcyBJMkMgZmFpbHVyZTogJWQiLCBfX2Z1bmNfXywgcmV0KTsNCj4gPiArCQl1
c2xlZXBfcmFuZ2UoRFc5NzE0X0NUUkxfREVMQVlfVVMsDQo+IERXOTcxNF9DVFJMX0RFTEFZX1VT
ICsgMTApOw0KPiA+ICsJfQ0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK30NCj4gPiArDQo+ID4gKy8q
DQo+ID4gKyAqIFRoaXMgZnVuY3Rpb24gc2V0cyB0aGUgdmNtIHBvc2l0aW9uLCBzbyB0aGUgZm9j
dXMgcG9zaXRpb24gaXMgc2V0DQo+ID4gKyAqIGNsb3NlciB0byB0aGUgY2FtZXJhDQo+ID4gKyAq
Lw0KPiA+ICtzdGF0aWMgaW50IGR3OTcxNF9yZXN1bWUoc3RydWN0IGRldmljZSAqZGV2KSB7DQo+
ID4gKwlzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50ID0gdG9faTJjX2NsaWVudChkZXYpOw0KPiA+
ICsJc3RydWN0IHY0bDJfc3ViZGV2ICpzZCA9IGkyY19nZXRfY2xpZW50ZGF0YShjbGllbnQpOw0K
PiA+ICsJc3RydWN0IGR3OTcxNF9kZXZpY2UgKmR3OTcxNF9kZXYgPSBjb250YWluZXJfb2Yoc2Qs
DQo+ID4gKwkJCQkJCQlzdHJ1Y3QNCj4gZHc5NzE0X2RldmljZSwNCj4gPiArCQkJCQkJCXNkKTsN
Cj4gPiArCWludCByZXQsIHZhbDsNCj4gPiArDQo+ID4gKwlkZXZfZGJnKGRldiwgIiVzXG4iLCBf
X2Z1bmNfXyk7DQo+ID4gKw0KPiA+ICsJZm9yICh2YWwgPSBkdzk3MTRfZGV2LT5jdXJyZW50X3Zh
bCAlIERXOTcxNF9DVFJMX1NURVBTOw0KPiA+ICsJICAgICB2YWwgPCBkdzk3MTRfZGV2LT5jdXJy
ZW50X3ZhbCArIERXOTcxNF9DVFJMX1NURVBTIC0gMTsNCj4gPiArCSAgICAgdmFsICs9IERXOTcx
NF9DVFJMX1NURVBTKSB7DQo+ID4gKwkJcmV0ID0gZHc5NzE0X2kyY193cml0ZShjbGllbnQsDQo+
ID4gKwkJCQkgICAgICAgRFc5NzE0X1ZBTCgodTE2KSB2YWwsDQo+IERXOTcxNF9ERUZBVUxUX1Mp
KTsNCj4gPiArCQlpZiAocmV0KQ0KPiA+ICsJCQlkZXZfZXJyKGRldiwgIiVzIEkyQyBmYWlsdXJl
OiAlZCIsIF9fZnVuY19fLCByZXQpOw0KPiA+ICsJCXVzbGVlcF9yYW5nZShEVzk3MTRfQ1RSTF9E
RUxBWV9VUywNCj4gRFc5NzE0X0NUUkxfREVMQVlfVVMgKyAxMCk7DQo+ID4gKwl9DQo+ID4gKw0K
PiA+ICsJLyogcmVzdG9yZSB2NGwyIGNvbnRyb2wgdmFsdWVzICovDQo+ID4gKwlyZXQgPSB2NGwy
X2N0cmxfaGFuZGxlcl9zZXR1cCgmZHc5NzE0X2Rldi0+Y3RybHNfdmNtKTsNCj4gPiArCWRldl9k
YmcoZGV2LCAiJXMgcmV0ID0gJWRcbiIsIF9fZnVuY19fLCByZXQpOw0KPiA+ICsJcmV0dXJuIHJl
dDsNCj4gPiArfQ0KPiA+ICsNCj4gPiArI2Vsc2UNCj4gPiArDQo+ID4gKyNkZWZpbmUgZHc5NzE0
X3N1c3BlbmQJTlVMTA0KPiA+ICsjZGVmaW5lIGR3OTcxNF9yZXN1bWUJTlVMTA0KPiA+ICsjZGVm
aW5lIGR3OTcxNF9ydW50aW1lX3N1c3BlbmQJTlVMTA0KPiA+ICsjZGVmaW5lIGR3OTcxNF9ydW50
aW1lX3Jlc3VtZQlOVUxMDQo+ID4gKw0KPiA+ICsjZW5kaWYgLyogQ09ORklHX1BNICovDQo+ID4g
Kw0KPiA+ICsjaWZkZWYgQ09ORklHX0FDUEkNCj4gPiArc3RhdGljIGNvbnN0IHN0cnVjdCBhY3Bp
X2RldmljZV9pZCBkdzk3MTRfYWNwaV9tYXRjaFtdID0gew0KPiA+ICsJeyJEVzk3MTQiLCAwfSwN
Cj4gPiArCXt9LA0KPiA+ICt9Ow0KPiA+ICtNT0RVTEVfREVWSUNFX1RBQkxFKGFjcGksIGR3OTcx
NF9hY3BpX21hdGNoKTsgI2VuZGlmDQo+ID4gKw0KPiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGky
Y19kZXZpY2VfaWQgZHc5NzE0X2lkX3RhYmxlW10gPSB7DQo+ID4gKwl7RFc5NzE0X05BTUUsIDB9
LA0KPiA+ICsJe30NCj4gPiArfTsNCj4gPiArDQo+ID4gK01PRFVMRV9ERVZJQ0VfVEFCTEUoaTJj
LCBkdzk3MTRfaWRfdGFibGUpOw0KPiA+ICsNCj4gPiArc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZf
cG1fb3BzIGR3OTcxNF9wbV9vcHMgPSB7DQo+ID4gKwkuc3VzcGVuZCA9IGR3OTcxNF9zdXNwZW5k
LA0KPiA+ICsJLnJlc3VtZSA9IGR3OTcxNF9yZXN1bWUsDQo+ID4gKwkucnVudGltZV9zdXNwZW5k
ID0gZHc5NzE0X3J1bnRpbWVfc3VzcGVuZCwNCj4gPiArCS5ydW50aW1lX3Jlc3VtZSA9IGR3OTcx
NF9ydW50aW1lX3Jlc3VtZSwgfTsNCj4gPiArDQo+ID4gK3N0YXRpYyBzdHJ1Y3QgaTJjX2RyaXZl
ciBkdzk3MTRfaTJjX2RyaXZlciA9IHsNCj4gPiArCS5kcml2ZXIgPSB7DQo+ID4gKwkJLm5hbWUg
PSBEVzk3MTRfTkFNRSwNCj4gPiArCQkucG0gPSAmZHc5NzE0X3BtX29wcywNCj4gPiArI2lmZGVm
IENPTkZJR19BQ1BJDQo+ID4gKwkJLmFjcGlfbWF0Y2hfdGFibGUgPSBBQ1BJX1BUUihkdzk3MTRf
YWNwaV9tYXRjaCksICNlbmRpZg0KPiA+ICsJfSwNCj4gPiArCS5wcm9iZSA9IGR3OTcxNF9wcm9i
ZSwNCj4gPiArCS5yZW1vdmUgPSBkdzk3MTRfcmVtb3ZlLA0KPiA+ICsJLmlkX3RhYmxlID0gZHc5
NzE0X2lkX3RhYmxlLA0KPiA+ICt9Ow0KPiA+ICsNCj4gPiArbW9kdWxlX2kyY19kcml2ZXIoZHc5
NzE0X2kyY19kcml2ZXIpOw0KPiA+ICsNCj4gPiArTU9EVUxFX0FVVEhPUigiVGlhbnNodSBRaXUg
PHRpYW4uc2h1LnFpdUBpbnRlbC5jb20+Iik7DQo+ID4gK01PRFVMRV9BVVRIT1IoIkppYW4gWHUg
WmhlbmcgPGppYW4ueHUuemhlbmdAaW50ZWwuY29tPiIpOw0KPiA+ICtNT0RVTEVfQVVUSE9SKCJZ
dW5pbmcgUHUgPHl1bmluZy5wdUBpbnRlbC5jb20+Iik7DQo+ID4gK01PRFVMRV9BVVRIT1IoIkpv
dW5pIFVra29uZW4gPGpvdW5pLnVra29uZW5AaW50ZWwuY29tPiIpOw0KPiA+ICtNT0RVTEVfQVVU
SE9SKCJUb21taSBGcmFudHRpbGEgPHRvbW1pLmZyYW50dGlsYUBpbnRlbC5jb20+Iik7DQo+ID4g
K01PRFVMRV9ERVNDUklQVElPTigiRFc5NzE0IFZDTSBkcml2ZXIiKTsgTU9EVUxFX0xJQ0VOU0Uo
IkdQTCIpOw0KPiA+DQo+IA0KPiBSZWdhcmRzLA0KPiANCj4gCUhhbnMNCg==
