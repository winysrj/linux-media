Return-path: <linux-media-owner@vger.kernel.org>
Received: from mga17.intel.com ([192.55.52.151]:22972 "EHLO mga17.intel.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1751959AbeEBPsR (ORCPT <rfc822;linux-media@vger.kernel.org>);
        Wed, 2 May 2018 11:48:17 -0400
From: "Yeh, Andy" <andy.yeh@intel.com>
To: jacopo mondi <jacopo@jmondi.org>
CC: "linux-media@vger.kernel.org" <linux-media@vger.kernel.org>,
        "sakari.ailus@linux.intel.com" <sakari.ailus@linux.intel.com>,
        "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
        "tfiga@chromium.org" <tfiga@chromium.org>,
        "Chiang, AlanX" <alanx.chiang@intel.com>
Subject: RE: [RESEND PATCH v8 2/2] media: dw9807: Add dw9807 vcm driver
Date: Wed, 2 May 2018 15:48:13 +0000
Message-ID: <8E0971CCB6EA9D41AF58191A2D3978B61D58DB47@PGSMSX111.gar.corp.intel.com>
References: <1524622328-30493-1-git-send-email-andy.yeh@intel.com>
 <1524622328-30493-3-git-send-email-andy.yeh@intel.com>
 <20180502071659.GA17527@w540>
In-Reply-To: <20180502071659.GA17527@w540>
Content-Language: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

VGhhbmtzIGZvciB5b3VyIGtpbmRseSByZXZpZXcuDQpTdWJtaXR0ZWQgdjkgb25seSB3aXRoIFJl
dmlld2VkL0Fja2VkLWJ5LiANCg0KUmVnYXJkcywgQW5keQ0KDQotLS0tLU9yaWdpbmFsIE1lc3Nh
Z2UtLS0tLQ0KRnJvbTogamFjb3BvIG1vbmRpIFttYWlsdG86amFjb3BvQGptb25kaS5vcmddIA0K
U2VudDogV2VkbmVzZGF5LCBNYXkgMiwgMjAxOCAzOjE3IFBNDQpUbzogWWVoLCBBbmR5IDxhbmR5
LnllaEBpbnRlbC5jb20+DQpDYzogbGludXgtbWVkaWFAdmdlci5rZXJuZWwub3JnOyBzYWthcmku
YWlsdXNAbGludXguaW50ZWwuY29tOyBkZXZpY2V0cmVlQHZnZXIua2VybmVsLm9yZzsgdGZpZ2FA
Y2hyb21pdW0ub3JnOyBDaGlhbmcsIEFsYW5YIDxhbGFueC5jaGlhbmdAaW50ZWwuY29tPg0KU3Vi
amVjdDogUmU6IFtSRVNFTkQgUEFUQ0ggdjggMi8yXSBtZWRpYTogZHc5ODA3OiBBZGQgZHc5ODA3
IHZjbSBkcml2ZXINCg0KSGkgQW5keSwNCiAgICB0aGFua3MgZm9yIGFkZHJlc3NpbmcgY29tbWVu
dHMgb24gcHJldmlvdXMgdmVyc2lvbnMNCg0KT24gV2VkLCBBcHIgMjUsIDIwMTggYXQgMTA6MTI6
MDhBTSArMDgwMCwgQW5keSBZZWggd3JvdGU6DQo+IEZyb206IEFsYW4gQ2hpYW5nIDxhbGFueC5j
aGlhbmdAaW50ZWwuY29tPg0KPg0KPiBEVzk4MDcgaXMgYSAxMCBiaXQgREFDIGZyb20gRG9uZ3dv
b24sIGRlc2lnbmVkIGZvciBsaW5lYXIgY29udHJvbCBvZiANCj4gdm9pY2UgY29pbCBtb3Rvci4N
Cj4NCj4gVGhpcyBkcml2ZXIgY3JlYXRlcyBhIFY0TDIgc3ViZGV2aWNlIGFuZCBwcm92aWRlcyBj
b250cm9sIHRvIHNldCB0aGUgDQo+IGRlc2lyZWQgZm9jdXMuDQo+DQo+IFNpZ25lZC1vZmYtYnk6
IEFuZHkgWWVoIDxhbmR5LnllaEBpbnRlbC5jb20+DQoNClJldmlld2VkLWJ5OiBKYWNvcG8gTW9u
ZGkgPGphY29wb0BqbW9uZGkub3JnPg0KDQpUaGFua3MNCiAgIGoNCg0KPiAtLS0NCj4gc2luY2Ug
djE6DQo+IC0gY2hhbmdlZCBhdXRob3IuDQo+IHNpbmNlIHYyOg0KPiAtIGFkZHJlc3NlZCBvdXRz
dGFuZGluZyBjb21tZW50cy4NCj4gLSBlbmFibGVkIHNlcXVlbnRpYWwgd3JpdGUgdG8gdXBkYXRl
IDIgcmVnaXN0ZXJzIGluIGEgc2luZ2xlIHRyYW5zYWN0aW9uLg0KPiBzaW5jZSB2MzoNCj4gLSBh
ZGRyZXNzZWQgY29tbWVudHMgZm9yIHYzLg0KPiAtIFJlbW92ZSByZWR1bmRhbnQgY29kZXMgYW5k
IGRlY2xhcmUgc29tZSB2YXJpYWJsZXMgYXMgY29uc3RhbnQgdmFyaWFibGUuDQo+IC0gc2VwYXJh
dGUgRFQgYmluZGluZyB0byBhbm90aGVyIHBhdGNoIHNpbmNlIHY0Og0KPiAtIHNlbnQgcGF0Y2hz
ZXQgaW5jbHVkZWQgRFQgYmluZGluZyB3aXRoIGNvdmVyIHBhZ2Ugc2luY2UgdjY6DQo+IC0gY2hh
bmdlIHRoZSByZXR1cm4gY29kZSBvZiBpMmNfY2hlY2sNCj4gLSBmaXggbG9uZyBjb2xzIGV4Y2Vl
ZCA4MCBjaGFycw0KPiAtIHJlbW92ZSAjZGVmaW5lIERXOTgwN19OQU1FIHNpbmNlIG9ubHkgdXNl
ZCBvbmNlIHNpbmNlIHY3Og0KPiAtIFJlbW92ZSBzb21lIHJlZHVuZGFudCB0eXBlIGNhc3QNCj4g
LSBNb2RpZnkgdG8gbWVldCB0aGUgY29kaW5nIHN0eWxlDQo+IC0gUmVwbGFjZSBhIHdoaWxlIGxv
b3AgYnkgcmVhZHhfcG9sbF90aW1lb3V0IGZ1bmN0aW9uDQo+IC0gUmV0dXJuIHRoZSBpMmMgZXJy
b3IgZGlyZWN0bHkuDQo+DQo+ICBNQUlOVEFJTkVSUyAgICAgICAgICAgICAgICB8ICAgNyArDQo+
ICBkcml2ZXJzL21lZGlhL2kyYy9LY29uZmlnICB8ICAxMCArKw0KPiAgZHJpdmVycy9tZWRpYS9p
MmMvTWFrZWZpbGUgfCAgIDEgKw0KPiAgZHJpdmVycy9tZWRpYS9pMmMvZHc5ODA3LmMgfCAzMjkg
DQo+ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKw0KPiAgNCBm
aWxlcyBjaGFuZ2VkLCAzNDcgaW5zZXJ0aW9ucygrKQ0KPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRy
aXZlcnMvbWVkaWEvaTJjL2R3OTgwNy5jDQo+DQo+IGRpZmYgLS1naXQgYS9NQUlOVEFJTkVSUyBi
L01BSU5UQUlORVJTIGluZGV4IDg0NWZjMjUuLmEzMzliYjUgMTAwNjQ0DQo+IC0tLSBhL01BSU5U
QUlORVJTDQo+ICsrKyBiL01BSU5UQUlORVJTDQo+IEBAIC00Mzg1LDYgKzQzODUsMTMgQEAgVDoJ
Z2l0IGdpdDovL2xpbnV4dHYub3JnL21lZGlhX3RyZWUuZ2l0DQo+ICBTOglNYWludGFpbmVkDQo+
ICBGOglkcml2ZXJzL21lZGlhL2kyYy9kdzk3MTQuYw0KPg0KPiArRE9OR1dPT04gRFc5ODA3IExF
TlMgVk9JQ0UgQ09JTCBEUklWRVINCj4gK006CVNha2FyaSBBaWx1cyA8c2FrYXJpLmFpbHVzQGxp
bnV4LmludGVsLmNvbT4NCj4gK0w6CWxpbnV4LW1lZGlhQHZnZXIua2VybmVsLm9yZw0KPiArVDoJ
Z2l0IGdpdDovL2xpbnV4dHYub3JnL21lZGlhX3RyZWUuZ2l0DQo+ICtTOglNYWludGFpbmVkDQo+
ICtGOglkcml2ZXJzL21lZGlhL2kyYy9kdzk4MDcuYw0KPiArDQo+ICBET1VCTEVUQUxLIERSSVZF
Ug0KPiAgTToJIkphbWVzIFIuIFZhbiBaYW5kdCIgPGpydkB2YW56YW5kdC5tdi5jb20+DQo+ICBM
OglibGludXgtbGlzdEByZWRoYXQuY29tDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21lZGlhL2ky
Yy9LY29uZmlnIGIvZHJpdmVycy9tZWRpYS9pMmMvS2NvbmZpZyANCj4gaW5kZXggY2I1ZDdmZi4u
ZmQwMTg0MiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9tZWRpYS9pMmMvS2NvbmZpZw0KPiArKysg
Yi9kcml2ZXJzL21lZGlhL2kyYy9LY29uZmlnDQo+IEBAIC0zMjUsNiArMzI1LDE2IEBAIGNvbmZp
ZyBWSURFT19EVzk3MTQNCj4gIAkgIGNhcGFiaWxpdHkuIFRoaXMgaXMgZGVzaWduZWQgZm9yIGxp
bmVhciBjb250cm9sIG9mDQo+ICAJICB2b2ljZSBjb2lsIG1vdG9ycywgY29udHJvbGxlZCB2aWEg
STJDIHNlcmlhbCBpbnRlcmZhY2UuDQo+DQo+ICtjb25maWcgVklERU9fRFc5ODA3DQo+ICsJdHJp
c3RhdGUgIkRXOTgwNyBsZW5zIHZvaWNlIGNvaWwgc3VwcG9ydCINCj4gKwlkZXBlbmRzIG9uIEky
QyAmJiBWSURFT19WNEwyICYmIE1FRElBX0NPTlRST0xMRVINCj4gKwlkZXBlbmRzIG9uIFZJREVP
X1Y0TDJfU1VCREVWX0FQSQ0KPiArCS0tLWhlbHAtLS0NCj4gKwkgIFRoaXMgaXMgYSBkcml2ZXIg
Zm9yIHRoZSBEVzk4MDcgY2FtZXJhIGxlbnMgdm9pY2UgY29pbC4NCj4gKwkgIERXOTgwNyBpcyBh
IDEwIGJpdCBEQUMgd2l0aCAxMDBtQSBvdXRwdXQgY3VycmVudCBzaW5rDQo+ICsJICBjYXBhYmls
aXR5LiBUaGlzIGlzIGRlc2lnbmVkIGZvciBsaW5lYXIgY29udHJvbCBvZg0KPiArCSAgdm9pY2Ug
Y29pbCBtb3RvcnMsIGNvbnRyb2xsZWQgdmlhIEkyQyBzZXJpYWwgaW50ZXJmYWNlLg0KPiArDQo+
ICBjb25maWcgVklERU9fU0FBNzExMA0KPiAgCXRyaXN0YXRlICJQaGlsaXBzIFNBQTcxMTAgdmlk
ZW8gZGVjb2RlciINCj4gIAlkZXBlbmRzIG9uIFZJREVPX1Y0TDIgJiYgSTJDDQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL21lZGlhL2kyYy9NYWtlZmlsZSBiL2RyaXZlcnMvbWVkaWEvaTJjL01ha2Vm
aWxlIA0KPiBpbmRleCA1NDhhOWVmLi4xYjYyNjM5IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL21l
ZGlhL2kyYy9NYWtlZmlsZQ0KPiArKysgYi9kcml2ZXJzL21lZGlhL2kyYy9NYWtlZmlsZQ0KPiBA
QCAtMjMsNiArMjMsNyBAQCBvYmotJChDT05GSUdfVklERU9fU0FBNzE4NSkgKz0gc2FhNzE4NS5v
DQo+ICBvYmotJChDT05GSUdfVklERU9fU0FBNjc1MkhTKSArPSBzYWE2NzUyaHMubw0KPiAgb2Jq
LSQoQ09ORklHX1ZJREVPX0FENTgyMCkgICs9IGFkNTgyMC5vDQo+ICBvYmotJChDT05GSUdfVklE
RU9fRFc5NzE0KSAgKz0gZHc5NzE0Lm8NCj4gK29iai0kKENPTkZJR19WSURFT19EVzk4MDcpICAr
PSBkdzk4MDcubw0KPiAgb2JqLSQoQ09ORklHX1ZJREVPX0FEVjcxNzApICs9IGFkdjcxNzAubw0K
PiAgb2JqLSQoQ09ORklHX1ZJREVPX0FEVjcxNzUpICs9IGFkdjcxNzUubw0KPiAgb2JqLSQoQ09O
RklHX1ZJREVPX0FEVjcxODApICs9IGFkdjcxODAubyBkaWZmIC0tZ2l0IA0KPiBhL2RyaXZlcnMv
bWVkaWEvaTJjL2R3OTgwNy5jIGIvZHJpdmVycy9tZWRpYS9pMmMvZHc5ODA3LmMgbmV3IGZpbGUg
DQo+IG1vZGUgMTAwNjQ0IGluZGV4IDAwMDAwMDAuLjI4ZWRlMmINCj4gLS0tIC9kZXYvbnVsbA0K
PiArKysgYi9kcml2ZXJzL21lZGlhL2kyYy9kdzk4MDcuYw0KPiBAQCAtMCwwICsxLDMyOSBAQA0K
PiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjANCj4gKy8vIENvcHlyaWdodCAo
QykgMjAxOCBJbnRlbCBDb3Jwb3JhdGlvbg0KPiArDQo+ICsjaW5jbHVkZSA8bGludXgvYWNwaS5o
Pg0KPiArI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+DQo+ICsjaW5jbHVkZSA8bGludXgvaTJjLmg+
DQo+ICsjaW5jbHVkZSA8bGludXgvaW9wb2xsLmg+DQo+ICsjaW5jbHVkZSA8bGludXgvbW9kdWxl
Lmg+DQo+ICsjaW5jbHVkZSA8bGludXgvcG1fcnVudGltZS5oPg0KPiArI2luY2x1ZGUgPG1lZGlh
L3Y0bDItY3RybHMuaD4NCj4gKyNpbmNsdWRlIDxtZWRpYS92NGwyLWRldmljZS5oPg0KPiArDQo+
ICsjZGVmaW5lIERXOTgwN19NQVhfRk9DVVNfUE9TCTEwMjMNCj4gKy8qDQo+ICsgKiBUaGlzIHNl
dHMgdGhlIG1pbmltdW0gZ3JhbnVsYXJpdHkgZm9yIHRoZSBmb2N1cyBwb3NpdGlvbnMuDQo+ICsg
KiBBIHZhbHVlIG9mIDEgZ2l2ZXMgbWF4aW11bSBhY2N1cmFjeSBmb3IgYSBkZXNpcmVkIGZvY3Vz
IHBvc2l0aW9uLg0KPiArICovDQo+ICsjZGVmaW5lIERXOTgwN19GT0NVU19TVEVQUwkxDQo+ICsv
Kg0KPiArICogVGhpcyBhY3RzIGFzIHRoZSBtaW5pbXVtIGdyYW51bGFyaXR5IG9mIGxlbnMgbW92
ZW1lbnQuDQo+ICsgKiBLZWVwIHRoaXMgdmFsdWUgcG93ZXIgb2YgMiwgc28gdGhlIGNvbnRyb2wg
c3RlcHMgY2FuIGJlDQo+ICsgKiB1bmlmb3JtbHkgYWRqdXN0ZWQgZm9yIGdyYWR1YWwgbGVucyBt
b3ZlbWVudCwgd2l0aCBkZXNpcmVkDQo+ICsgKiBudW1iZXIgb2YgY29udHJvbCBzdGVwcy4NCj4g
KyAqLw0KPiArI2RlZmluZSBEVzk4MDdfQ1RSTF9TVEVQUwkxNg0KPiArI2RlZmluZSBEVzk4MDdf
Q1RSTF9ERUxBWV9VUwkxMDAwDQo+ICsNCj4gKyNkZWZpbmUgRFc5ODA3X0NUTF9BRERSCQkweDAy
DQo+ICsvKg0KPiArICogRFc5ODA3IHNlcGFyYXRlcyB0d28gcmVnaXN0ZXJzIHRvIGNvbnRyb2wg
dGhlIFZDTSBwb3NpdGlvbi4NCj4gKyAqIE9uZSBmb3IgTVNCIHZhbHVlLCBhbm90aGVyIGlzIExT
QiB2YWx1ZS4NCj4gKyAqLw0KPiArI2RlZmluZSBEVzk4MDdfTVNCX0FERFIJCTB4MDMNCj4gKyNk
ZWZpbmUgRFc5ODA3X0xTQl9BRERSCQkweDA0DQo+ICsjZGVmaW5lIERXOTgwN19TVEFUVVNfQURE
UgkweDA1DQo+ICsjZGVmaW5lIERXOTgwN19NT0RFX0FERFIJMHgwNg0KPiArI2RlZmluZSBEVzk4
MDdfUkVTT05BTkNFX0FERFIJMHgwNw0KPiArDQo+ICsjZGVmaW5lIE1BWF9SRVRSWQkJMTANCj4g
Kw0KPiArc3RydWN0IGR3OTgwN19kZXZpY2Ugew0KPiArCXN0cnVjdCB2NGwyX2N0cmxfaGFuZGxl
ciBjdHJsc192Y207DQo+ICsJc3RydWN0IHY0bDJfc3ViZGV2IHNkOw0KPiArCXUxNiBjdXJyZW50
X3ZhbDsNCj4gK307DQo+ICsNCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IGR3OTgwN19kZXZpY2Ug
KnNkX3RvX2R3OTgwN192Y20oDQo+ICsJCQkJCXN0cnVjdCB2NGwyX3N1YmRldiAqc3ViZGV2KQ0K
PiArew0KPiArCXJldHVybiBjb250YWluZXJfb2Yoc3ViZGV2LCBzdHJ1Y3QgZHc5ODA3X2Rldmlj
ZSwgc2QpOyB9DQo+ICsNCj4gK3N0YXRpYyBpbnQgZHc5ODA3X2kyY19jaGVjayhzdHJ1Y3QgaTJj
X2NsaWVudCAqY2xpZW50KSB7DQo+ICsJY29uc3QgY2hhciBzdGF0dXNfYWRkciA9IERXOTgwN19T
VEFUVVNfQUREUjsNCj4gKwljaGFyIHN0YXR1c19yZXN1bHQ7DQo+ICsJaW50IHJldDsNCj4gKw0K
PiArCXJldCA9IGkyY19tYXN0ZXJfc2VuZChjbGllbnQsICZzdGF0dXNfYWRkciwgc2l6ZW9mKHN0
YXR1c19hZGRyKSk7DQo+ICsJaWYgKHJldCA8IDApIHsNCj4gKwkJZGV2X2VycigmY2xpZW50LT5k
ZXYsICJJMkMgd3JpdGUgU1RBVFVTIGFkZHJlc3MgZmFpbCByZXQgPSAlZFxuIiwNCj4gKwkJCXJl
dCk7DQo+ICsJCXJldHVybiByZXQ7DQo+ICsJfQ0KPiArDQo+ICsJcmV0ID0gaTJjX21hc3Rlcl9y
ZWN2KGNsaWVudCwgJnN0YXR1c19yZXN1bHQsIHNpemVvZihzdGF0dXNfcmVzdWx0KSk7DQo+ICsJ
aWYgKHJldCA8IDApIHsNCj4gKwkJZGV2X2VycigmY2xpZW50LT5kZXYsICJJMkMgcmVhZCBTVEFU
VVMgdmFsdWUgZmFpbCByZXQgPSAlZFxuIiwNCj4gKwkJCXJldCk7DQo+ICsJCXJldHVybiByZXQ7
DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIHN0YXR1c19yZXN1bHQ7DQo+ICt9DQo+ICsNCj4gK3N0
YXRpYyBpbnQgZHc5ODA3X3NldF9kYWMoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwgdTE2IGRh
dGEpIHsNCj4gKwljb25zdCBjaGFyIHR4X2RhdGFbM10gPSB7DQo+ICsJCURXOTgwN19NU0JfQURE
UiwgKChkYXRhID4+IDgpICYgMHgwMyksIChkYXRhICYgMHhmZikNCj4gKwl9Ow0KPiArCWludCB2
YWwsIHJldCwgcmV0cnkgPSAwOw0KPiArDQo+ICsJLyoNCj4gKwkgKiBBY2NvcmRpbmcgdG8gdGhl
IGRhdGFzaGVldCwgbmVlZCB0byBjaGVjayB0aGUgYnVzIHN0YXR1cyBiZWZvcmUgd2UNCj4gKwkg
KiB3cml0ZSBWQ00gcG9zaXRpb24uIFRoaXMgZW5zdXJlIHRoYXQgd2UgcmVhbGx5IHdyaXRlIHRo
ZSB2YWx1ZQ0KPiArCSAqIGludG8gdGhlIHJlZ2lzdGVyDQo+ICsJICovDQo+ICsJcmV0ID0gcmVh
ZHhfcG9sbF90aW1lb3V0KGR3OTgwN19pMmNfY2hlY2ssIGNsaWVudCwgdmFsLCB2YWwgPD0gMCwN
Cj4gKwkJCURXOTgwN19DVFJMX0RFTEFZX1VTLCBNQVhfUkVUUlkgKiBEVzk4MDdfQ1RSTF9ERUxB
WV9VUyk7DQo+ICsNCj4gKwlpZiAocmV0IHx8IHZhbCA8IDApIHsNCj4gKwkJaWYgKHJldCkgew0K
PiArCQkJZGV2X3dhcm4oJmNsaWVudC0+ZGV2LA0KPiArCQkJCSJDYW5ub3QgZG8gdGhlIHdyaXRl
IG9wZXJhdGlvbiBiZWNhdXNlIFZDTSBpcyBidXN5XG4iKTsNCj4gKwkJfQ0KPiArDQo+ICsJCXJl
dHVybiByZXQgPyAtRUJVU1kgOiB2YWw7DQo+ICsJfQ0KPiArDQo+ICsJLyogV3JpdGUgVkNNIHBv
c2l0aW9uIHRvIHJlZ2lzdGVycyAqLw0KPiArCXJldCA9IGkyY19tYXN0ZXJfc2VuZChjbGllbnQs
IHR4X2RhdGEsIHNpemVvZih0eF9kYXRhKSk7DQo+ICsJaWYgKHJldCA8IDApIHsNCj4gKwkJZGV2
X2VycigmY2xpZW50LT5kZXYsDQo+ICsJCQkiSTJDIHdyaXRlIE1TQiBmYWlsIHJldD0lZFxuIiwg
cmV0KTsNCj4gKw0KPiArCQlyZXR1cm4gcmV0Ow0KPiArCX0NCj4gKw0KPiArCXJldHVybiAwOw0K
PiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IGR3OTgwN19zZXRfY3RybChzdHJ1Y3QgdjRsMl9jdHJs
ICpjdHJsKSB7DQo+ICsJc3RydWN0IGR3OTgwN19kZXZpY2UgKmRldl92Y20gPSBjb250YWluZXJf
b2YoY3RybC0+aGFuZGxlciwNCj4gKwkJc3RydWN0IGR3OTgwN19kZXZpY2UsIGN0cmxzX3ZjbSk7
DQo+ICsNCj4gKwlpZiAoY3RybC0+aWQgPT0gVjRMMl9DSURfRk9DVVNfQUJTT0xVVEUpIHsNCj4g
KwkJc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCA9IHY0bDJfZ2V0X3N1YmRldmRhdGEoJmRldl92
Y20tPnNkKTsNCj4gKw0KPiArCQlkZXZfdmNtLT5jdXJyZW50X3ZhbCA9IGN0cmwtPnZhbDsNCj4g
KwkJcmV0dXJuIGR3OTgwN19zZXRfZGFjKGNsaWVudCwgY3RybC0+dmFsKTsNCj4gKwl9DQo+ICsN
Cj4gKwlyZXR1cm4gLUVJTlZBTDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGNvbnN0IHN0cnVjdCB2
NGwyX2N0cmxfb3BzIGR3OTgwN192Y21fY3RybF9vcHMgPSB7DQo+ICsJLnNfY3RybCA9IGR3OTgw
N19zZXRfY3RybCwNCj4gK307DQo+ICsNCj4gK3N0YXRpYyBpbnQgZHc5ODA3X29wZW4oc3RydWN0
IHY0bDJfc3ViZGV2ICpzZCwgc3RydWN0IHY0bDJfc3ViZGV2X2ZoIA0KPiArKmZoKSB7DQo+ICsJ
aW50IHJ2YWw7DQo+ICsNCj4gKwlydmFsID0gcG1fcnVudGltZV9nZXRfc3luYyhzZC0+ZGV2KTsN
Cj4gKwlpZiAocnZhbCA8IDApIHsNCj4gKwkJcG1fcnVudGltZV9wdXRfbm9pZGxlKHNkLT5kZXYp
Ow0KPiArCQlyZXR1cm4gcnZhbDsNCj4gKwl9DQo+ICsNCj4gKwlyZXR1cm4gMDsNCj4gK30NCj4g
Kw0KPiArc3RhdGljIGludCBkdzk4MDdfY2xvc2Uoc3RydWN0IHY0bDJfc3ViZGV2ICpzZCwgc3Ry
dWN0IHY0bDJfc3ViZGV2X2ZoIA0KPiArKmZoKSB7DQo+ICsJcG1fcnVudGltZV9wdXQoc2QtPmRl
dik7DQo+ICsNCj4gKwlyZXR1cm4gMDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGNvbnN0IHN0cnVj
dCB2NGwyX3N1YmRldl9pbnRlcm5hbF9vcHMgZHc5ODA3X2ludF9vcHMgPSB7DQo+ICsJLm9wZW4g
PSBkdzk4MDdfb3BlbiwNCj4gKwkuY2xvc2UgPSBkdzk4MDdfY2xvc2UsDQo+ICt9Ow0KPiArDQo+
ICtzdGF0aWMgY29uc3Qgc3RydWN0IHY0bDJfc3ViZGV2X29wcyBkdzk4MDdfb3BzID0geyB9Ow0K
PiArDQo+ICtzdGF0aWMgdm9pZCBkdzk4MDdfc3ViZGV2X2NsZWFudXAoc3RydWN0IGR3OTgwN19k
ZXZpY2UgKmR3OTgwN19kZXYpIHsNCj4gKwl2NGwyX2FzeW5jX3VucmVnaXN0ZXJfc3ViZGV2KCZk
dzk4MDdfZGV2LT5zZCk7DQo+ICsJdjRsMl9jdHJsX2hhbmRsZXJfZnJlZSgmZHc5ODA3X2Rldi0+
Y3RybHNfdmNtKTsNCj4gKwltZWRpYV9lbnRpdHlfY2xlYW51cCgmZHc5ODA3X2Rldi0+c2QuZW50
aXR5KTsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBkdzk4MDdfaW5pdF9jb250cm9scyhzdHJ1
Y3QgZHc5ODA3X2RldmljZSAqZGV2X3ZjbSkgew0KPiArCXN0cnVjdCB2NGwyX2N0cmxfaGFuZGxl
ciAqaGRsID0gJmRldl92Y20tPmN0cmxzX3ZjbTsNCj4gKwljb25zdCBzdHJ1Y3QgdjRsMl9jdHJs
X29wcyAqb3BzID0gJmR3OTgwN192Y21fY3RybF9vcHM7DQo+ICsJc3RydWN0IGkyY19jbGllbnQg
KmNsaWVudCA9IHY0bDJfZ2V0X3N1YmRldmRhdGEoJmRldl92Y20tPnNkKTsNCj4gKw0KPiArCXY0
bDJfY3RybF9oYW5kbGVyX2luaXQoaGRsLCAxKTsNCj4gKw0KPiArCXY0bDJfY3RybF9uZXdfc3Rk
KGhkbCwgb3BzLCBWNEwyX0NJRF9GT0NVU19BQlNPTFVURSwNCj4gKwkJCSAgMCwgRFc5ODA3X01B
WF9GT0NVU19QT1MsIERXOTgwN19GT0NVU19TVEVQUywgMCk7DQo+ICsNCj4gKwlkZXZfdmNtLT5z
ZC5jdHJsX2hhbmRsZXIgPSBoZGw7DQo+ICsJaWYgKGhkbC0+ZXJyb3IpIHsNCj4gKwkJZGV2X2Vy
cigmY2xpZW50LT5kZXYsICIlcyBmYWlsIGVycm9yOiAweCV4XG4iLA0KPiArCQkJX19mdW5jX18s
IGhkbC0+ZXJyb3IpOw0KPiArCQlyZXR1cm4gaGRsLT5lcnJvcjsNCj4gKwl9DQo+ICsNCj4gKwly
ZXR1cm4gMDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBkdzk4MDdfcHJvYmUoc3RydWN0IGky
Y19jbGllbnQgKmNsaWVudCkgew0KPiArCXN0cnVjdCBkdzk4MDdfZGV2aWNlICpkdzk4MDdfZGV2
Ow0KPiArCWludCBydmFsOw0KPiArDQo+ICsJZHc5ODA3X2RldiA9IGRldm1fa3phbGxvYygmY2xp
ZW50LT5kZXYsIHNpemVvZigqZHc5ODA3X2RldiksDQo+ICsJCQkJICBHRlBfS0VSTkVMKTsNCj4g
KwlpZiAoZHc5ODA3X2RldiA9PSBOVUxMKQ0KPiArCQlyZXR1cm4gLUVOT01FTTsNCj4gKw0KPiAr
CXY0bDJfaTJjX3N1YmRldl9pbml0KCZkdzk4MDdfZGV2LT5zZCwgY2xpZW50LCAmZHc5ODA3X29w
cyk7DQo+ICsJZHc5ODA3X2Rldi0+c2QuZmxhZ3MgfD0gVjRMMl9TVUJERVZfRkxfSEFTX0RFVk5P
REU7DQo+ICsJZHc5ODA3X2Rldi0+c2QuaW50ZXJuYWxfb3BzID0gJmR3OTgwN19pbnRfb3BzOw0K
PiArDQo+ICsJcnZhbCA9IGR3OTgwN19pbml0X2NvbnRyb2xzKGR3OTgwN19kZXYpOw0KPiArCWlm
IChydmFsKQ0KPiArCQlnb3RvIGVycl9jbGVhbnVwOw0KPiArDQo+ICsJcnZhbCA9IG1lZGlhX2Vu
dGl0eV9wYWRzX2luaXQoJmR3OTgwN19kZXYtPnNkLmVudGl0eSwgMCwgTlVMTCk7DQo+ICsJaWYg
KHJ2YWwgPCAwKQ0KPiArCQlnb3RvIGVycl9jbGVhbnVwOw0KPiArDQo+ICsJZHc5ODA3X2Rldi0+
c2QuZW50aXR5LmZ1bmN0aW9uID0gTUVESUFfRU5UX0ZfTEVOUzsNCj4gKw0KPiArCXJ2YWwgPSB2
NGwyX2FzeW5jX3JlZ2lzdGVyX3N1YmRldigmZHc5ODA3X2Rldi0+c2QpOw0KPiArCWlmIChydmFs
IDwgMCkNCj4gKwkJZ290byBlcnJfY2xlYW51cDsNCj4gKw0KPiArCXBtX3J1bnRpbWVfc2V0X2Fj
dGl2ZSgmY2xpZW50LT5kZXYpOw0KPiArCXBtX3J1bnRpbWVfZW5hYmxlKCZjbGllbnQtPmRldik7
DQo+ICsJcG1fcnVudGltZV9pZGxlKCZjbGllbnQtPmRldik7DQo+ICsNCj4gKwlyZXR1cm4gMDsN
Cj4gKw0KPiArZXJyX2NsZWFudXA6DQo+ICsJZHc5ODA3X3N1YmRldl9jbGVhbnVwKGR3OTgwN19k
ZXYpOw0KPiArDQo+ICsJcmV0dXJuIHJ2YWw7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgZHc5
ODA3X3JlbW92ZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KSB7DQo+ICsJc3RydWN0IHY0bDJf
c3ViZGV2ICpzZCA9IGkyY19nZXRfY2xpZW50ZGF0YShjbGllbnQpOw0KPiArCXN0cnVjdCBkdzk4
MDdfZGV2aWNlICpkdzk4MDdfZGV2ID0gc2RfdG9fZHc5ODA3X3ZjbShzZCk7DQo+ICsNCj4gKwlw
bV9ydW50aW1lX2Rpc2FibGUoJmNsaWVudC0+ZGV2KTsNCj4gKwlwbV9ydW50aW1lX3NldF9zdXNw
ZW5kZWQoJmNsaWVudC0+ZGV2KTsNCj4gKw0KPiArCWR3OTgwN19zdWJkZXZfY2xlYW51cChkdzk4
MDdfZGV2KTsNCj4gKw0KPiArCXJldHVybiAwOw0KPiArfQ0KPiArDQo+ICsvKg0KPiArICogVGhp
cyBmdW5jdGlvbiBzZXRzIHRoZSB2Y20gcG9zaXRpb24sIHNvIGl0IGNvbnN1bWVzIGxlYXN0IGN1
cnJlbnQNCj4gKyAqIFRoZSBsZW5zIHBvc2l0aW9uIGlzIGdyYWR1YWxseSBtb3ZlZCBpbiB1bml0
cyBvZiANCj4gK0RXOTgwN19DVFJMX1NURVBTLA0KPiArICogdG8gbWFrZSB0aGUgbW92ZW1lbnRz
IHNtb290aGx5Lg0KPiArICovDQo+ICtzdGF0aWMgaW50IF9fbWF5YmVfdW51c2VkIGR3OTgwN192
Y21fc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpkZXYpIHsNCj4gKwlzdHJ1Y3QgaTJjX2NsaWVudCAq
Y2xpZW50ID0gdG9faTJjX2NsaWVudChkZXYpOw0KPiArCXN0cnVjdCB2NGwyX3N1YmRldiAqc2Qg
PSBpMmNfZ2V0X2NsaWVudGRhdGEoY2xpZW50KTsNCj4gKwlzdHJ1Y3QgZHc5ODA3X2RldmljZSAq
ZHc5ODA3X2RldiA9IHNkX3RvX2R3OTgwN192Y20oc2QpOw0KPiArCWNvbnN0IGNoYXIgdHhfZGF0
YVsyXSA9IHsgRFc5ODA3X0NUTF9BRERSLCAweDAxIH07DQo+ICsJaW50IHJldCwgdmFsOw0KPiAr
DQo+ICsJZm9yICh2YWwgPSBkdzk4MDdfZGV2LT5jdXJyZW50X3ZhbCAmIH4oRFc5ODA3X0NUUkxf
U1RFUFMgLSAxKTsNCj4gKwkgICAgIHZhbCA+PSAwOyB2YWwgLT0gRFc5ODA3X0NUUkxfU1RFUFMp
IHsNCj4gKwkJcmV0ID0gZHc5ODA3X3NldF9kYWMoY2xpZW50LCB2YWwpOw0KPiArCQlpZiAocmV0
KQ0KPiArCQkJZGV2X2Vycl9vbmNlKGRldiwgIiVzIEkyQyBmYWlsdXJlOiAlZCIsIF9fZnVuY19f
LCByZXQpOw0KPiArCQl1c2xlZXBfcmFuZ2UoRFc5ODA3X0NUUkxfREVMQVlfVVMsIERXOTgwN19D
VFJMX0RFTEFZX1VTICsgMTApOw0KPiArCX0NCj4gKw0KPiArCS8qIFBvd2VyIGRvd24gKi8NCj4g
KwlyZXQgPSBpMmNfbWFzdGVyX3NlbmQoY2xpZW50LCB0eF9kYXRhLCBzaXplb2YodHhfZGF0YSkp
Ow0KPiArCWlmIChyZXQgPCAwKSB7DQo+ICsJCWRldl9lcnIoJmNsaWVudC0+ZGV2LCAiSTJDIHdy
aXRlIENUTCBmYWlsIHJldCA9ICVkXG4iLCByZXQpOw0KPiArCQlyZXR1cm4gcmV0Ow0KPiArCX0N
Cj4gKw0KPiArCXJldHVybiAwOw0KPiArfQ0KPiArDQo+ICsvKg0KPiArICogVGhpcyBmdW5jdGlv
biBzZXRzIHRoZSB2Y20gcG9zaXRpb24gdG8gdGhlIHZhbHVlIHNldCBieSB0aGUgdXNlcg0KPiAr
ICogdGhyb3VnaCB2NGwyX2N0cmxfb3BzIHNfY3RybCBoYW5kbGVyDQo+ICsgKiBUaGUgbGVucyBw
b3NpdGlvbiBpcyBncmFkdWFsbHkgbW92ZWQgaW4gdW5pdHMgb2YgDQo+ICtEVzk4MDdfQ1RSTF9T
VEVQUywNCj4gKyAqIHRvIG1ha2UgdGhlIG1vdmVtZW50cyBzbW9vdGhseS4NCj4gKyAqLw0KPiAr
c3RhdGljIGludCAgX19tYXliZV91bnVzZWQgZHc5ODA3X3ZjbV9yZXN1bWUoc3RydWN0IGRldmlj
ZSAqZGV2KSB7DQo+ICsJc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCA9IHRvX2kyY19jbGllbnQo
ZGV2KTsNCj4gKwlzdHJ1Y3QgdjRsMl9zdWJkZXYgKnNkID0gaTJjX2dldF9jbGllbnRkYXRhKGNs
aWVudCk7DQo+ICsJc3RydWN0IGR3OTgwN19kZXZpY2UgKmR3OTgwN19kZXYgPSBzZF90b19kdzk4
MDdfdmNtKHNkKTsNCj4gKwljb25zdCBjaGFyIHR4X2RhdGFbMl0gPSB7IERXOTgwN19DVExfQURE
UiwgMHgwMCB9Ow0KPiArCWludCByZXQsIHZhbDsNCj4gKw0KPiArCS8qIFBvd2VyIG9uICovDQo+
ICsJcmV0ID0gaTJjX21hc3Rlcl9zZW5kKGNsaWVudCwgdHhfZGF0YSwgc2l6ZW9mKHR4X2RhdGEp
KTsNCj4gKwlpZiAocmV0IDwgMCkgew0KPiArCQlkZXZfZXJyKCZjbGllbnQtPmRldiwgIkkyQyB3
cml0ZSBDVEwgZmFpbCByZXQgPSAlZFxuIiwgcmV0KTsNCj4gKwkJcmV0dXJuIHJldDsNCj4gKwl9
DQo+ICsNCj4gKwlmb3IgKHZhbCA9IGR3OTgwN19kZXYtPmN1cnJlbnRfdmFsICUgRFc5ODA3X0NU
UkxfU1RFUFM7DQo+ICsJICAgICB2YWwgPCBkdzk4MDdfZGV2LT5jdXJyZW50X3ZhbCArIERXOTgw
N19DVFJMX1NURVBTIC0gMTsNCj4gKwkgICAgIHZhbCArPSBEVzk4MDdfQ1RSTF9TVEVQUykgew0K
PiArCQlyZXQgPSBkdzk4MDdfc2V0X2RhYyhjbGllbnQsIHZhbCk7DQo+ICsJCWlmIChyZXQpDQo+
ICsJCQlkZXZfZXJyX3JhdGVsaW1pdGVkKGRldiwgIiVzIEkyQyBmYWlsdXJlOiAlZCIsDQo+ICsJ
CQkJCQlfX2Z1bmNfXywgcmV0KTsNCj4gKwkJdXNsZWVwX3JhbmdlKERXOTgwN19DVFJMX0RFTEFZ
X1VTLCBEVzk4MDdfQ1RSTF9ERUxBWV9VUyArIDEwKTsNCj4gKwl9DQo+ICsNCj4gKwlyZXR1cm4g
MDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgZHc5ODA3
X29mX3RhYmxlW10gPSB7DQo+ICsJeyAuY29tcGF0aWJsZSA9ICJkb25nd29vbixkdzk4MDciIH0s
DQo+ICsJeyAvKiBzZW50aW5lbCAqLyB9DQo+ICt9Ow0KPiArTU9EVUxFX0RFVklDRV9UQUJMRShv
ZiwgZHc5ODA3X29mX3RhYmxlKTsNCj4gKw0KPiArc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcG1f
b3BzIGR3OTgwN19wbV9vcHMgPSB7DQo+ICsJU0VUX1NZU1RFTV9TTEVFUF9QTV9PUFMoZHc5ODA3
X3ZjbV9zdXNwZW5kLCBkdzk4MDdfdmNtX3Jlc3VtZSkNCj4gKwlTRVRfUlVOVElNRV9QTV9PUFMo
ZHc5ODA3X3ZjbV9zdXNwZW5kLCBkdzk4MDdfdmNtX3Jlc3VtZSwgTlVMTCkgfTsNCj4gKw0KPiAr
c3RhdGljIHN0cnVjdCBpMmNfZHJpdmVyIGR3OTgwN19pMmNfZHJpdmVyID0gew0KPiArCS5kcml2
ZXIgPSB7DQo+ICsJCS5uYW1lID0gImR3OTgwNyIsDQo+ICsJCS5wbSA9ICZkdzk4MDdfcG1fb3Bz
LA0KPiArCQkub2ZfbWF0Y2hfdGFibGUgPSBkdzk4MDdfb2ZfdGFibGUsDQo+ICsJfSwNCj4gKwku
cHJvYmVfbmV3ID0gZHc5ODA3X3Byb2JlLA0KPiArCS5yZW1vdmUgPSBkdzk4MDdfcmVtb3ZlLA0K
PiArfTsNCj4gKw0KPiArbW9kdWxlX2kyY19kcml2ZXIoZHc5ODA3X2kyY19kcml2ZXIpOw0KPiAr
DQo+ICtNT0RVTEVfQVVUSE9SKCJDaGlhbmcsIEFsYW4gPGFsYW54LmNoaWFuZ0BpbnRlbC5jb20+
Iik7DQo+ICtNT0RVTEVfREVTQ1JJUFRJT04oIkRXOTgwNyBWQ00gZHJpdmVyIik7IE1PRFVMRV9M
SUNFTlNFKCJHUEwgdjIiKTsNCj4gLS0NCj4gMi43LjQNCj4NCg==
