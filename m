Return-path: <linux-media-owner@vger.kernel.org>
Received: from qw-out-2122.google.com ([74.125.92.25]:49584 "EHLO
	qw-out-2122.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1751071AbZFCCNW (ORCPT
	<rfc822;linux-media@vger.kernel.org>); Tue, 2 Jun 2009 22:13:22 -0400
Received: by qw-out-2122.google.com with SMTP id 5so5931368qwd.37
        for <linux-media@vger.kernel.org>; Tue, 02 Jun 2009 19:13:23 -0700 (PDT)
MIME-Version: 1.0
Date: Wed, 3 Jun 2009 10:13:22 +0800
Message-ID: <15ed362e0906021913r7683ac62n411a5d2e6bd9ad17@mail.gmail.com>
Subject: [RFC] Analog Device ADMTV 102 silicon tuner support patch
From: David Wong <davidtlwong@gmail.com>
To: linux-media@vger.kernel.org
Content-Type: multipart/mixed; boundary=00032557554a2cf6e0046b683457
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

--00032557554a2cf6e0046b683457
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi all,

  This ADMTV102 tuner code is grab from open sourced driver for
MyCinema U3100 Mini DMB-TH from ASUS.
I made some clean up to separate the tuner code from demod code.

  The original driver author cannot be reached, so I don't know should
I declare the copyright.
Please comment.

Regards,
David T.L. Wong

--00032557554a2cf6e0046b683457
Content-Type: text/x-patch; charset=US-ASCII; name="admtv102.patch"
Content-Disposition: attachment; filename="admtv102.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_fvhea8c00

ZGlmZiAtciA1ZWM2MjlkNzg0YWQgbGludXgvZHJpdmVycy9tZWRpYS9jb21tb24vdHVuZXJzL0tj
b25maWcKLS0tIGEvbGludXgvZHJpdmVycy9tZWRpYS9jb21tb24vdHVuZXJzL0tjb25maWcJTW9u
IEp1biAwMSAyMjozNDoyMCAyMDA5IC0wMzAwCisrKyBiL2xpbnV4L2RyaXZlcnMvbWVkaWEvY29t
bW9uL3R1bmVycy9LY29uZmlnCVdlZCBKdW4gMDMgMTA6MDE6MjQgMjAwOSArMDgwMApAQCAtMTcy
LDQgKzE3MiwxMSBAQAogCWhlbHAKIAkgIFNheSBZIGhlcmUgdG8gc3VwcG9ydCB0aGUgRnJlZXNj
YWxlIE1DNDRTODAzIGJhc2VkIHR1bmVycwogCitjb25maWcgTUVESUFfVFVORVJfQURNVFYxMDIK
Kwl0cmlzdGF0ZSAiQW5hbG9nIERldmljZSBNVFYgMTAyIHNpbGljb24gdHVuZXIiCisJZGVwZW5k
cyBvbiBWSURFT19NRURJQSAmJiBJMkMKKwlkZWZhdWx0IG0gaWYgTUVESUFfVFVORVJfQ1VTVE9N
SVpFCisJaGVscAorCSAgU2F5IFkgaGVyZSB0byBzdXBwb3J0IHRoZSBBbmFsb2cgRGV2aWNlIE1U
ViAxMDIgc2lsaWNvbiB0dW5lcgorCiBlbmRpZiAjIE1FRElBX1RVTkVSX0NVU1RPTUlTRQpkaWZm
IC1yIDVlYzYyOWQ3ODRhZCBsaW51eC9kcml2ZXJzL21lZGlhL2NvbW1vbi90dW5lcnMvTWFrZWZp
bGUKLS0tIGEvbGludXgvZHJpdmVycy9tZWRpYS9jb21tb24vdHVuZXJzL01ha2VmaWxlCU1vbiBK
dW4gMDEgMjI6MzQ6MjAgMjAwOSAtMDMwMAorKysgYi9saW51eC9kcml2ZXJzL21lZGlhL2NvbW1v
bi90dW5lcnMvTWFrZWZpbGUJV2VkIEp1biAwMyAxMDowMToyNCAyMDA5ICswODAwCkBAIC0yMyw2
ICsyMyw3IEBACiBvYmotJChDT05GSUdfTUVESUFfVFVORVJfTVhMNTAwNVMpICs9IG14bDUwMDVz
Lm8KIG9iai0kKENPTkZJR19NRURJQV9UVU5FUl9NWEw1MDA3VCkgKz0gbXhsNTAwN3Qubwogb2Jq
LSQoQ09ORklHX01FRElBX1RVTkVSX01DNDRTODAzKSArPSBtYzQ0czgwMy5vCitvYmotJChDT05G
SUdfTUVESUFfVFVORVJfQURNVFYxMDIpICs9IGFkbXR2MTAyLm8KIAogRVhUUkFfQ0ZMQUdTICs9
IC1JZHJpdmVycy9tZWRpYS9kdmIvZHZiLWNvcmUKIEVYVFJBX0NGTEFHUyArPSAtSWRyaXZlcnMv
bWVkaWEvZHZiL2Zyb250ZW5kcwpkaWZmIC1yIDVlYzYyOWQ3ODRhZCBsaW51eC9kcml2ZXJzL21l
ZGlhL2NvbW1vbi90dW5lcnMvYWRtdHYxMDIuYwotLS0gL2Rldi9udWxsCVRodSBKYW4gMDEgMDA6
MDA6MDAgMTk3MCArMDAwMAorKysgYi9saW51eC9kcml2ZXJzL21lZGlhL2NvbW1vbi90dW5lcnMv
YWRtdHYxMDIuYwlXZWQgSnVuIDAzIDEwOjAxOjI0IDIwMDkgKzA4MDAKQEAgLTAsMCArMSw3Mjgg
QEAKKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgor
I2luY2x1ZGUgPGxpbnV4L2kyYy5oPgorI2luY2x1ZGUgImR2Yl9mcm9udGVuZC5oIgorCisjaW5j
bHVkZSAiYWRtdHYxMDIuaCIKKyNpbmNsdWRlICJhZG10djEwMl9wcml2LmgiCisKKy8qIGRlZmlu
ZSB0aGUgcmVnaXN0ZXIgYWRkcmVzcyBhbmQgZGF0YSBvZiBUdW5lciB0aGF0CisgbmVlZCB0byBi
ZSBpbml0aWFsaXplZCB3aGVuIHBvd2VyIG9uICovCitzdGF0aWMgY29uc3QgdTggaW5pdF9kYXRh
X3VoZlsxMDBdID0geworLypBZGRyIERhdGEgKi8KKyAweDEwLCAweDZBLCAgICAgIC8qIExOQSBj
dXJyZW50LCAweDRDIHdpbGwgZGVncmFkZSAxIGRCIHBlcmZvcm1hbmNlIGJ1dCBnZXQKKwkJYmV0
dGVyIHBvd2VyIGNvbnN1bXB0aW9uLiAqLworIDB4MTEsIDB4RDgsICAgICAgLyogTWl4ZXIgY3Vy
cmVudCAqLworIDB4MTIsIDB4QzAsICAgICAgLyogTWl4ZXIgZ2FpbiAqLworIDB4MTUsIDB4M0Qs
ICAgICAgLyogVE9QIGFuZCBBREogdG8gb3B0aW1pemUgU05SIGFuZCBBQ0kgKi8KKyAweDE3LCAw
eDk3LCAgICAgIC8qIFRPUCBhbmQgQURKIHRvIG9wdGltaXplIFNOUiBhbmQgQUNJIDlBLT45NyxD
aGFuZ2VkIFRPUAorCQlhbmQgQURKIHRvIG9wdGltaXplIFNOUiBhbmQgQUNJICovCisgMHgxOCwg
MHgwMywgICAgICAvKiBDaGFuZ2VkIHBvd2VyIGRldGVjdG9yIHNhdHVyYXRpb24gdm9sdGFnZSBw
b2ludCBhbmQKKwkJd2FybmluZyB2b2x0YWdlIHBvaW50ICovIC8qIG5ldyBpbnNlcnQgKi8KKyAw
eDFGLCAweDE3LCAgICAgIC8qIFZDT1NFTCxQTExGIFJGUEdBIGFtcCBjdXJyZW50ICovCisgMHgy
MCwgMHhGRiwgICAgICAvKiBSRlBHQSBhbXAgY3VycmVudCAqLworIDB4MjEsIDB4QTQsICAgICAg
LyogUkZQR0EgYW1wIGN1cnJlbnQgKi8KKyAweDIyLCAweEE0LCAgICAgIC8qIFJGUEdBIGFtcCBj
dXJyZW50ICovCisgMHgyMywgMHhERiwgICAgICAvKiBNaXhlciBCaWFzIGNvbnRyb2wgKi8KKyAw
eDI2LCAweEZBLCAgICAgIC8qIFBMTCBCVUZGRVIgQ1VSUkVOVCAqLworIDB4MjcsIDB4MDAsICAg
ICAgLyogQ09OVkNPTC9IIGZvciBWQ08gY3VycmVudCBjb250cm9sICovCisgMHgyOCwgMHhGRiwg
ICAgICAvKiBDT05WQ09CVUZML0ggZm9yIFZDTyBidWZmZXIgYW1wbGlmaWVyIGN1cnJlbnQgY29u
dHJvbCAqLworIDB4MjksIDB4RkYsICAgICAgLyogQ09ORElWMS8yIGZvciBmaXJzdCBhbmQgc2Vj
b25kIGRpdmlkZXIgY3VycmVudCBjb250cm9sICovCisgMHgyQSwgMHhGRiwgICAgICAvKiBDT05E
SVYzLzQgZm9yIHRoaXJkIGFuZCBsYXN0IGRpdmlkZXIgY3VycmVudCBjb250cm9sICovCisgMHgy
QiwgMHhFNywgICAgICAvKiBDT05ESVY1IGZvciB0aGlyZCBhbmQgbGFzdCBkaXZpZGVyIGN1cnJl
bnQgY29udHJvbCAqLworIDBYMkMsIDB4RkYsICAgICAgLyogQ09OQlVGMC8xIGZvciBMLUJhbmQg
QnVmZmVyIGFtcCBhbmQgZmlyc3QgQnVmZmVyIGFtcAorCQljdXJyZW50IGNvbnRyb2wgKi8KKyAw
eDJFLCAweEZCLCAgICAgIC8qIENPTkJVRjQgZm9yIGZvcnRoIEJ1ZmZlciBhbXAgY3VycmVudCBj
b250cm9sICovCisgMHgzMCwgMHg4MCwgICAgICAvKiBMRlNXKEludGVybmFsIExvb3AgRmlsdGVy
KSB0byBpbXByb3ZlIHBoYXNlIG5vaXNlIEY4LT44MCAqLworIDB4MzIsIDB4YzIsICAgICAgLyog
TE9PUCBmaWx0ZXIgYm91bmRhcnkgKi8KKyAweDMzLCAweDgwLCAgICAgIC8qIERDIG9mZnNldCBj
b250cm9sICovCisgMHgzNCwgMHhFQywgICAgICAvKiBEQyBvZmZzZXQgY29udHJvbCAqLworIDB4
MzksIDB4OTYsICAgICAgLyogQUdDSE0gQUdDIGNvbXBlbnNhdGlvbiB2YWx1ZSB3aGVuIExOQSBj
aGFuZ2VzICovCisgMHgzQSwgMHhBMCwgICAgICAvKiBBR0NITSBBR0MgY29tcGVuc2F0aW9uIHZh
bHVlIHdoZW4gTE5BIGNoYW5nZXMgKi8KKyAweDNCLCAweDA1LCAgICAgIC8qIEFHQ0hNIEFHQyBj
b21wZW5zYXRpb24gdmFsdWUgd2hlbiBMTkEgY2hhbmdlcyAqLworIDB4M0MsIDB4RDAsICAgICAg
LyogQUdDSE0gQUdDIGNvbXBlbnNhdGlvbiB2YWx1ZSB3aGVuIExOQSBjaGFuZ2VzICovCisgMHg0
NCwgMHhERiwgICAgICAvKiBCQlBHQSBuZWVkcyB0byBzdGF5IG9uIGZvciBjdXJyZW50IHNpbGlj
b24gcmV2aXNpb24gKi8KKyAweDQ4LCAweDIzLCAgICAgIC8qIGN1cnJlbnQgZm9yIG91dHB1dCBi
dWZmZXIgYW1wIDIzLT4yMSAqLworIDB4NDksIDB4MDgsICAgICAgLyogZ2FpbiBtb2RlIGZvciBv
dXRwdXQgYnVmZmVyIGFtcCAqLworIDB4NEEsIDB4QTAsICAgICAgLyogdHJpcCBwb2ludCBmb3Ig
QkJWR0EgKi8KKyAweDRCLCAweDlELCAgICAgIC8qIHRyaXAgcG9pbnQgZm9yIFJGUEdBICovCisg
MHg0QywgMHg5RCwgICAgICAvKiBBREpSU1NJIHdhcm5pbmcgcG9pbnQgKi8KKyAweDRELCAweEMz
LCAgICAgIC8qIFBMTCBjdXJyZW50IGZvciBzdGFiaWxpdHkgUExMIGxvY2sgKi8KKyAweGZmLCAw
eGZmCit9OworCitzdGF0aWMgY29uc3QgdTggaW5pdF9kYXRhX3ZoZlsxMDBdID0geworLyogQWRk
ciBEYXRhICovCisgMHgxMCwgMHgwOCwgICAgICAvKiBMTkEgY3VycmVudCAqLworIDB4MTEsIDB4
YzIsICAgICAgLyogTWl4ZXIgY3VycmVudCAqLworIDB4MTIsIDB4QzAsICAgICAgLyogTWl4ZXIg
Z2FpbiAqLworIDB4MTcsIDB4OTgsICAgICAgLyogVE9QIGFuZCBBREogdG8gb3B0aW1pemUgU05S
IGFuZCBBQ0kgOUEtPjk4ICovCisgMHgxRiwgMHgxNywgICAgICAvKiBWQ09TRUwsUExMRiBSRlBH
QSBhbXAgY3VycmVudCAqLworIDB4MjAsIDB4OWIsICAgICAgLyogUkZQR0EgYW1wIGN1cnJlbnQg
Ki8KKyAweDIxLCAweEE0LCAgICAgIC8qIFJGUEdBIGFtcCBjdXJyZW50ICovCisgMHgyMiwgMHhB
NCwgICAgICAvKiBSRlBHQSBhbXAgY3VycmVudCAqLworIDB4MjMsIDB4OUYsICAgICAgLyogTWl4
ZXIgQmlhcyBjb250cm9sICovCisgMHgyNiwgMHhGOSwgICAgICAvKiBQTEwgQlVGRkVSIENVUlJF
TlQgKi8KKyAweDI3LCAweDExLCAgICAgIC8qIENPTlZDT0wvSCBmb3IgVkNPIGN1cnJlbnQgY29u
dHJvbCAqLworIDB4MjgsIDB4OTIsICAgICAgLyogQ09OVkNPQlVGTC9IIGZvciBWQ08gYnVmZmVy
IGFtcGxpZmllciBjdXJyZW50IGNvbnRyb2wgKi8KKyAweDI5LCAweEJDLCAgICAgIC8qIENPTkRJ
VjEvMiBmb3IgZmlyc3QgYW5kIHNlY29uZCBkaXZpZGVyIGN1cnJlbnQgY29udHJvbCAqLworIDB4
MkIsIDB4RTcsICAgICAgLyogQ09ORElWNSBmb3IgdGhpcmQgYW5kIGxhc3QgZGl2aWRlciBjdXJy
ZW50IGNvbnRyb2wgKi8KKyAweDJELCAweDlDLAorIDB4MkUsIDB4Q0UsICAgICAgLyogQ09OQlVG
NCBmb3IgZm9ydGggQnVmZmVyIGFtcCBjdXJyZW50IGNvbnRyb2wgKi8KKyAweDJGLCAweDFGLAor
IDB4MzAsIDB4ODAsICAgICAgLyogTEZTVyhJbnRlcm5hbCBMb29wIEZpbHRlcikgdG8gaW1wcm92
ZSBwaGFzZSBub2lzZSAqLworIDB4MzIsIDB4YzIsICAgICAgLyogTE9PUCBmaWx0ZXIgYm91bmRh
cnkgKi8KKyAweDMzLCAweDgwLCAgICAgIC8qIERDIG9mZnNldCBjb250cm9sICovCisgMHgzNCwg
MHhFQywgICAgICAvKiBEQyBvZmZzZXQgY29udHJvbCAqLworIDB4NDgsIDB4MjksICAgICAgLyog
Y3VycmVudCBmb3Igb3V0cHV0IGJ1ZmZlciBhbXAgKi8KKyAweDQ5LCAweDA4LCAgICAgIC8qIGdh
aW4gbW9kZSBmb3Igb3V0cHV0IGJ1ZmZlciBhbXAgKi8KKyAweDRBLCAweEEwLCAgICAgIC8qIHRy
aXAgcG9pbnQgZm9yIEJCVkdBICovCisgMHg0QiwgMHg5RCwgICAgICAvKiB0cmlwIHBvaW50IGZv
ciBSRlBHQSAqLworIDB4NEMsIDB4OUQsICAgICAgLyogQURKUlNTSSB3YXJuaW5nIHBvaW50ICov
CisgMHg0RCwgMHhDMywgICAgICAvKiBQTEwgY3VycmVudCBmb3Igc3RhYmlsaXR5IFBMTCBsb2Nr
ICovCisgMHhmZiwgMHhmZgorfTsKKworc3RhdGljIGNvbnN0IHU4IHBsbF9yZWdfdGFiWzEwXVsz
XSA9IHsKKyAgLyogMHgyNCwgMHgzMSwgMHgzOCAqLworICAgIHsweDBGLCAweDA0LCAweDUwfSwg
LyogMTNNSHogLy8weDI0OiAweG5CLT4gMHhuRiAqLworICAgIHsweDFGLCAweDA0LCAweDUwfSwg
LyogMTYuMzg0TUh6ICovCisgICAgezB4MkYsIDB4MDQsIDB4NTB9LCAvKiAxOS4yTUh6ICovCisg
ICAgezB4M0YsIDB4MDQsIDB4NTB9LCAvKiAyMC40OE1IeiAqLworICAgIHsweDRGLCAweDE1LCAw
eDUxfSwgLyogMjQuNTc2TUh6ICovCisgICAgezB4NUYsIDB4MTUsIDB4NTF9LCAvKiAyNk1IeiAq
LworICAgIHsweDVBLCAweDA0LCAweDUxfSwgLyogMzAuNE1IeiAgKi8vKiBzcGVjaWFsIHNldCBm
b3IgMzAuNE1IeiBjYXNlICovCisgICAgezB4NkYsIDB4MTUsIDB4NTF9LCAvKiAzNk1IeiAqLwor
ICAgIHsweDdGLCAweDE1LCAweDUxfSwgLyogMzguNE1IeiAqLworICAgIHsweDNGLCAweDA0LCAw
eDUwfSwgLyogMjBNSHogKi8KK307CisKKworc3RhdGljIGludCBkZWJ1ZzsKK21vZHVsZV9wYXJh
bShkZWJ1ZywgaW50LCAwNjQ0KTsKK01PRFVMRV9QQVJNX0RFU0MoZGVidWcsICJUdXJuIG9uL29m
ZiBkZWJ1Z2dpbmcgKGRlZmF1bHQ6b2ZmKS4iKTsKKworI2RlZmluZSBkcHJpbnRrKGFyZ3MuLi4p
IGRvIHsgXAorCWlmIChkZWJ1ZykgeyBcCisJCXByaW50ayhLRVJOX0RFQlVHICJhZG10djEwMjog
IiBhcmdzKTsgXAorCQlwcmludGsoIlxuIik7IH0gXAorCX0gd2hpbGUgKDApCisKKy8qIFJlYWRz
IGEgc2luZ2xlIHJlZ2lzdGVyICovCitzdGF0aWMgaW50IGFkbXR2MTAyX3JlYWRyZWcoc3RydWN0
IGFkbXR2MTAyX3ByaXYgKnByaXYsIHU4IHJlZywgdTggKnZhbCkKK3sKKwlzdHJ1Y3QgaTJjX21z
ZyBtc2dbMl0gPSB7CisJCXsgLmFkZHIgPSBwcml2LT5jZmctPmkyY19hZGRyZXNzLCAuZmxhZ3Mg
PSAwLAorCQkJLmJ1ZiA9ICZyZWcsIC5sZW4gPSAxIH0sCisJCXsgLmFkZHIgPSBwcml2LT5jZmct
PmkyY19hZGRyZXNzLCAuZmxhZ3MgPSBJMkNfTV9SRCwKKwkJCS5idWYgPSB2YWwsIC5sZW4gPSAx
IH0sCisJfTsKKworCWlmIChpMmNfdHJhbnNmZXIocHJpdi0+aTJjLCBtc2csIDIpICE9IDIpIHsK
KwkJcHJpbnRrKEtFUk5fV0FSTklORyAiYWRtdHYxMDIgSTJDIHJlYWQgZmFpbGVkXG4iKTsKKwkJ
cmV0dXJuIC1FUkVNT1RFSU87CisJfQorCWlmIChkZWJ1ZyA+PSAyKQorCQlwcmludGsoS0VSTl9E
RUJVRyAiJXMocmVnPTB4JTAyWCkgOiAweCUwMlhcbiIsCisJCQlfX2Z1bmNfXywgcmVnLCAqdmFs
KTsKKwlyZXR1cm4gMDsKK30KKworLyogV3JpdGVzIGEgc2luZ2xlIHJlZ2lzdGVyICovCitzdGF0
aWMgaW50IGFkbXR2MTAyX3dyaXRlcmVnKHN0cnVjdCBhZG10djEwMl9wcml2ICpwcml2LCB1OCBy
ZWcsIHU4IHZhbCkKK3sKKwl1OCBidWZbMl0gPSB7IHJlZywgdmFsIH07CisJc3RydWN0IGkyY19t
c2cgbXNnID0geworCQkuYWRkciA9IHByaXYtPmNmZy0+aTJjX2FkZHJlc3MsIC5mbGFncyA9IDAs
IC5idWYgPSBidWYsIC5sZW4gPSAyCisJfTsKKworCWlmIChpMmNfdHJhbnNmZXIocHJpdi0+aTJj
LCAmbXNnLCAxKSAhPSAxKSB7CisJCXByaW50ayhLRVJOX1dBUk5JTkcgImFkbXR2MTAyIEkyQyB3
cml0ZSBmYWlsZWRcbiIpOworCQlyZXR1cm4gLUVSRU1PVEVJTzsKKwl9CisJaWYgKGRlYnVnID49
IDIpCisJCXByaW50ayhLRVJOX0RFQlVHICIlcyhyZWc9MHglMDJYLCB2YWw9MHglMDJYKVxuIiwK
KwkJCV9fZnVuY19fLCByZWcsIHZhbCk7CisJcmV0dXJuIDA7Cit9CisKKy8qIFdyaXRlcyBhIHNl
dCBvZiBjb25zZWN1dGl2ZSByZWdpc3RlcnMgKi8KK3N0YXRpYyBpbnQgYWRtdHYxMDJfd3JpdGVy
ZWdzKHN0cnVjdCBhZG10djEwMl9wcml2ICpwcml2LCB1OCAqYnVmLCB1OCBsZW4pCit7CisJc3Ry
dWN0IGkyY19tc2cgbXNnID0geworCQkuYWRkciA9IHByaXYtPmNmZy0+aTJjX2FkZHJlc3MsIC5m
bGFncyA9IDAsCisJCS5idWYgPSBidWYsIC5sZW4gPSBsZW4KKwl9OworCWlmIChpMmNfdHJhbnNm
ZXIocHJpdi0+aTJjLCAmbXNnLCAxKSAhPSAxKSB7CisJCXByaW50ayhLRVJOX1dBUk5JTkcgImFk
bXR2MTAyIEkyQyB3cml0ZSBmYWlsZWQgKGxlbj0laSlcbiIsCisJCQkoaW50KWxlbik7CisJCXJl
dHVybiAtRVJFTU9URUlPOworCX0KKwlyZXR1cm4gMDsKK30KKwordm9pZCBjb25maWdfdHVuZXIo
c3RydWN0IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCBjb25zdCB1OCAqYWRkcmRhdGEpCit7CisJaW50
IGkgPSAwOworCXU4IGFkZHIsIGRhdGE7CisKKwl3aGlsZSAoYWRkcmRhdGFbaV0gIT0gMHhGRikg
eworCQlhZGRyID0gYWRkcmRhdGFbaSsrXTsKKwkJZGF0YSA9IGFkZHJkYXRhW2krK107CisJCWFk
bXR2MTAyX3dyaXRlcmVnKHN0YXRlLCBhZGRyLCBkYXRhKTsKKwl9Cit9CisKKy8qCisgRnVuY3Rp
b246ICBTZXQgVHVuZXIgTFBGIGNvbmZpZ3VyYXRpb24KKyBJbnB1dDoKKwlyZWZfY2xrX3R5cGUg
LS0gVHVuZXIgUExMIFR5cGUKKwlscGZCVyAtLSBCYW5kIHdpZHRoICwgaW4gTUh6IHVuaXQKKyov
Cit2b2lkIHNldF9scGYoc3RydWN0IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCB1MzIgcmVmX2Nsa190
eXBlLCB1OCBscGZCVykKK3sKKwl1OCB0dW5ldmFsOworCXU4IHQ7CisJaW50IHJldDsKKworCWFk
bXR2MTAyX3dyaXRlcmVnKHN0YXRlLCAweDE1LCAodTgpKDB4MzggIHwgKChscGZCVy0zKSYweDA3
KSkpOworCWFkbXR2MTAyX3dyaXRlcmVnKHN0YXRlLCAweDI1ICwgKF9FWFRVTkVPRkYgPDwgMikg
fCAoX1RVTkVFTjw8MSkpOworCW1zbGVlcCgxMCk7CisKKwl0dW5ldmFsID0gMHgxMDsgLyogZGVm
YXVsdCB2YWx1ZSAqLworCXJldCA9IGFkbXR2MTAyX3JlYWRyZWcoc3RhdGUsIDB4MEYsICZ0KTsK
KwlpZiAocmV0ID09IDApCisJCXR1bmV2YWwgPSB0OworCisJLyogY2hhbmdlIFR1bmluZyBtb2Rl
IDogYXV0by10dW5lID0+IG1hbnVhbCB0dW5lKGhvbGQgbW9kZSkuICovCisJYWRtdHYxMDJfd3Jp
dGVyZWcoc3RhdGUsIDB4MjUgLCAoX0VYVFVORU9OIDw8IDIpIHwgKF9UVU5FRU4gPDwgMSkpOwor
CisJaWYgKHJlZl9jbGtfdHlwZSA9PSBBRE1UVjEwMl9SRUZDTEszMDQwMCkgeworCQkvKiBXcml0
ZSBDVFVORSB2YWwuIGluIG9yZGVyIHRvIHN0b3JlIHR1bmVkIHZhbHVlLiAqLworCQlhZG10djEw
Ml93cml0ZXJlZyhzdGF0ZSwgMHgyNSwKKwkJCSh1OCkoKCh0dW5ldmFsK3N0YXRlLT5jdHVuZV9j
bGtvZnMpPDwzKSB8CisJCQkoX0VYVFVORU9OIDw8IDIpIHwgKF9UVU5FRU4gPDwgMSkpCisJCSk7
CisJfSBlbHNlIHsKKwkJLyogV3JpdGUgQ1RVTkUgdmFsLiBpbiBvcmRlciB0byBzdG9yZSB0dW5l
ZCB2YWx1ZS4gKi8KKwkJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MjUsCisJCQkodTgpKCh0
dW5ldmFsPDwzKSB8IChfRVhUVU5FT04gPDwgMikgfAorCQkJKF9UVU5FRU4gPDwgMSkpCisJCSk7
CisJfQorCisgICAgcmV0dXJuOworfQorCisvKgorIFR1bmVyIFBMTCBSZWdpc3RlciBTZXR0aW5n
LgorIHJlZ19kYXQgLS0gcmVnIHNldCB2YWx1ZSB0YWJsZQorKi8KK3ZvaWQgcGxsX3JlZ19zZXQo
c3RydWN0IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCBjb25zdCB1OCAqcmVnX2RhdCwgaW50IHBsbF90
eXBlKQoreworCWludCBpID0gMDsKKwl1OCBkYXRhLCBzcGxpdGlkOworCisJaWYgKEFETVRWMTAy
X1JFRkNMSzMwNDAwID09IHBsbF90eXBlKSB7CisJCWFkbXR2MTAyX3JlYWRyZWcoc3RhdGUsIDB4
MDAsICZzcGxpdGlkKTsKKworCQlpZiAoMHgwRSA9PSBzcGxpdGlkKSB7CisJCQkvKiAweDVBICov
CisJCQlkYXRhID0gUkVGQ0xLMzA0MDBfQ0xLU0VMX1JFR19TUExJVElEMEU7CisJCX0gZWxzZSBp
ZiAoMHgwRiA9PSBzcGxpdGlkKSB7CisJCQkvKiAweDZBLCBmb3IgbWFzcyBwcm9kdWN0ICovCisJ
CQlkYXRhID0gUkVGQ0xLMzA0MDBfQ0xLU0VMX1JFR19TUExJVElEMEY7CisJCX0gZWxzZQorCQkJ
ZGF0YSA9IHJlZ19kYXRbaV07CisKKwkJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MjQsIGRh
dGEpOworCSAgICBpKys7CisJfSBlbHNlIHsKKwkJZGF0YSA9IHJlZ19kYXRbaSsrXTsKKwkJYWRt
dHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MjQsIGRhdGEpOworCX0KKworCWRhdGEgPSByZWdfZGF0
W2krK107CisJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MzEsIGRhdGEpOworCisJZGF0YSA9
IHJlZ19kYXRbaSsrXTsKKwlhZG10djEwMl93cml0ZXJlZyhzdGF0ZSwgMHgzOCwgZGF0YSk7Cit9
CisKKy8qIERpc3Rpbmd1aXNoIFR1bmVyIENoaXAgdHlwZSBieSByZWFkaW5nIFNwbGlkSUQgKi8K
K2ludCBnZXRfdHVuZXJfdHlwZShzdHJ1Y3QgYWRtdHYxMDJfcHJpdiAqc3RhdGUpCit7CisJdTgg
c3BsaXRpZCwgdHlwZTsKKworCWFkbXR2MTAyX3JlYWRyZWcoc3RhdGUsIDB4MDAsICZzcGxpdGlk
KTsKKworCXN0YXRlLT5jdHVuZV9jbGtvZnMgPSBDVFVORV9DTEtPRlNfU1BMSVQwRTsKKwlzd2l0
Y2ggKHNwbGl0aWQpIHsKKwljYXNlIDB4MEU6CisJCXN0YXRlLT5jdHVuZV9jbGtvZnMgPSBDVFVO
RV9DTEtPRlNfU1BMSVQwRTsKKwkJdHlwZSA9IFRVTkVSX0FETVRWMTAyOworCQlicmVhazsKKwlj
YXNlIDB4MEY6ICAvKiBmb3IgbWFzcyBwcm9kdWN0IHZlcnNpb24gKi8KKwkJc3RhdGUtPmN0dW5l
X2Nsa29mcyA9IENUVU5FX0NMS09GU19TUExJVDBGOworCQl0eXBlID0gVFVORVJfQURNVFYxMDI7
CisJCWJyZWFrOworCWNhc2UgMHgwODoKKwljYXNlIDB4MEE6CisJCXR5cGUgPSBUVU5FUl9NVFYx
MDI7CisJCWJyZWFrOworCWRlZmF1bHQ6CisJCXR5cGUgPSBUVU5FUl9ORVdNVFYxMDI7CisJfQor
CisJcmV0dXJuIHR5cGU7Cit9CisKK3ZvaWQgdHVuZXJfaW5pdChzdHJ1Y3QgYWRtdHYxMDJfcHJp
diAqc3RhdGUpCit7CisJaW50IHBsbF90eXBlID0gc3RhdGUtPmNmZy0+cmVmX2Nsa190eXBlOwor
CisJZ2V0X3R1bmVyX3R5cGUoc3RhdGUpOworCXN0YXRlLT5pY3AgPSAwOworCXN0YXRlLT5jb252
Y28gPSAwOworCXN0YXRlLT5jdXJUZW1wU3RhdGUgPSBISUdIX1RFTVA7CisJaWYgKHBsbF90eXBl
IDwgMCB8fCBwbGxfdHlwZSA+IDkpCisJCXBsbF90eXBlID0gMTsKKwlpZiAoc3RhdGUtPnZoZl9z
ZXQgPT0gVkhGX1NVUFBPUlQpCisJCWNvbmZpZ190dW5lcihzdGF0ZSwgJmluaXRfZGF0YV92aGZb
MF0pOworCWVsc2UKKwkJY29uZmlnX3R1bmVyKHN0YXRlLCAmaW5pdF9kYXRhX3VoZlswXSk7CisK
KwlwbGxfcmVnX3NldChzdGF0ZSwgJnBsbF9yZWdfdGFiW3BsbF90eXBlXVswXSwgcGxsX3R5cGUp
OworCXNldF9scGYoc3RhdGUsIHBsbF90eXBlLCA4KTsKK30KKworLyoKKyBGdW5jdGlvbjogIGZy
ZXF1ZW5jeSBzZXR0aW5nIGZvciBBRE1UVjEwMgorIElucHV0OgorICAgIGZyZXF1ZW5jeSA6IFR1
bmVyIGNlbnRlciBmcmVxdWVuY3kgaW4gTUh6CisgICAgbHBmX2J3ICAgICA6IENoYW5uZWwgQmFu
ZHdpZHRoIGluIE1IeiAoZGVmYXVsdDogOC0gOE1IWikKKyAgICByZWZfY2xrX3R5cGU6IFR1bmVy
IFBMTCByZWZlcmVuY2UgY2xvY2sgdHlwZQorIGZyZXF1ZW5jeSBzZXR0aW5nIGZvcm11bGEKKwlM
T2ZyZXF1ZW5jeT0oQ2xvY2tmcmVxdWVuY3kvUExMUiooUExMTitQTExGLzJeMjApKS9QTExTOwor
Ki8KK3ZvaWQgc2V0X3JmX2ZyZXEoc3RydWN0IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCB1MzIgZnJl
cXVlbmN5LCB1MzIgbHBmX2J3KQoreworCXUzMiBtdHYxMHhfcmVmY2xrOworCXUzMiBwbGxfZnJl
cSwgRnJlcTsKKwl1MzIgZGl2X3NlbCA9IDAsIHZjb19zZWwgPSAwOworCXU4IHBjNCA9IDAsIHBj
OF8xNiA9IDAsIGRhdGE0NywgdGVtcGVyOworCXUzMiBzZWdfbnVtOworCXU4IHBsbF9yOworCXUz
MiBsb2ZyZXE7CisJdTMyIHBsbF9uLCBwbGxfZiwgdG1wOworCXUxNiBtdWx0aV9mYWN0b3IsIHN1
Yl9leHAsIGRpdl8xLCBkaXZfMjsKKworCWRwcmludGsoIiVzKGZyZXE9JWQsIGJ3PSVkKVxuIiwg
X19mdW5jX18sIGZyZXF1ZW5jeSwgbHBmX2J3KTsKKworCXN0YXRlLT5mcmVxdWVuY3kgPSBmcmVx
dWVuY3k7CisJLyoganVkZ2UgaWYgdGhlIHZoZl9zZXQgaGFzIGNvbmZsaWN0IHdpdGggZnJlcXVl
bmN5IHZhbHVlIG9yIG5vdCAqLworCS8qIFZIRiBpcyAxNzRNSHogfiAyNDVNSHogKi8KKwlpZiAo
ZnJlcXVlbmN5ID4gNDAwICYmIFZIRl9TVVBQT1JUID09IHN0YXRlLT52aGZfc2V0KSB7CisJCXN0
YXRlLT52aGZfc2V0ID0gVUhGX1NVUFBPUlQ7CisJCXR1bmVyX2luaXQoc3RhdGUpOworCX0gZWxz
ZSBpZiAoZnJlcXVlbmN5IDwgNDAwICYmICBVSEZfU1VQUE9SVCA9PSBzdGF0ZS0+dmhmX3NldCkg
eworCQlzdGF0ZS0+dmhmX3NldCA9IFZIRl9TVVBQT1JUOworCQl0dW5lcl9pbml0KHN0YXRlKTsK
Kwl9CisKKwlwbGxfciA9IDE7CisJbG9mcmVxICA9IGZyZXF1ZW5jeSAqIDEwMDA7CisJZGl2X3Nl
bCAgPSBsbzJwbGxfZnJlcShsb2ZyZXEpOworCXNlZ19udW0gPSAoMHgwMSA8PCBkaXZfc2VsKTsK
KworCWlmIChzZWdfbnVtID49IDEgJiYgc2VnX251bSA8PSAxNikgeworCQlwbGxfZnJlcSA9IGxv
ZnJlcSAqICgxNi9zZWdfbnVtKTsKKwkJRnJlcSA9IGZyZXF1ZW5jeSAqICgxNi9zZWdfbnVtKTsK
Kwl9IGVsc2UgeworCQlwbGxfZnJlcSA9IGxvZnJlcSAqIDI7CisJCUZyZXEgPSBmcmVxdWVuY3kg
KiAyOworCX0KKworCXN3aXRjaCAoc3RhdGUtPmNmZy0+cmVmX2Nsa190eXBlKSB7CisJY2FzZSBB
RE1UVjEwMl9SRUZDTEsxMzAwMDoKKwkJbXR2MTB4X3JlZmNsayA9IDEzMDsgIC8qIDEzKm11bHRp
X2ZhY3RvciAqLworCQltdWx0aV9mYWN0b3IgPSAxMDsKKwkJc3ViX2V4cCA9IDE7CisJCWRpdl8x
ID0gNTsKKwkJZGl2XzIgPSAxMzsgLyogMTMwPTEzKjUqKDJeMSkgKi8KKwkJYnJlYWs7CisJY2Fz
ZSBBRE1UVjEwMl9SRUZDTEsxNjM4NDoKKwkJbXR2MTB4X3JlZmNsayA9IDE2Mzg0OworCQltdWx0
aV9mYWN0b3IgPSAxMDAwOworCQlzdWJfZXhwID0gMTQ7CisJCWRpdl8xID0gMTsKKwkJZGl2XzIg
PSAxOyAvKiAxNjM4ND09IDJeMTQgKi8KKwkJYnJlYWs7CisJY2FzZSBBRE1UVjEwMl9SRUZDTEsx
OTIwMDoKKwkJbXR2MTB4X3JlZmNsayA9IDE5MjsKKwkJbXVsdGlfZmFjdG9yID0gMTA7CisJCXN1
Yl9leHAgPSA2OworCQlkaXZfMSA9IDE7CisJCWRpdl8yID0gMzsgLyogMTkyID0gMl42ICozICov
CisJCWJyZWFrOworCWNhc2UgQURNVFYxMDJfUkVGQ0xLMjA0ODA6CisJCW10djEweF9yZWZjbGsg
PSAyMDQ4OworCQltdWx0aV9mYWN0b3IgPSAxMDA7CisJCXN1Yl9leHAgPSAxMTsKKwkJZGl2XzEg
PSAxOworCQlkaXZfMiA9IDE7IC8qICAyMDQ4ID0gMl4xMSAqLworCQlicmVhazsKKwljYXNlIEFE
TVRWMTAyX1JFRkNMSzI0NTc2OgorCQltdHYxMHhfcmVmY2xrID0gMjQ1NzY7CisJCW11bHRpX2Zh
Y3RvciA9IDEwMDA7CisJCXN1Yl9leHAgPSAxMzsKKwkJZGl2XzEgPSAxOworCQlkaXZfMiA9IDM7
IC8qIDI0NTc2ID0gMl4xMyozICovCisJCWJyZWFrOworCWNhc2UgQURNVFYxMDJfUkVGQ0xLMjYw
MDA6CisJCW10djEweF9yZWZjbGsgPSAyNjA7CisJCW11bHRpX2ZhY3RvciA9IDEwOworCQlzdWJf
ZXhwID0gMjsKKwkJZGl2XzEgPSA1OworCQlkaXZfMiA9IDEzOyAvKiAyNjA9MTMqNSooMl4yKSAq
LworCQlicmVhazsKKwljYXNlIEFETVRWMTAyX1JFRkNMSzMwNDAwOgorCQltdHYxMHhfcmVmY2xr
ID0gMzA0OworCQltdWx0aV9mYWN0b3IgPSAxMDsKKwkJcGxsX3IgPSAyIDsKKwkJc2V0X2xwZihz
dGF0ZSwgQURNVFYxMDJfUkVGQ0xLMzA0MDAsICh1OClscGZfYncpOworCQlhZG10djEwMl93cml0
ZXJlZyhzdGF0ZSwgMHgxOSwgcGxsX3IpOyAvKiBSZWYuIENsb2NrIERpdmlkZXIKKwkJUExMMCBy
ZWdpc3RlciAsIGJpdFs3OjRdIGlzIHJlc2VydmVkLCBiaXRbMzowXSBpcyBQTExSICovCisJCXN1
Yl9leHAgPSA0OworCQlkaXZfMSA9IDE7CisJCWRpdl8yID0gMTk7IC8qIDMwNCA9IDE2KjE5ICov
CisJCWJyZWFrOworCWNhc2UgQURNVFYxMDJfUkVGQ0xLMzYwMDA6CisJCW10djEweF9yZWZjbGsg
PSAzNjA7CisJCW11bHRpX2ZhY3RvciA9IDEwOworCQlzdWJfZXhwID0gMzsKKwkJZGl2XzEgPSA1
OworCQlkaXZfMiA9IDk7IC8qIDM2MD0yXjMqOSo1ICovCisJCWJyZWFrOworCWNhc2UgQURNVFYx
MDJfUkVGQ0xLMzg0MDA6CisJCW10djEweF9yZWZjbGsgPSAzODQ7CisJCW11bHRpX2ZhY3RvciA9
IDEwOworCQlzdWJfZXhwID0gNzsKKwkJZGl2XzEgPSAxOworCQlkaXZfMiA9IDM7IC8qIDM4NCA9
IDJeNyAqMyAqLworCQlicmVhazsKKwljYXNlIEFETVRWMTAyX1JFRkNMSzIwMDAwOgorCQltdHYx
MHhfcmVmY2xrID0gMjAwOworCQltdWx0aV9mYWN0b3IgPSAxMDsKKwkJc3ViX2V4cCA9IDM7CisJ
CWRpdl8xID0gNTsKKwkJZGl2XzIgPSA1OyAvKiAyMDA9OCo1KjUgKi8KKwkJYnJlYWs7CisJZGVm
YXVsdDoKKwkJbXR2MTB4X3JlZmNsayA9IDE2Mzg0OworCQltdWx0aV9mYWN0b3IgPSAxMDAwOwor
CQlzdWJfZXhwID0gMTQ7CisJCWRpdl8xID0gMTsKKwkJZGl2XzIgPSAxOyAvKiAxNjM4ND09IDJe
MTQgKi8KKwl9CisKKwlwbGxfbiA9IEZyZXEgKiBtdWx0aV9mYWN0b3IgKiBwbGxfciAvIG10djEw
eF9yZWZjbGs7CisJdG1wID0gKChwbGxfciAqIEZyZXEgKiBtdWx0aV9mYWN0b3IgLyBkaXZfMSkg
PDwgKDIwLXN1Yl9leHApKSAvIGRpdl8yOworCXBsbF9mID0gdG1wIC0gKHBsbF9uIDw8IDIwKTsK
KworCWRhdGE0NyA9IDB4MTA7IC8qIGRlZmF1bHQgVmFsdWUgKi8KKwlhZG10djEwMl9yZWFkcmVn
KHN0YXRlLCAweDJmLCAmZGF0YTQ3KTsKKworCWlmIChwbGxfbiA8PSA2NikgeworCQkvKiA0LXBy
ZXNjYWxlciAqLworCQlwYzQgICAgPSAxOworCX0gZWxzZSB7CisJCS8qIDgtcHJlc2NhbGVyICov
CisJCXBjNCAgICA9IDA7CisJfQorCWRhdGE0NyA9ICh1OCkoZGF0YTQ3IHwgKHBjNDw8NikgfCAo
cGM4XzE2PDw1KSk7CisKKwkvKiBkbyBhIHJlc2V0IG9wZXJhdGlvbiAqLworCWFkbXR2MTAyX3dy
aXRlcmVnKHN0YXRlLCAweDI3LCAweDAwKTsKKwkvKiBQTEwgUmVzZXQgRW5hYmxlICovCisJYWRt
dHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MmYsIGRhdGE0Nyk7ICAgICAgLyogUmVzZXQgU2VxLiAw
ID0+IDEgKi8KKwlhZG10djEwMl93cml0ZXJlZyhzdGF0ZSwgMHgyZiwgKHU4KSAoZGF0YTQ3IHwg
MHg4MCkpOworCisJaWYgKChwbGxfZnJlcSoyKSA8IDI1OTIwMDApICAvKiA2NDgqMTAwMCoyKjIg
YWNjb3JkaW5nIHRvIGRhdGEgc2hlZXQgKi8KKwkJdmNvX3NlbCA9IDA7CisJZWxzZQorCQl2Y29f
c2VsID0gMTsKKworCS8qIHJlYWQgMHgwOSByZWdpc3RlciBiaXQgWzU6MF0gKi8KKwkvKiBUbyBn
ZXQgdGVtcGVyYXR1cmUgc2Vuc29yIHZhbHVlICovCisJdGVtcGVyID0gMHgwQzsKKwlhZG10djEw
Ml9yZWFkcmVnKHN0YXRlLCAweDA5LCAmdGVtcGVyKSA7CisJdGVtcGVyICY9IDB4M2Y7IC8qIGdl
dCBsb3cgNiBiaXRzICovCisKKwlkcF9waGFzZV90dW5pbmcoc3RhdGUsIGxvZnJlcSwgdGVtcGVy
KTsKKwkvKiB0aGVzZSB2YWx1ZSBtYXkgY2hhbmdlczogZ19pY3A9MCwKKwkgICBzdGF0ZS0+Y29u
dmNvPTAsIHN0YXRlLT5jdXJUZW1wU3RhdGU9SElHSF9URU1QOyAqLworCisJaWYgKGxvZnJlcSA+
IDQwMDAwMCkgeworCQkvKmlmIGlSRj1VSEYgKi8KKwkJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUs
IDB4MWEsCisJCQkodTgpKChzdGF0ZS0+aWNwIDw8IDIpIHwgKChwbGxfbiYweDMwMCk+PjgpKSk7
CisJfSBlbHNlIHsKKwkJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MWEsCisJCQkodTgpKDB4
RkMgfCAoKHBsbF9uJjB4MzAwKSA+PiA4KSkpOworCX0KKworCS8qIFBMTCBTZXR0aW5nICovCisJ
YWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MWIsICh1OCkocGxsX24gJiAweEZGKSk7CisJYWRt
dHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MWMsCisJCSh1OCkoKGRpdl9zZWw8PDQpIHwgKHZjb19z
ZWw8PDcpIHwgKChwbGxfZiYweEYwMDAwKT4+MTYpKSk7CisJYWRtdHYxMDJfd3JpdGVyZWcoc3Rh
dGUsIDB4MWQsICh1OCkoKHBsbF9mJjB4MEZGMDApPj44KSk7CisJYWRtdHYxMDJfd3JpdGVyZWco
c3RhdGUsIDB4MWUsICh1OCkocGxsX2YmMHhGRikpOworCWFkbXR2MTAyX3dyaXRlcmVnKHN0YXRl
LCAweDE1LCAodTgpKDB4MzggfCAoKGxwZl9idy0zKSYweDA3KSkpOworCisJLyogUExMIFJlc2V0
ICovCisJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MmYsIGRhdGE0Nyk7IC8qIFJlc2V0IFNl
cS4gMCA9PiAxICovCisJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MmYsICh1OCkoZGF0YTQ3
IHwgMHg4MCkpOworCWFkbXR2MTAyX3dyaXRlcmVnKHN0YXRlLCAweDJmLCBkYXRhNDcpOworCisJ
YWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MjcsIHN0YXRlLT5jb252Y28pOworCWlmIChsb2Zy
ZXEgPiA0MDAwMDApCisJCWFkbXR2MTAyX3dyaXRlcmVnKHN0YXRlLCAweDI5LCAweEJGKTsKK30K
KworLyoKKyBGdW5jdGlvbjogIGNhbGN1bGF0ZSBESVZTRUwgYWNjb3JkaW5nIHRvIGxvZnJlcQor
IElucHV0OiAgIGxvZnJlcSAgLS0gRnJlcXVlbmN5IHBvaW50IHZhbHVlIGluIGtIeiB1bml0Cisg
UmV0dXJuOiAgZGl2c2VsIC0tIERJVlNFTCBpbiByZWdpc3RlciAweDFDCisqLworaW50ICBsbzJw
bGxfZnJlcSh1MzIgbG9mcmVxKQoreworCXUzMiBmZGVmX2xvX2JvdW5kX2ZyZXEgPSA5NDAwMDA7
CisJaW50IHNlZ19udW0sIGRpdnNlbCA9IDA7CisKKwlzZWdfbnVtID0gKGludCkobG9mcmVxIC8g
KGZkZWZfbG9fYm91bmRfZnJlcSAvIDE2KSk7CisKKwl3aGlsZSAoc2VnX251bSA+IDB4MDEpIHsK
KwkJc2VnX251bSA+Pj0gMTsKKwkJZGl2c2VsKys7CisJfQorCisJcmV0dXJuIGRpdnNlbDsKK30K
KworLyoKKyBGdW5jdGlvbjogQ2hhbmdlIENPTlZDTyB2YWx1ZSBhY2NvcmRpbmcgdG8gVGVtcGVy
YXR1cmUgU2Vuc29yKDB4MjdbMDo0XSkKKyBJbnB1dDogbG9mcmVxIC0tIGZyZXF1ZW5jeSBpbiBr
SHogdW5pdAorCXRlbXBlciAtLSBUdW5lciAweDA5IHJlZ2lzdGVyIGNvbnRlbnQKKyovCit2b2lk
IGRwX3BoYXNlX3R1bmluZyhzdHJ1Y3QgYWRtdHYxMDJfcHJpdiAqc3RhdGUsIHUzMiBsb2ZyZXEs
IHU4IHRlbXBlcikKK3sKKwlpZiAoc3RhdGUtPnZoZl9zZXQgPT0gVkhGX1NVUFBPUlQpIHsKKwkJ
aWYgKHRlbXBlciA8PSBWTE9XX0RFR19CT1VOREFSWSkgeworCQkJc3RhdGUtPmNvbnZjbyA9IFJH
TE9XX0RFR19DT05WQ09fVkhGOworCQkJc3RhdGUtPmN1clRlbXBTdGF0ZSA9IExPV19URU1QOwor
CQl9IGVsc2UgIGlmICh0ZW1wZXIgPj0gVkhJR0hfREVHX0JPVU5EQVJZKSB7CisJCQlzdGF0ZS0+
Y29udmNvID0gUkdISUdIX0RFR19DT05WQ087CisJCQlzdGF0ZS0+Y3VyVGVtcFN0YXRlID0gSElH
SF9URU1QOworCQl9CisJfSBlbHNlIHsKKwkJaWYgKHRlbXBlciA8PSBWTE9XX0RFR19CT1VOREFS
WSkgeworCQkJc3RhdGUtPmNvbnZjbyA9IFJHTE9XX0RFR19DT05ESVY7CisJCQlzdGF0ZS0+aWNw
ID0gMHgzRjsKKwkJCXN0YXRlLT5jdXJUZW1wU3RhdGUgPSBMT1dfVEVNUDsKKwkJfSBlbHNlIGlm
ICh0ZW1wZXIgPj0gVkhJR0hfREVHX0JPVU5EQVJZKSB7CisJCQlzdGF0ZS0+Y29udmNvID0gUkdI
SUdIX0RFR19DT05ESVY7CisJCQlpZiAoKGxvZnJlcSA+IDYxMDAwMCkgJiYgKGxvZnJlcSA8IDY0
ODAwMCkpIHsKKwkJCQkvKjYxME1IeiB+IDY0OE1IeiAqLworCQkJCXN0YXRlLT5pY3AgPSAweDFG
OworCQkJfSBlbHNlCisJCQkJc3RhdGUtPmljcCA9IDB4M0Y7CisJCQlzdGF0ZS0+Y3VyVGVtcFN0
YXRlID0gSElHSF9URU1QOworCQl9IGVsc2UgIHsKKwkJCWlmIChzdGF0ZS0+Y3VyVGVtcFN0YXRl
KSB7CisJCQkJc3RhdGUtPmNvbnZjbyA9IFJHTE9XX0RFR19DT05ESVY7CisJCQkJc3RhdGUtPmlj
cCA9IDB4M0Y7CisJCQl9ICBlbHNlIHsKKwkJCQlzdGF0ZS0+Y29udmNvID0gUkdISUdIX0RFR19D
T05ESVY7CisJCQkJaWYgKChsb2ZyZXEgPiA2MTAwMDApICYmCisJCQkJCShsb2ZyZXEgPCA2NDgw
MDApKSB7CisJCQkJCS8qIDYxME1IeiB+IDY0OE1IeiAqLworCQkJCQlzdGF0ZS0+aWNwID0gMHgx
RjsKKwkJCQl9IGVsc2UKKwkJCQkJc3RhdGUtPmljcCA9IDB4M0Y7CisJCQl9CisJCX0KKwl9Cit9
CisKKy8qCisgRnVuY3Rpb246IERvIHR1bmVyIHRlbXBlcmF0dXJlIGNvbXBlbnNhdGUsIGl0IGNh
biBiZSBjYWxsZWQgYnkgcHJvY2Vzc29yCisJZm9yIGV2ZXJ5IDV+MTAgc2Vjb25kcy4gVGhpcyBt
YXkgaW1wcm92ZSB0aGUgdHVuZXIgcGVyZm9ybWFuY2UuCisgSW5wdXQ6IGxvZnJlcSAtLSBmcmVx
dWVuY3kgaW4ga0h6IHVuaXQKKyovCit2b2lkIHRlbXBlcmF0dXJlX2NvbXBlbnNhdGUoc3RydWN0
IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCBsb25nIGxvZnJlcSkKK3sKKwl1OCAgb2xkX3ZhbCwgbmV3
X3ZhbCwgdGVtcGVyOworCisJb2xkX3ZhbCA9IDB4RkM7CisJdGVtcGVyID0gMHgwQzsKKworCWFk
bXR2MTAyX3JlYWRyZWcoc3RhdGUsIDB4MDksICZ0ZW1wZXIpOworCXRlbXBlciAmPSAweDNGOwor
CisJZHBfcGhhc2VfdHVuaW5nKHN0YXRlLCBsb2ZyZXEsIHRlbXBlcik7CisKKwlhZG10djEwMl9y
ZWFkcmVnKHN0YXRlLCAweDFBLCAmb2xkX3ZhbCk7CisKKwkvKiByZXNlcnZlIGJpdCA3LCBiaXQx
IGFuZCBiaXQgMCAqLworCW5ld192YWwgPSAodTgpKChzdGF0ZS0+aWNwPDwyKSB8IChvbGRfdmFs
ICYgMHg4MykpOworCS8qIHdyaXRlIHN0YXRlLT5pY3AgaW50byAweDFBIHJlZ2lzdGVyIGJpdFs2
OjJdICovCisJYWRtdHYxMDJfd3JpdGVyZWcoc3RhdGUsIDB4MUEsIG5ld192YWwpOworCWFkbXR2
MTAyX3dyaXRlcmVnKHN0YXRlLCAweDI3LCBzdGF0ZS0+Y29udmNvKTsKK30KKworaW50ICBwbGxf
bG9ja19jaGVjayhzdHJ1Y3QgYWRtdHYxMDJfcHJpdiAqc3RhdGUpCit7CisJaW50IHBsbF9sb2Nr
ID0gMDsKKwlpbnQgbG9jaywgYWRfb3V0OworCXU4IHQ7CisKKwkvKiBjaGVjayBpZiB0aGUgdHVu
ZXIgUExMIGlzIGxvY2tlZCBvciBub3QgKi8KKwlhZG10djEwMl9yZWFkcmVnKHN0YXRlLCAweDA2
LCAmdCk7CisJbG9jayA9ICgodCAmIDB4MDIpID09IDB4MDIpID8gMSA6IDA7CisKKwlhZG10djEw
Ml9yZWFkcmVnKHN0YXRlLCAweDA0LCAmdCk7CisJYWRfb3V0ID0gdCAmIDB4MGY7CisKKwkvKiBQ
TEwgbG9jayBjcm9zcyBjaGVjayAqLworCWlmIChsb2NrICYmCisJCSgoYWRfb3V0ID4gQURfT1VU
X01JTikgJiYgKGFkX291dCA8IEFEX09VVF9NQVgpKSkKKwkJcGxsX2xvY2sgPSAxOworCisJcmV0
dXJuIHBsbF9sb2NrOworfQorCisvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCisKK3N0YXRpYyBpbnQg
YWRtdHYxMDJfc2V0X3BhcmFtcyhzdHJ1Y3QgZHZiX2Zyb250ZW5kICpmZSwKKwlzdHJ1Y3QgZHZi
X2Zyb250ZW5kX3BhcmFtZXRlcnMgKnBhcmFtcykKK3sKKwlzdHJ1Y3QgYWRtdHYxMDJfcHJpdiAq
cHJpdjsKKwl1MzIgZnJlcTsKKwlpbnQgaTsKKwlpbnQgcmV0ID0gMDsKKwlwcml2ID0gZmUtPnR1
bmVyX3ByaXY7CisKKwlpZiAoZmUtPm9wcy5pMmNfZ2F0ZV9jdHJsKQorCQlmZS0+b3BzLmkyY19n
YXRlX2N0cmwoZmUsIDEpOyAvKiBvcGVuIGkyY19nYXRlICovCisKKwlmcmVxID0gcGFyYW1zLT5m
cmVxdWVuY3kgLyAxMDAwIC8gMTAwMDsgLyogSHogLT4gTUh6ICovCisJcHJpdi0+YmFuZHdpZHRo
ID0gKGZlLT5vcHMuaW5mby50eXBlID09IEZFX09GRE0pID8KKwkJcGFyYW1zLT51Lm9mZG0uYmFu
ZHdpZHRoIDogMDsKKworCXNldF9yZl9mcmVxKHByaXYsIGZyZXEsIHByaXYtPmJhbmR3aWR0aCAv
IDEwMDAgLyAxMDAwKTsKKworCS8qIFdhaXRzIGZvciBQTEwgbG9jayBvciB0aW1lb3V0ICovCisJ
aSA9IDA7CisJZG8geworCQlpZiAocGxsX2xvY2tfY2hlY2socHJpdikpCisJCQlicmVhazsKKwkJ
bXNsZWVwKDQpOworCQlpKys7CisJfSB3aGlsZSAoaSA8IDEwKTsKKworCWlmIChmZS0+b3BzLmky
Y19nYXRlX2N0cmwpCisJCWZlLT5vcHMuaTJjX2dhdGVfY3RybChmZSwgMCk7IC8qIGNsb3NlIGky
Y19nYXRlICovCisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFkbXR2MTAyX2dldF9m
cmVxdWVuY3koc3RydWN0IGR2Yl9mcm9udGVuZCAqZmUsIHUzMiAqZnJlcXVlbmN5KQoreworCXN0
cnVjdCBhZG10djEwMl9wcml2ICpwcml2ID0gZmUtPnR1bmVyX3ByaXY7CisJKmZyZXF1ZW5jeSA9
IHByaXYtPmZyZXF1ZW5jeTsKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBhZG10djEwMl9n
ZXRfYmFuZHdpZHRoKHN0cnVjdCBkdmJfZnJvbnRlbmQgKmZlLCB1MzIgKmJhbmR3aWR0aCkKK3sK
KwlzdHJ1Y3QgYWRtdHYxMDJfcHJpdiAqcHJpdiA9IGZlLT50dW5lcl9wcml2OworCSpiYW5kd2lk
dGggPSBwcml2LT5iYW5kd2lkdGg7CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgYWRtdHYx
MDJfaW5pdChzdHJ1Y3QgZHZiX2Zyb250ZW5kICpmZSkKK3sKKwlzdHJ1Y3QgYWRtdHYxMDJfcHJp
diAqc3RhdGUgPSBmZS0+dHVuZXJfcHJpdjsKKworCXR1bmVyX2luaXQoc3RhdGUpOworCXNldF9y
Zl9mcmVxKHN0YXRlLCA3NDYsIDgpOworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IGFkbXR2
MTAyX3NsZWVwKHN0cnVjdCBkdmJfZnJvbnRlbmQgKmZlKQoreworCXJldHVybiAwOworfQorCitz
dGF0aWMgaW50IGFkbXR2MTAyX3JlbGVhc2Uoc3RydWN0IGR2Yl9mcm9udGVuZCAqZmUpCit7CisJ
a2ZyZWUoZmUtPnR1bmVyX3ByaXYpOworCWZlLT50dW5lcl9wcml2ID0gTlVMTDsKKwlyZXR1cm4g
MDsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBkdmJfdHVuZXJfb3BzIGFkbXR2MTAyX3R1bmVy
X29wcyA9IHsKKwkuaW5mbyA9IHsKKwkJLm5hbWUgICAgICAgICAgID0gIkFuYWxvZyBEZXZpY2Ug
QURNVFYxMDIiLAorCQkuZnJlcXVlbmN5X21pbiAgPSAgNDgwMDAwMDAsCisJCS5mcmVxdWVuY3lf
bWF4ICA9IDg2MDAwMDAwMCwKKwkJLmZyZXF1ZW5jeV9zdGVwID0gICAgIDUwMDAwLAorCX0sCisK
KwkucmVsZWFzZSAgICAgICA9IGFkbXR2MTAyX3JlbGVhc2UsCisKKwkuaW5pdCAgICAgICAgICA9
IGFkbXR2MTAyX2luaXQsCisJLnNsZWVwICAgICAgICAgPSBhZG10djEwMl9zbGVlcCwKKworCS5z
ZXRfcGFyYW1zICAgID0gYWRtdHYxMDJfc2V0X3BhcmFtcywKKwkuZ2V0X2ZyZXF1ZW5jeSA9IGFk
bXR2MTAyX2dldF9mcmVxdWVuY3ksCisJLmdldF9iYW5kd2lkdGggPSBhZG10djEwMl9nZXRfYmFu
ZHdpZHRoCit9OworCitzdHJ1Y3QgZHZiX2Zyb250ZW5kICphZG10djEwMl9hdHRhY2goc3RydWN0
IGR2Yl9mcm9udGVuZCAqZmUsCisJc3RydWN0IGkyY19hZGFwdGVyICppMmMsIHN0cnVjdCBhZG10
djEwMl9jb25maWcgKmNmZykKK3sKKwlzdHJ1Y3QgYWRtdHYxMDJfcHJpdiAqcHJpdiA9IE5VTEw7
CisJdTggaWQgPSAwOworCisJcHJpdiA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBhZG10djEwMl9w
cml2KSwgR0ZQX0tFUk5FTCk7CisJaWYgKHByaXYgPT0gTlVMTCkKKwkJcmV0dXJuIE5VTEw7CisK
Kwlwcml2LT5jZmcgICAgICA9IGNmZzsKKwlwcml2LT5pMmMgICAgICA9IGkyYzsKKworCWlmIChm
ZS0+b3BzLmkyY19nYXRlX2N0cmwpCisJCWZlLT5vcHMuaTJjX2dhdGVfY3RybChmZSwgMSk7IC8q
IG9wZW4gaTJjX2dhdGUgKi8KKworCWlmIChhZG10djEwMl9yZWFkcmVnKHByaXYsIDAsICZpZCkg
IT0gMCkgeworCQlrZnJlZShwcml2KTsKKwkJcmV0dXJuIE5VTEw7CisJfQorCisJbWVtY3B5KCZm
ZS0+b3BzLnR1bmVyX29wcywgJmFkbXR2MTAyX3R1bmVyX29wcywKKwkJc2l6ZW9mKHN0cnVjdCBk
dmJfdHVuZXJfb3BzKSk7CisKKwlmZS0+dHVuZXJfcHJpdiA9IHByaXY7CisKKwlpZiAoZmUtPm9w
cy5pMmNfZ2F0ZV9jdHJsKQorCQlmZS0+b3BzLmkyY19nYXRlX2N0cmwoZmUsIDApOyAvKiBjbG9z
ZSBpMmNfZ2F0ZSAqLworCisJcmV0dXJuIGZlOworfQorRVhQT1JUX1NZTUJPTChhZG10djEwMl9h
dHRhY2gpOworCitNT0RVTEVfQVVUSE9SKCJEYXZpZCBULkwuIFdvbmciKTsKK01PRFVMRV9ERVND
UklQVElPTigiQW5hbG9nIERldmljZSBBRE1UVjEwMiBzaWxpY29uIHR1bmVyIGRyaXZlciIpOwor
TU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwpkaWZmIC1yIDVlYzYyOWQ3ODRhZCBsaW51eC9kcml2ZXJz
L21lZGlhL2NvbW1vbi90dW5lcnMvYWRtdHYxMDIuaAotLS0gL2Rldi9udWxsCVRodSBKYW4gMDEg
MDA6MDA6MDAgMTk3MCArMDAwMAorKysgYi9saW51eC9kcml2ZXJzL21lZGlhL2NvbW1vbi90dW5l
cnMvYWRtdHYxMDIuaAlXZWQgSnVuIDAzIDEwOjAxOjI0IDIwMDkgKzA4MDAKQEAgLTAsMCArMSw1
OCBAQAorLyoKKyAqICBEcml2ZXIgZm9yIEFuYWxvZyBEZXZpY2UgQURNVFYxMDIgc2lsaWNvbiB0
dW5lcgorICoKKyAqICBDb3B5cmlnaHQgKGMpIDIwMDYgT2xpdmllciBEQU5FVCA8b2RhbmV0QGNh
cmFtYWlsLmNvbT4KKyAqCisgKiAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBj
YW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKKyAqICBpdCB1bmRlciB0aGUgdGVybXMg
b2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQorICogIHRo
ZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIgb2YgdGhlIExpY2Vu
c2UsIG9yCisgKiAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KKyAqCisgKiAg
VGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1
c2VmdWwsCisgKiAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGlt
cGxpZWQgd2FycmFudHkgb2YKKyAqICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQ
QVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCisgKgorICogIEdOVSBHZW5lcmFsIFB1YmxpYyBM
aWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCisgKgorICogIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZl
ZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCisgKiAgYWxvbmcgd2l0
aCB0aGlzIHByb2dyYW07IGlmIG5vdCwgd3JpdGUgdG8gdGhlIEZyZWUgU29mdHdhcmUKKyAqICBG
b3VuZGF0aW9uLCBJbmMuLCA2NzUgTWFzcyBBdmUsIENhbWJyaWRnZSwgTUEgMDIxMzksIFVTQS49
CisgKi8KKworI2lmbmRlZiBBRE1UVjEwMl9ICisjZGVmaW5lIEFETVRWMTAyX0gKKworI2RlZmlu
ZSBBRE1UVjEwMl9SRUZDTEsxMzAwMCAgMAorI2RlZmluZSBBRE1UVjEwMl9SRUZDTEsxNjM4NCAg
MQorI2RlZmluZSBBRE1UVjEwMl9SRUZDTEsxOTIwMCAgMgorI2RlZmluZSBBRE1UVjEwMl9SRUZD
TEsyMDQ4MCAgMworI2RlZmluZSBBRE1UVjEwMl9SRUZDTEsyNDU3NiAgNAorI2RlZmluZSBBRE1U
VjEwMl9SRUZDTEsyNjAwMCAgNQorI2RlZmluZSBBRE1UVjEwMl9SRUZDTEszMDQwMCAgNgorI2Rl
ZmluZSBBRE1UVjEwMl9SRUZDTEszNjAwMCAgNworI2RlZmluZSBBRE1UVjEwMl9SRUZDTEszODQw
MCAgOAorI2RlZmluZSBBRE1UVjEwMl9SRUZDTEsyMDAwMCAgOQorCisKK3N0cnVjdCBkdmJfZnJv
bnRlbmQ7CitzdHJ1Y3QgaTJjX2FkYXB0ZXI7CisKK3N0cnVjdCBhZG10djEwMl9jb25maWcgewor
CXU4IGkyY19hZGRyZXNzOworCXU4IHJlZl9jbGtfdHlwZTsKK307CisKKyNpZiBkZWZpbmVkKENP
TkZJR19NRURJQV9UVU5FUl9BRE1UVjEwMikgfHwgXAorIChkZWZpbmVkKENPTkZJR19NRURJQV9U
VU5FUl9BRE1UVjEwMl9NT0RVTEUpICYmIGRlZmluZWQoTU9EVUxFKSkKK2V4dGVybiBzdHJ1Y3Qg
ZHZiX2Zyb250ZW5kICphZG10djEwMl9hdHRhY2goc3RydWN0IGR2Yl9mcm9udGVuZCAqZmUsCisJ
c3RydWN0IGkyY19hZGFwdGVyICppMmMsIHN0cnVjdCBhZG10djEwMl9jb25maWcgKmNmZyk7Cisj
ZWxzZQorc3RhdGljIGlubGluZSBzdHJ1Y3QgZHZiX2Zyb250ZW5kICphZG10djEwMl9hdHRhY2go
c3RydWN0IGR2Yl9mcm9udGVuZCAqZmUsCisJc3RydWN0IGkyY19hZGFwdGVyICppMmMsIHN0cnVj
dCBhZG10djEwMl9jb25maWcgKmNmZykKK3sKKwlwcmludGsoS0VSTl9XQVJOSU5HICIlczogZHJp
dmVyIGRpc2FibGVkIGJ5IEtjb25maWdcbiIsIF9fZnVuY19fKTsKKwlyZXR1cm4gTlVMTDsKK30K
KyNlbmRpZiAvKiBDT05GSUdfTUVESUFfVFVORVJfQURNVFYxMDIgKi8KKworI2VuZGlmCmRpZmYg
LXIgNWVjNjI5ZDc4NGFkIGxpbnV4L2RyaXZlcnMvbWVkaWEvY29tbW9uL3R1bmVycy9hZG10djEw
Ml9wcml2LmgKLS0tIC9kZXYvbnVsbAlUaHUgSmFuIDAxIDAwOjAwOjAwIDE5NzAgKzAwMDAKKysr
IGIvbGludXgvZHJpdmVycy9tZWRpYS9jb21tb24vdHVuZXJzL2FkbXR2MTAyX3ByaXYuaAlXZWQg
SnVuIDAzIDEwOjAxOjI0IDIwMDkgKzA4MDAKQEAgLTAsMCArMSw1NCBAQAorc3RydWN0IGFkbXR2
MTAyX3ByaXYgeworCXN0cnVjdCBhZG10djEwMl9jb25maWcgKmNmZzsKKwlzdHJ1Y3QgaTJjX2Fk
YXB0ZXIgICAqaTJjOworCisJdTMyIGZyZXF1ZW5jeTsKKwl1MzIgYmFuZHdpZHRoOworCisJaW50
IHZoZl9zZXQ7CisJdTggaWNwOworCXU4IGNvbnZjbzsKKwl1OCBjdXJUZW1wU3RhdGU7CisJdTgg
Y3R1bmVfY2xrb2ZzOworfTsKKworI2RlZmluZSBUVU5FUl9NVFYxMDIgICAgMHgwMAorI2RlZmlu
ZSBUVU5FUl9BRE1UVjEwMiAgMHgwMQorI2RlZmluZSBUVU5FUl9ORVdNVFYxMDIgMHgwMgorCisj
ZGVmaW5lICBWSEZfU1VQUE9SVCAgICAgICAgICAgICAgIDEKKyNkZWZpbmUgIFVIRl9TVVBQT1JU
ICAgICAgICAgICAgICAgMAorCisjZGVmaW5lIFZMT1dfREVHX0JPVU5EQVJZICAgIDcKKyNkZWZp
bmUgUkdMT1dfREVHX0NPTkRJViAgICAgMHhFQworI2RlZmluZSBWSElHSF9ERUdfQk9VTkRBUlkg
ICA5CisjZGVmaW5lIFJHSElHSF9ERUdfQ09ORElWICAgIDB4MDAKKyNkZWZpbmUgSElHSF9URU1Q
IDAKKyNkZWZpbmUgTE9XX1RFTVAgIDEKKyNkZWZpbmUgUkdMT1dfREVHX0NPTlZDT19WSEYgICAg
IDB4OUQKKyNkZWZpbmUgUkdISUdIX0RFR19DT05WQ08gICAgICAgIDB4MDAKKworI2RlZmluZSBf
RVhUVU5FT0ZGICAgMAorI2RlZmluZSBfRVhUVU5FT04gICAgMQorI2RlZmluZSBfVFVORUVOICAg
ICAgMQorI2RlZmluZSBfVFVORURJUyAgICAgMAorI2RlZmluZSBDVFVORU9GUyAgICAgMHgwMSAg
LyogZGVmYXVsdCA9IDAgKi8KKworI2RlZmluZSBDVFVORV9DTEtPRlNfU1BMSVQwRSAgIDB4MDkK
KyNkZWZpbmUgQ1RVTkVfQ0xLT0ZTX1NQTElUMEYgICAweDAwIC8qIGZvciBtYXNzIHByb2R1Y3Qg
Ki8KKyNkZWZpbmUgUkVGQ0xLMzA0MDBfQ0xLU0VMX1JFR19TUExJVElEMEUgICAweDVBICAgLyog
Zm9yIHNwbGl0IElEIDB4MGUgKi8KKyNkZWZpbmUgUkVGQ0xLMzA0MDBfQ0xLU0VMX1JFR19TUExJ
VElEMEYgICAweDZBICAgLyogZm9yIHNwbGl0IElEIGlzIDB4MGYgKi8KKworI2RlZmluZSAgQURf
T1VUX01JTiAgMgorI2RlZmluZSAgQURfT1VUX01BWCAgMTIKKwordm9pZCBjb25maWdfdHVuZXIo
c3RydWN0IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCBjb25zdCB1OCAqYWRkcmRhdGEpOwordm9pZCB0
dW5lcl9pbml0KHN0cnVjdCBhZG10djEwMl9wcml2ICpzdGF0ZSk7CitpbnQgZ2V0X3R1bmVyX3R5
cGUoc3RydWN0IGFkbXR2MTAyX3ByaXYgKnN0YXRlKTsKK3ZvaWQgc2V0X3JmX2ZyZXEoc3RydWN0
IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCB1MzIgZnJlcXVlbmN5LCB1MzIgbHBmQlcpOwordm9pZCBz
ZXRfbHBmKHN0cnVjdCBhZG10djEwMl9wcml2ICpzdGF0ZSwgdTMyIHJlZl9jbGtfdHlwZSwgdTgg
bHBmQlcpOworaW50IGxvMnBsbF9mcmVxKHUzMiBsb2ZyZXEpOwordm9pZCBwbGxfcmVnX3NldChz
dHJ1Y3QgYWRtdHYxMDJfcHJpdiAqc3RhdGUsIGNvbnN0IHU4ICpyZWdfZGF0LCBpbnQgcGxsX3R5
cGUpOwordm9pZCBkcF9waGFzZV90dW5pbmcoc3RydWN0IGFkbXR2MTAyX3ByaXYgKnN0YXRlLCB1
MzIgbG9mcmVxLCB1OCB0ZW1wZXIpOwordm9pZCB0ZW1wZXJhdHVyZV9jb21wZW5zYXRlKHN0cnVj
dCBhZG10djEwMl9wcml2ICpzdGF0ZSwgbG9uZyBsb2ZyZXEpOworaW50IHBsbF9sb2NrX2NoZWNr
KHN0cnVjdCBhZG10djEwMl9wcml2ICpzdGF0ZSk7
--00032557554a2cf6e0046b683457--
