Return-path: <linux-media-owner@vger.kernel.org>
Received: from mailmxout14.mailmx.agnat.pl ([193.239.45.94]:53744 "EHLO
	mailmxout14.mailmx.agnat.pl" rhost-flags-OK-OK-OK-OK)
	by vger.kernel.org with ESMTP id S1752216Ab3JIRBq (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Wed, 9 Oct 2013 13:01:46 -0400
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="=_0af6446b59826b1bea343ed6f3248e0e"
Date: Wed, 09 Oct 2013 18:53:15 +0200
From: j.uzycki@elproma.com.pl
To: Manu Abraham <manu@linuxtv.org>
Cc: Linux Media Mailing List <linux-media@vger.kernel.org>
Subject: dvb-apps/util/scan: zap compatible with =?UTF-8?Q?w=5Fscan=20=28o?=
 =?UTF-8?Q?ption=29?=
Message-ID: <dc8e415ddbc41ec184a9d2ea021cc566@beep.pl>
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

--=_0af6446b59826b1bea343ed6f3248e0e
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=UTF-8;
 format=flowed

Hi.

The feature is useful if you have file generated by "w_scan -X" and 
your card is just tuned and works. I could use "scan -c -o zap -a 0" to 
update the file but it wan't full compatible with w_scan. Now it can be 
with "-p" option like for VDR output format, ie. "scan -c -o zap -a 0 
-p". I would be nice to have the feature in mainline.

best regards
Janusz Uzycki
ELPROMA

--=_0af6446b59826b1bea343ed6f3248e0e
Content-Transfer-Encoding: base64
Content-Type: text/x-diff;
 name=zap_provider.patch
Content-Disposition: attachment;
 filename=zap_provider.patch;
 size=2748

RnJvbTogSmFudXN6IFV6eWNraSA8ai51enlja2lAZWxwcm9tYS5jb20ucGw+CkRhdGU6IFdlZCBP
Y3QgOSAxNDo1MTozOSAyMDEzICswMjAwClN1YmplY3Q6IHNjYW46IHphcCBvdXRwdXQgY29tcGF0
aWJsZSB3aXRoIHdfc2NhbgoKIndfc2NhbiAtWCIgc2VsZWN0cyB0emFwL2N6YXAveGluZSBvdXRw
dXQgZm9ybWF0LgpJdCBzdGFydHMgemFwIG91dHB1dCBhcyAic2VydmljZV9uYW1lKHByb3ZpZGVy
X25hbWUpOiIsIG5vdCAic2VydmljZV9uYW1lOiIuClRoYW5rcyB0byB0aGUgcGF0Y2ggInNjYW4g
LW8gemFwIC1wIiBnZW5lcmF0ZXMgY29tcGF0aWJsZSBvdXRwdXQuCgpTaWduZWQtb2ZmLWJ5OiBK
YW51c3ogVXp5Y2tpIDxqLnV6eWNraUBlbHByb21hLmNvbS5wbD4KLS0tCgpkaWZmIC1yIDNlZTEx
MWRhNWIzYSB1dGlsL3NjYW4vZHVtcC16YXAuYwotLS0gYS91dGlsL3NjYW4vZHVtcC16YXAuYwlN
b24gTWF5IDEzIDE1OjQ5OjAyIDIwMTMgKzA1MzAKKysrIGIvdXRpbC9zY2FuL2R1bXAtemFwLmMJ
V2VkIE9jdCAwOSAxNzo0OTozNSAyMDEzICswMjAwCkBAIC0xMTAsMTQgKzExMCwxOSBAQAogCiB2
b2lkIHphcF9kdW1wX3NlcnZpY2VfcGFyYW1ldGVyX3NldCAoRklMRSAqZiwKIAkJCQkgY29uc3Qg
Y2hhciAqc2VydmljZV9uYW1lLAorCQkJCSBjb25zdCBjaGFyICpwcm92aWRlcl9uYW1lLAogCQkJ
CSBmZV90eXBlX3QgdHlwZSwKIAkJCQkgc3RydWN0IGR2Yl9mcm9udGVuZF9wYXJhbWV0ZXJzICpw
LAogCQkJCSBjaGFyIHBvbGFyaXR5LAogCQkJCSBpbnQgc2F0X251bWJlciwKIAkJCQkgdWludDE2
X3QgdmlkZW9fcGlkLAogCQkJCSB1aW50MTZfdCAqYXVkaW9fcGlkLAotCQkJCSB1aW50MTZfdCBz
ZXJ2aWNlX2lkKQorCQkJCSB1aW50MTZfdCBzZXJ2aWNlX2lkLAorCQkJCSBpbnQgZHVtcF9wcm92
aWRlcikKIHsKKwlpZiAoZHVtcF9wcm92aWRlciA9PSAxKQorCQlmcHJpbnRmIChmLCAiJXMoJXMp
OiIsIHNlcnZpY2VfbmFtZSwgcHJvdmlkZXJfbmFtZSk7IC8qIHdfc2NhbiB0emFwL2N6YXAveGlu
ZSBvdXRwdXQgZm9ybWF0ICovCisJZWxzZQogCWZwcmludGYgKGYsICIlczoiLCBzZXJ2aWNlX25h
bWUpOwogCXphcF9kdW1wX2R2Yl9wYXJhbWV0ZXJzIChmLCB0eXBlLCBwLCBwb2xhcml0eSwgc2F0
X251bWJlcik7CiAJZnByaW50ZiAoZiwgIjolaTolaTolaSIsIHZpZGVvX3BpZCwgYXVkaW9fcGlk
WzBdLCBzZXJ2aWNlX2lkKTsKZGlmZiAtciAzZWUxMTFkYTViM2EgdXRpbC9zY2FuL2R1bXAtemFw
LmgKLS0tIGEvdXRpbC9zY2FuL2R1bXAtemFwLmgJTW9uIE1heSAxMyAxNTo0OTowMiAyMDEzICsw
NTMwCisrKyBiL3V0aWwvc2Nhbi9kdW1wLXphcC5oCVdlZCBPY3QgMDkgMTc6NDk6MzUgMjAxMyAr
MDIwMApAQCAtOSwxMSArOSwxMyBAQAogCiBleHRlcm4gdm9pZCB6YXBfZHVtcF9zZXJ2aWNlX3Bh
cmFtZXRlcl9zZXQgKEZJTEUgKmYsCiAJCQkJIGNvbnN0IGNoYXIgKnNlcnZpY2VfbmFtZSwKKwkJ
CQkgY29uc3QgY2hhciAqcHJvdmlkZXJfbmFtZSwKIAkJCQkgZmVfdHlwZV90IHR5cGUsCiAJCQkJ
IHN0cnVjdCBkdmJfZnJvbnRlbmRfcGFyYW1ldGVycyAqdCwKIAkJCQkgY2hhciBwb2xhcml0eSwg
aW50IHNhdCwKIAkJCQkgdWludDE2X3QgdmlkZW9fcGlkLAogCQkJCSB1aW50MTZfdCAqYXVkaW9f
cGlkLAotCQkJCSB1aW50MTZfdCBzZXJ2aWNlX2lkKTsKKwkJCQkgdWludDE2X3Qgc2VydmljZV9p
ZCwKKwkJCQkgaW50IGR1bXBfcHJvdmlkZXIpOwogCiAjZW5kaWYKZGlmZiAtciAzZWUxMTFkYTVi
M2EgdXRpbC9zY2FuL3NjYW4uYwotLS0gYS91dGlsL3NjYW4vc2Nhbi5jCU1vbiBNYXkgMTMgMTU6
NDk6MDIgMjAxMyArMDUzMAorKysgYi91dGlsL3NjYW4vc2Nhbi5jCVdlZCBPY3QgMDkgMTc6NDk6
MzUgMjAxMyArMDIwMApAQCAtMjQ3MSwxMyArMjQ3MSwxNSBAQAogCQkJICBjYXNlIE9VVFBVVF9a
QVA6CiAJCQkJemFwX2R1bXBfc2VydmljZV9wYXJhbWV0ZXJfc2V0IChzdGRvdXQsCiAJCQkJCQkg
ICAgcy0+c2VydmljZV9uYW1lLAorCQkJCQkJICAgIHMtPnByb3ZpZGVyX25hbWUsCiAJCQkJCQkg
ICAgdC0+dHlwZSwKIAkJCQkJCSAgICAmdC0+cGFyYW0sCiAJCQkJCQkgICAgc2F0X3BvbGFyaXNh
dGlvbih0KSwKIAkJCQkJCSAgICBzYXRfbnVtYmVyKHQpLAogCQkJCQkJICAgIHMtPnZpZGVvX3Bp
ZCwKIAkJCQkJCSAgICBzLT5hdWRpb19waWQsCi0JCQkJCQkgICAgcy0+c2VydmljZV9pZCk7CisJ
CQkJCQkgICAgcy0+c2VydmljZV9pZCwKKwkJCQkJCSAgICB2ZHJfZHVtcF9wcm92aWRlcik7CiAJ
CQkgIGRlZmF1bHQ6CiAJCQkJYnJlYWs7CiAJCQkgIH0KQEAgLTI1MzksNyArMjU0MSw3IEBACiAJ
IgkJTj14eHggc2V0cyBjYSBmaWVsZCBpbiB2ZHIgb3V0cHV0IHRvIDp4eHg6XG4iCiAJIgktdCBO
CVNlcnZpY2Ugc2VsZWN0LCBDb21iaW5lZCBiaXRmaWVsZCBwYXJhbWV0ZXIuXG4iCiAJIgkJMSA9
IFRWLCAyID0gUmFkaW8sIDQgPSBPdGhlciwgKGRlZmF1bHQgNylcbiIKLQkiCS1wCWZvciB2ZHIg
b3V0cHV0IGZvcm1hdDogZHVtcCBwcm92aWRlciBuYW1lXG4iCisJIgktcAlmb3IgdmRyIC8gemFw
IG91dHB1dCBmb3JtYXQ6IGR1bXAgcHJvdmlkZXIgbmFtZVxuIgogCSIJLWUgTglWRFIgdmVyc2lv
biwgZGVmYXVsdCAzIGZvciBWRFItMS4zLnggYW5kIG5ld2VyXG4iCiAJIgkJdmFsdWUgMiBzZXRz
IE5JVCBhbmQgVElEIHRvIHplcm9cbiIKIAkiCQlWZHIgdmVyc2lvbiAxLjMueCBhbmQgdXAgaW1w
bGllcyAtcC5cbiIK
--=_0af6446b59826b1bea343ed6f3248e0e--

