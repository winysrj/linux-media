Return-path: <linux-media-owner@vger.kernel.org>
Received: from cam-admin0.cambridge.arm.com ([217.140.96.50]:65136 "EHLO
	cam-admin0.cambridge.arm.com" rhost-flags-OK-OK-OK-OK)
	by vger.kernel.org with ESMTP id S1751497Ab3IRONP (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Wed, 18 Sep 2013 10:13:15 -0400
Date: Wed, 18 Sep 2013 15:12:52 +0100
From: Mark Rutland <mark.rutland@arm.com>
To: Srinivas KANDAGATLA <srinivas.kandagatla@st.com>
Cc: "linux-media@vger.kernel.org" <linux-media@vger.kernel.org>,
	Mauro Carvalho Chehab <m.chehab@samsung.com>,
	"linux-doc@vger.kernel.org" <linux-doc@vger.kernel.org>,
	"devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"rob.herring@calxeda.com" <rob.herring@calxeda.com>,
	Pawel Moll <Pawel.Moll@arm.com>,
	Stephen Warren <swarren@wwwdotorg.org>,
	Ian Campbell <ian.campbell@citrix.com>,
	Rob Landley <rob@landley.net>,
	"grant.likely@linaro.org" <grant.likely@linaro.org>
Subject: Re: [PATCH v3] media: st-rc: Add ST remote control driver
Message-ID: <20130918141252.GA17453@e106331-lin.cambridge.arm.com>
References: <1377778012-873-1-git-send-email-srinivas.kandagatla@st.com>
 <20130916141049.GE30650@e106331-lin.cambridge.arm.com>
 <52397C51.1020608@st.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <52397C51.1020608@st.com>
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

On Wed, Sep 18, 2013 at 11:11:29AM +0100, Srinivas KANDAGATLA wrote:
> Thanks Mark,
> 
> On 16/09/13 15:10, Mark Rutland wrote:
> >> +
> >> > +Required properties:
> >> > +       - compatible: should be "st,comms-irb".
> > This should probably say "should contain" rather than "should be". There
> > may be future vairants of this device, which will also have a more
> > specific compatible string.
> Ok, will change it to the suggest.
> > 
> >> > +       - reg: base physical address of the controller and length of memory
> >> > +       mapped  region.
> >> > +       - interrupts: interrupt number to the cpu. The interrupt specifier
> >> > +       format depends on the interrupt controller parent.
> > I don't like the phrase "interrupt number to the cpu". We already have
> > the term interrupt-specifier to precisely define this. How about:
> > 
> > - interrupts: interrupt-specifier for the sole interrupt generated by
> >               the device.
> > 
> TBH, I did copy them from one of the existing bindings docs.
> I will change it.

There's a lot of inconsistency with existing docs, it would be nice to
use consistent, correct terminology going forward :)

> >> > +
> >> > +Optional properties:
> >> > +       - rx-mode: can be "infrared" or "uhf".
> >> > +       - tx-mode: should be "infrared".
> > Are these required to use rx/tx?
> Yes, these are required for driver to be in rx/tx mode.
> 
> One of them can be optional depending on the board setup.
> So, Is it ok to move such properties to required properties section?

I'd probably just make a note on each stating what they mean (i.e. that
rx-mode should be present iff the rx pins are wired up).

> > 
> > If you don't have a tx-mode or rx-mode, I assume you can't do
> > anything...
> Yes, driver errs out.
> > 
> >> > +       - pinctrl-names, pinctrl-0: the pincontrol settings to configure
> >> > +       muxing properly for IRB pins.
> > If we're expecting names, the names we expect should be defined.
> > 
> >> > +       - clocks : phandle of clock.
> > This is not just a phandle. This is a phandle + clock-specifier pair.
> Yep, will change it.

Cheers.

Mark.
