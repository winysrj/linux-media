Return-path: <linux-media-owner@vger.kernel.org>
Received: from mail-ey0-f174.google.com ([209.85.215.174]:36244 "EHLO
	mail-ey0-f174.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1753457Ab1KUVGt (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Mon, 21 Nov 2011 16:06:49 -0500
Received: by mail-ey0-f174.google.com with SMTP id 27so5854834eye.19
        for <linux-media@vger.kernel.org>; Mon, 21 Nov 2011 13:06:49 -0800 (PST)
MIME-Version: 1.0
Date: Tue, 22 Nov 2011 02:36:48 +0530
Message-ID: <CAHFNz9+JkusvQ=_gazEGDqgBpCrua0088Rh7bhcUdkn53PEAeg@mail.gmail.com>
Subject: PATCH 05/13: 0005-TDA18271c2dd-Allow-frontend-to-set-DELSYS
From: Manu Abraham <abraham.manu@gmail.com>
To: Linux Media Mailing List <linux-media@vger.kernel.org>
Cc: Mauro Carvalho Chehab <mchehab@redhat.com>,
	Andreas Oberritter <obi@linuxtv.org>,
	Ralph Metzler <rjkm@metzlerbros.de>
Content-Type: multipart/mixed; boundary=f46d0435c068abfe3404b245102b
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

--f46d0435c068abfe3404b245102b
Content-Type: text/plain; charset=ISO-8859-1



--f46d0435c068abfe3404b245102b
Content-Type: text/x-patch; charset=US-ASCII;
	name="0005-TDA18271c2dd-Allow-frontend-to-set-DELSYS-rather-tha.patch"
Content-Disposition: attachment;
	filename="0005-TDA18271c2dd-Allow-frontend-to-set-DELSYS-rather-tha.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: file0

RnJvbSA3M2MwYjdjMzg2YmVhZTM5MmNmZjU2OGUwODkxNDU4MmVkNjMyOWQxIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBNYW51IEFicmFoYW0gPGFicmFoYW0ubWFudUBnbWFpbC5jb20+
CkRhdGU6IFNhdCwgMTkgTm92IDIwMTEgMjE6MDE6MDMgKzA1MzAKU3ViamVjdDogW1BBVENIIDA1
LzEzXSBUREExODI3MWMyZGQ6IEFsbG93IGZyb250ZW5kIHRvIHNldCBERUxTWVMsIHJhdGhlciB0
aGFuIHF1ZXJ5aW5nIGZlLT5vcHMuaW5mby50eXBlCgpXaXRoIGFueSB0dW5lciB0aGF0IGNhbiB0
dW5lIHRvIG11bHRpcGxlIGRlbGl2ZXJ5IHN5c3RlbXMvc3RhbmRhcmRzLCBpdCBkb2VzCnF1ZXJ5
IGZlLT5vcHMuaW5mby50eXBlIHRvIGRldGVybWluZSBmcm9udGVuZCB0eXBlIGFuZCBzZXQgdGhl
IGRlbGl2ZXJ5CnN5c3RlbSB0eXBlLiBmZS0+b3BzLmluZm8udHlwZSBjYW4gaGFuZGxlIG9ubHkg
NCBkZWxpdmVyeSBzeXN0ZW1zLCB2aXogRkVfUVBTSywKRkVfUUFNLCBGRV9PRkRNIGFuZCBGRV9B
VFNDLgoKU2lnbmVkLW9mZi1ieTogTWFudSBBYnJhaGFtIDxhYnJhaGFtLm1hbnVAZ21haWwuY29t
PgotLS0KIGRyaXZlcnMvbWVkaWEvZHZiL2Zyb250ZW5kcy90ZGExODI3MWMyZGQuYyB8ICAgNTYg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKwogMSBmaWxlcyBjaGFuZ2VkLCA1NiBpbnNlcnRp
b25zKCspLCAwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvZHZiL2Zy
b250ZW5kcy90ZGExODI3MWMyZGQuYyBiL2RyaXZlcnMvbWVkaWEvZHZiL2Zyb250ZW5kcy90ZGEx
ODI3MWMyZGQuYwppbmRleCAxYjFiZjIwLi42MDc3Njc0IDEwMDY0NAotLS0gYS9kcml2ZXJzL21l
ZGlhL2R2Yi9mcm9udGVuZHMvdGRhMTgyNzFjMmRkLmMKKysrIGIvZHJpdmVycy9tZWRpYS9kdmIv
ZnJvbnRlbmRzL3RkYTE4MjcxYzJkZC5jCkBAIC0xMTgwLDYgKzExODAsNjEgQEAgc3RhdGljIGlu
dCBzZXRfcGFyYW1zKHN0cnVjdCBkdmJfZnJvbnRlbmQgKmZlLAogCXJldHVybiBzdGF0dXM7CiB9
CiAKK3N0YXRpYyBpbnQgc2V0X3N0YXRlKHN0cnVjdCBkdmJfZnJvbnRlbmQgKmZlLCBlbnVtIHR1
bmVyX3BhcmFtIHBhcmFtLCBzdHJ1Y3QgdHVuZXJfc3RhdGUgKnR1bmVyKQoreworCXN0cnVjdCB0
ZGFfc3RhdGUgKnN0YXRlID0gZmUtPnR1bmVyX3ByaXY7CisJZmVfZGVsaXZlcnlfc3lzdGVtX3Qg
ZGVsc3lzID0gU1lTX1VOREVGSU5FRDsKKwl1MzIgYmFuZHdpZHRoID0gMDsKKwlpbnQgc3RhdHVz
ID0gMDsKKwlpbnQgU3RhbmRhcmQgPSAwOworCisJaWYgKHBhcmFtICYgRFZCRkVfVFVORVJfREVM
U1lTKQorCQlkZWxzeXMgPSB0dW5lci0+ZGVsc3lzOworCWlmIChwYXJhbSAmIERWQkZFX1RVTkVS
X0ZSRVFVRU5DWSkKKwkJc3RhdGUtPm1fRnJlcXVlbmN5ID0gdHVuZXItPmZyZXF1ZW5jeTsKKwlp
ZiAocGFyYW0gJiBEVkJGRV9UVU5FUl9CQU5EV0lEVEgpCisJCWJhbmR3aWR0aCA9IHR1bmVyLT5i
YW5kd2lkdGg7CisKKwlzd2l0Y2ggKGRlbHN5cykgeworCWNhc2UgU1lTX0RWQlQ6CisJCXN3aXRj
aCAoYmFuZHdpZHRoKSB7CisJCWNhc2UgNjAwMDAwMDoKKwkJCVN0YW5kYXJkID0gSEZfRFZCVF82
TUhaOworCQkJYnJlYWs7CisJCWNhc2UgNzAwMDAwMDoKKwkJCVN0YW5kYXJkID0gSEZfRFZCVF83
TUhaOworCQkJYnJlYWs7CisJCWNhc2UgODAwMDAwMDoKKwkJCVN0YW5kYXJkID0gSEZfRFZCVF84
TUhaOworCQkJYnJlYWs7CisJCX0KKwkJYnJlYWs7CisJY2FzZSBTWVNfRFZCQ19BTk5FWF9BQzoK
KwkJLyoKKwkJICogRklYTUUhIEFQSSBCVUchIERWQi1DIEFOTkVYIEEgJiBDIGFyZSBkaWZmZXJl
bnQKKwkJICogVGhpcyBzaG91bGQgaGF2ZSBiZWVuIHNpbXBseSBEVkJDX0FOTkVYX0EKKwkJICov
CisJCVN0YW5kYXJkID0gSEZfRFZCQ182TUhaOworCQlicmVhazsKKwlkZWZhdWx0OgorCQlzdGF0
dXMgPSAtRUlOVkFMOworCQlnb3RvIGVycjsKKwl9CisKKwlkbyB7CisJCXN0YXR1cyA9IFJGVHJh
Y2tpbmdGaWx0ZXJzQ29ycmVjdGlvbihzdGF0ZSwgc3RhdGUtPm1fRnJlcXVlbmN5KTsKKwkJaWYg
KHN0YXR1cyA8IDApCisJCQlicmVhazsKKwkJc3RhdHVzID0gQ2hhbm5lbENvbmZpZ3VyYXRpb24o
c3RhdGUsIHN0YXRlLT5tX0ZyZXF1ZW5jeSwgU3RhbmRhcmQpOworCQlpZiAoc3RhdHVzIDwgMCkK
KwkJCWJyZWFrOworCisJCW1zbGVlcChzdGF0ZS0+bV9TZXR0bGluZ1RpbWUpOyAgLyogQWxsb3cg
QUdDJ3MgdG8gc2V0dGxlIGRvd24gKi8KKwl9IHdoaWxlICgwKTsKK2VycjoKKwlyZXR1cm4gc3Rh
dHVzOworfQorCiAjaWYgMAogc3RhdGljIGludCBHZXRTaWduYWxTdHJlbmd0aChzMzIgKnBTaWdu
YWxTdHJlbmd0aCwgdTMyIFJGQWdjLCB1MzIgSUZBZ2MpCiB7CkBAIC0xMjIxLDYgKzEyNzYsNyBA
QCBzdGF0aWMgc3RydWN0IGR2Yl90dW5lcl9vcHMgdHVuZXJfb3BzID0gewogCS5pbml0ICAgICAg
ICAgICAgICA9IGluaXQsCiAJLnNsZWVwICAgICAgICAgICAgID0gc2xlZXAsCiAJLnNldF9wYXJh
bXMgICAgICAgID0gc2V0X3BhcmFtcywKKwkuc2V0X3N0YXRlCSAgID0gc2V0X3N0YXRlLAogCS5y
ZWxlYXNlICAgICAgICAgICA9IHJlbGVhc2UsCiAJLmdldF9pZl9mcmVxdWVuY3kgID0gZ2V0X2lm
X2ZyZXF1ZW5jeSwKIAkuZ2V0X2JhbmR3aWR0aCAgICAgPSBnZXRfYmFuZHdpZHRoLAotLSAKMS43
LjEKCg==
--f46d0435c068abfe3404b245102b--
