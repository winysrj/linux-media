Return-path: <linux-media-owner@vger.kernel.org>
Received: from nblzone-211-213.nblnetworks.fi ([83.145.211.213]:41065 "EHLO
	hillosipuli.retiisi.org.uk" rhost-flags-OK-OK-OK-FAIL)
	by vger.kernel.org with ESMTP id S932489AbaBUNEw (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Fri, 21 Feb 2014 08:04:52 -0500
Date: Fri, 21 Feb 2014 15:04:48 +0200
From: Sakari Ailus <sakari.ailus@iki.fi>
To: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Cc: Hans Verkuil <hverkuil@xs4all.nl>, linux-media@vger.kernel.org,
	k.debski@samsung.com
Subject: Re: [PATCH v5.1 3/7] v4l: Add timestamp source flags, mask and
 document them
Message-ID: <20140221130448.GC15635@valkosipuli.retiisi.org.uk>
References: <20140217232931.GW15635@valkosipuli.retiisi.org.uk>
 <53066763.3070000@xs4all.nl>
 <53071CFA.5060503@iki.fi>
 <1627498.vqEXNhvDry@avalon>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1627498.vqEXNhvDry@avalon>
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

Hi Laurent,

On Fri, Feb 21, 2014 at 12:58:58PM +0100, Laurent Pinchart wrote:
...
> > It's possible to calculate it (decrementing the readout time + exposure
> > time from the end of frame timestamp) and that's what the devices
> > supposedly do. The pre-frame exposure time isn't available to the host,
> > so the end of frame timestamp cannot be calculated by the host from the
> > camera generated timestamp.
> > 
> > However the link to the host is USB which has a lot more latency than
> > almost anything else which makes even hardware generated timestamps a
> > little imprecise.
> 
> Why so ? There will be a jitter in frame arrival, but the hardware timestamp 
> should be accurate (at least if properly generated by the camera firmware).

Yes, the hardware timestamp should be accurate on its own, but as there's
delay and jitter converting that into something that's relevant on the host
adds some uncertainty. AFAIR the accuracy of the camera generated timestamp
was still much better than that of the driver generated one, right?

-- 
Regards,

Sakari Ailus
e-mail: sakari.ailus@iki.fi	XMPP: sailus@retiisi.org.uk
