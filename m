Return-path: <linux-media-owner@vger.kernel.org>
Received: from mail.renesas.com ([202.234.163.13]:38059 "EHLO
	mail03.idc.renesas.com" rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org
	with ESMTP id S1751962AbZKPAWG (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Sun, 15 Nov 2009 19:22:06 -0500
Date: Mon, 16 Nov 2009 09:22:00 +0900
From: Kuninori Morimoto <morimoto.kuninori@renesas.com>
Subject: Re: [PATCH v2] soc-camera: tw9910: modify V/H outpit pin setting to
 use VALID
In-reply-to: <Pine.LNX.4.64.0911131051350.4601@axis700.grange>
To: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Cc: Linux Media Mailing List <linux-media@vger.kernel.org>
Message-id: <ur5rzz5cn.wl%morimoto.kuninori@renesas.com>
MIME-version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-type: text/plain; charset=US-ASCII
References: <uzl6r6re1.wl%morimoto.kuninori@renesas.com>
 <Pine.LNX.4.64.0911130829360.4601@axis700.grange>
 <u7htun4tr.wl%morimoto.kuninori@renesas.com>
 <Pine.LNX.4.64.0911131051350.4601@axis700.grange>
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>


Dear Guennadi

Thank you

> Oh, indeed. Ok, but can you add proper support for both high and low 
> polarities?

I think your order will be added in next patch.
"Add polarities support"
I will send it
OK ?

By the way.
Maybe I should ask you about it.

My question is that who select ACTIVE HI / LOW ?

---------------------
	unsigned long flags = SOCAM_PCLK_SAMPLE_RISING | SOCAM_MASTER |
		SOCAM_VSYNC_ACTIVE_HIGH | SOCAM_HSYNC_ACTIVE_HIGH |
+		SOCAM_VSYNC_ACTIVE_LOW | SOCAM_HSYNC_ACTIVE_LOW |
		SOCAM_DATA_ACTIVE_HIGH | priv->info->buswidth;
---------------------

If I add above, and (for example) CEU - tw9910 case,
tw9910_query_bus_param will be used in
sh_mobile_ceu_set_bus_param.

Then, the answer from soc_camera_bus_param_compatible
have both xSYNC_ACTIVE_HIGH/LOW.
In this case, CEU behavior will be LOW,
though it have HIGH.
Please check it.

In my opinion, the answer from soc_camera_bus_param_compatible
should not have both ACTIVE HIGH/LOW.
This value will be used in tw9910_set_bus_param too.

I guess, to add your order, we needs more than 2 patches.

"modify soc_camera_bus_param_compatible behavior"
"tw9910: Add polarities support"

Best regards
--
Kuninori Morimoto
 
