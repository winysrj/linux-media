Return-path: <linux-media-owner@vger.kernel.org>
Received: from moutng.kundenserver.de ([212.227.17.10]:56696 "EHLO
	moutng.kundenserver.de" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1758099Ab0G2RSK (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Thu, 29 Jul 2010 13:18:10 -0400
Date: 29 Jul 2010 18:58:00 +0200
From: lirc@bartelmus.de (Christoph Bartelmus)
To: maximlevitsky@gmail.com
Cc: jarod@wilsonet.com
Cc: linux-input@vger.kernel.org
Cc: linux-media@vger.kernel.org
Cc: lirc-list@lists.sourceforge.net
Cc: mchehab@redhat.com
Message-ID: <BTlN15rJjFB@christoph>
In-Reply-To: <1280414519.29938.53.camel@maxim-laptop>
Subject: Re: [PATCH 0/9 v2] IR: few fixes, additions and ENE driver
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

Hi Maxim,

on 29 Jul 10 at 17:41, Maxim Levitsky wrote:
[...]
>>> Note that I send timeout report with zero value.
>>> I don't think that this value is importaint.
>>
>> This does not sound good. Of course the value is important to userspace
>> and 2 spaces in a row will break decoding.
>>
>> Christoph

> Could you explain exactly how timeout reports work?

It all should be documented in the interface description. Jarod probably  
can point you where it can be found.
Timeout reports can only be generated by the hardware because only the  
hardware can know the exact amount of time passed since the last pulse  
when any kind of buffering is used by the hardware. You see this esp. with  
USB devices.

> Lirc interface isn't set to stone, so how about a reasonable compromise.
> After reasonable long period of inactivity (200 ms for example), space
> is sent, and then next report starts with a pulse.
> So gaps between keypresses will be maximum of 200 ms, and as a bonus I
> could rip of the logic that deals with remembering the time?

For sure I will not agree to any constant introduced here. And I also  
don't see why. Can you explain why you are trying to change the lirc  
interface here?

Christoph
