Return-path: <video4linux-list-bounces@redhat.com>
Received: from mx3.redhat.com (mx3.redhat.com [172.16.48.32])
	by int-mx1.corp.redhat.com (8.13.1/8.13.1) with ESMTP id m3P8xPCh029065
	for <video4linux-list@redhat.com>; Fri, 25 Apr 2008 04:59:25 -0400
Received: from mail.gmx.net (mail.gmx.net [213.165.64.20])
	by mx3.redhat.com (8.13.8/8.13.8) with SMTP id m3P8x3pX002726
	for <video4linux-list@redhat.com>; Fri, 25 Apr 2008 04:59:04 -0400
Date: Fri, 25 Apr 2008 10:59:04 +0200 (CEST)
From: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
To: 604hcl@telenet.be
In-Reply-To: <W876112100223131209109949@nocme1bl6.telenet-ops.be>
Message-ID: <Pine.LNX.4.64.0804251054570.6045@axis700.grange>
References: <W876112100223131209109949@nocme1bl6.telenet-ops.be>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="8323329-1800195233-1209113944=:6045"
Cc: video4linux-list@redhat.com
Subject: Re: mt9v022 kernel driver
List-Unsubscribe: <https://www.redhat.com/mailman/listinfo/video4linux-list>,
	<mailto:video4linux-list-request@redhat.com?subject=unsubscribe>
List-Archive: <https://www.redhat.com/mailman/private/video4linux-list>
List-Post: <mailto:video4linux-list@redhat.com>
List-Help: <mailto:video4linux-list-request@redhat.com?subject=help>
List-Subscribe: <https://www.redhat.com/mailman/listinfo/video4linux-list>,
	<mailto:video4linux-list-request@redhat.com?subject=subscribe>
Sender: video4linux-list-bounces@redhat.com
Errors-To: video4linux-list-bounces@redhat.com
List-ID: <video4linux-list@redhat.com>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.

--8323329-1800195233-1209113944=:6045
Content-Type: TEXT/PLAIN; charset=US-ASCII

(re-attached the app for everyone's reference, this is a yet another 
modified version of v4l2-apps/test/capture_example.c)

On Fri, 25 Apr 2008, 604hcl@telenet.be wrote:

> I am working on a userspace app which should capture the image from a 
> VM-007-COL-M12 camera. This is a mt9v022, WITHOUT the pca953x GPIO.I am 
> currently trying to get the video4linux example to work with my camera 
> but there are some problems... .
> 
> The camera passes the open() function, but problems arise in the init() 
> function after the CLEAR(fmt); line.
> 
> To get the camera to capture in Bayer 16 format I added a define with 
> the proper fourcc string being
> 
> #define V4L_PIX_FMT_SBGGR16 v4l2_fourcc('B','Y', 'R', '2');
> 
> So I set fmt.fmt.pix.pixelformat to V4L_PIX_FMT_SBGGR16 ... .
> I have also initialized all other fmt fields...
> 
> However each xioctl call, be it on the VIDIOC_G_FMT get method or 
> VIDIOC_S_FMT set method results in Illegal argument exception.

The first problem I see there, is that you don't set the fmt.type field. 
See http://lwn.net/Articles/203924/ for a nice V4L2 tutorial.

> I read the mt9v022.c sourcecode namely the mt9v022_set_capture_format 
> function , and noticed that there is a check on the camera model type. 
> Does this mean that the method always returns -EINVAL when the camera 
> doesn't hava a pca or is there another problem?
> 
> I have attached the modified V4L example code.

Thanks
Guennadi
---
Guennadi Liakhovetski
--8323329-1800195233-1209113944=:6045
Content-Type: TEXT/x-csrc; charset=US-ASCII; name=testcapt.c
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.LNX.4.64.0804251059040.6045@axis700.grange>
Content-Description: 
Content-Disposition: attachment; filename=testcapt.c

LyoNDQogKiAgVjRMMiB2aWRlbyBjYXB0dXJlIGV4YW1wbGUNDQogKg0NCiAq
ICBUaGlzIHByb2dyYW0gY2FuIGJlIHVzZWQgYW5kIGRpc3RyaWJ1dGVkIHdp
dGhvdXQgcmVzdHJpY3Rpb25zLg0NCiAqDQ0KICoJVGhpcyBwcm9ncmFtIHdl
cmUgZ290IGZyb20gVjRMMiBBUEksIERyYWZ0IDAuMjANDQogKgkJYXZhaWxh
YmxlIGF0OiBodHRwOi8vdjRsMnNwZWMuYnl0ZXNleC5vcmcvDQ0KICovDQ0K
DQ0KI2luY2x1ZGUgPHN0ZGlvLmg+DQ0KI2luY2x1ZGUgPHN0ZGxpYi5oPg0N
CiNpbmNsdWRlIDxzdHJpbmcuaD4NDQojaW5jbHVkZSA8YXNzZXJ0Lmg+DQ0K
DQ0KI2luY2x1ZGUgPGdldG9wdC5oPiAgICAgICAgICAgICAvKiBnZXRvcHRf
bG9uZygpICovDQ0KDQ0KI2luY2x1ZGUgPGZjbnRsLmg+ICAgICAgICAgICAg
ICAvKiBsb3ctbGV2ZWwgaS9vICovDQ0KI2luY2x1ZGUgPHVuaXN0ZC5oPg0N
CiNpbmNsdWRlIDxlcnJuby5oPg0NCiNpbmNsdWRlIDxzeXMvc3RhdC5oPg0N
CiNpbmNsdWRlIDxzeXMvdHlwZXMuaD4NDQojaW5jbHVkZSA8c3lzL3RpbWUu
aD4NDQojaW5jbHVkZSA8c3lzL21tYW4uaD4NDQojaW5jbHVkZSA8c3lzL2lv
Y3RsLmg+DQ0KDQ0KI2luY2x1ZGUgPGFzbS90eXBlcy5oPiAgICAgICAgICAv
KiBmb3IgdmlkZW9kZXYyLmggKi8NDQoNDQojaW5jbHVkZSA8bGludXgvdmlk
ZW9kZXYyLmg+DQ0KI2RlZmluZSBWNEwyX1BJWF9GTVRfU0JHR1IxNiAgdjRs
Ml9mb3VyY2MoJ0InLCdZJywnUicsJzInKSAvKiAgMTYgIEJHQkcuLiBHUkdS
Li4gKi8NDQojZGVmaW5lIENMRUFSKHgpIG1lbXNldCAoJih4KSwgMCwgc2l6
ZW9mICh4KSkNDQoNDQp0eXBlZGVmIGVudW0gew0NCglJT19NRVRIT0RfUkVB
RCwNDQoJSU9fTUVUSE9EX01NQVAsDQ0KCUlPX01FVEhPRF9VU0VSUFRSLA0N
Cn0gaW9fbWV0aG9kOw0NCg0NCnN0cnVjdCBidWZmZXIgew0NCgl2b2lkICog
ICAgICAgICAgICAgICAgICBzdGFydDsNDQoJc2l6ZV90ICAgICAgICAgICAg
ICAgICAgbGVuZ3RoOw0NCn07DQ0KDQ0Kc3RhdGljIGNoYXIgKiAgICAgICAg
ICAgZGV2X25hbWUgICAgICAgID0gTlVMTDsNDQpzdGF0aWMgaW9fbWV0aG9k
ICAgICAgICBpbyAgICAgICAgICAgICAgPSBJT19NRVRIT0RfTU1BUDsNDQpz
dGF0aWMgaW50ICAgICAgICAgICAgICBmZCAgICAgICAgICAgICAgPSAtMTsN
DQpzdHJ1Y3QgYnVmZmVyICogICAgICAgICBidWZmZXJzICAgICAgICAgPSBO
VUxMOw0NCnN0YXRpYyB1bnNpZ25lZCBpbnQgICAgIG5fYnVmZmVycyAgICAg
ICA9IDA7DQ0KDQ0Kc3RhdGljIHZvaWQNDQplcnJub19leGl0ICAgICAgICAg
ICAgICAgICAgICAgIChjb25zdCBjaGFyICogICAgICAgICAgIHMpDQ0Kew0N
CglmcHJpbnRmIChzdGRlcnIsICIlcyBlcnJvciAlZCwgJXNcbiIsDQ0KCQkg
cywgZXJybm8sIHN0cmVycm9yIChlcnJubykpOw0NCg0NCglleGl0IChFWElU
X0ZBSUxVUkUpOw0NCn0NDQoNDQpzdGF0aWMgaW50DQ0KeGlvY3RsICAgICAg
ICAgICAgICAgICAgICAgICAgICAoaW50ICAgICAgICAgICAgICAgICAgICBm
ZCwNDQoJCQkJIGludCAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCwNDQoJ
CQkJIHZvaWQgKiAgICAgICAgICAgICAgICAgYXJnKQ0NCnsNDQoJaW50IHI7
DQ0KDQ0KCWRvIHIgPSBpb2N0bCAoZmQsIHJlcXVlc3QsIGFyZyk7DQ0KCXdo
aWxlICgtMSA9PSByICYmIEVJTlRSID09IGVycm5vKTsNDQoNDQoJcmV0dXJu
IHI7DQ0KfQ0NCg0NCnN0YXRpYyB2b2lkDQ0KcHJvY2Vzc19pbWFnZSAgICAg
ICAgICAgICAgICAgICAoY29uc3Qgdm9pZCAqICAgICAgICAgICBwKQ0NCnsN
DQoNDQogICAgc3RhdGljIGludCBub19pbWFnZSA9IDA7DQ0KICAgIGNoYXIg
ZmlsZW5hbWVbNTBdOw0NCiAgICBGSUxFICpmZDsNDQogICAgLy9zc2l6ZV90
IHdyaXR0ZW4gPSAwOw0NCg0NCiAgICBzbnByaW50ZihmaWxlbmFtZSwgc2l6
ZW9mKGZpbGVuYW1lKSwgIiVzd2ViY2FtLSU1LjVkLiVzIiwgIi90bXAvIiwN
DQoJICAgbm9faW1hZ2UrKywgInBnbSIpOw0NCg0NCiAgICBmZCA9IGZvcGVu
KGZpbGVuYW1lLCAid2IiKTsNDQogICAgaWYoZmQpDQ0KICAgIHsNDQogICAg
ICAgIGZwcmludGYoZmQsIlA1XG4ldSAldSAyNTVcbiIsIDY0MCwgNDgwKTsN
DQogICAgICAgIGZ3cml0ZShwLCAxLCA2NDAqNDgwLCBmZCk7DQ0KICAgIH0N
DQogICAgaWYoZmQpDQ0KICAgICAgICBmY2xvc2UoZmQpOw0NCg0NCiAgICBm
cHV0YygnLicsIHN0ZG91dCk7DQ0KICAgIGZmbHVzaChzdGRvdXQpOw0NCn0N
DQoNDQpzdGF0aWMgaW50DQ0KcmVhZF9mcmFtZSAgICAgICAgICAgICAgICAg
ICAgICAodm9pZCkNDQp7DQ0KCXN0cnVjdCB2NGwyX2J1ZmZlciBidWY7DQ0K
CXVuc2lnbmVkIGludCBpOw0NCg0NCglzd2l0Y2ggKGlvKSB7DQ0KCWNhc2Ug
SU9fTUVUSE9EX1JFQUQ6DQ0KCQlpZiAoLTEgPT0gcmVhZCAoZmQsIGJ1ZmZl
cnNbMF0uc3RhcnQsIGJ1ZmZlcnNbMF0ubGVuZ3RoKSkgew0NCgkJCXN3aXRj
aCAoZXJybm8pIHsNDQoJCQljYXNlIEVBR0FJTjoNDQoJCQkJcmV0dXJuIDA7
DQ0KDQ0KCQkJY2FzZSBFSU86DQ0KCQkJCS8qIENvdWxkIGlnbm9yZSBFSU8s
IHNlZSBzcGVjLiAqLw0NCg0NCgkJCQkvKiBmYWxsIHRocm91Z2ggKi8NDQoN
DQoJCQlkZWZhdWx0Og0NCgkJCQllcnJub19leGl0ICgicmVhZCIpOw0NCgkJ
CX0NDQoJCX0NDQoNDQoJCXByb2Nlc3NfaW1hZ2UgKGJ1ZmZlcnNbMF0uc3Rh
cnQpOw0NCg0NCgkJYnJlYWs7DQ0KDQ0KCWNhc2UgSU9fTUVUSE9EX01NQVA6
DQ0KCQlDTEVBUiAoYnVmKTsNDQoNDQoJCWJ1Zi50eXBlID0gVjRMMl9CVUZf
VFlQRV9WSURFT19DQVBUVVJFOw0NCgkJYnVmLm1lbW9yeSA9IFY0TDJfTUVN
T1JZX01NQVA7DQ0KDQ0KCQlpZiAoLTEgPT0geGlvY3RsIChmZCwgVklESU9D
X0RRQlVGLCAmYnVmKSkgew0NCgkJCXN3aXRjaCAoZXJybm8pIHsNDQoJCQlj
YXNlIEVBR0FJTjoNDQoJCQkJcmV0dXJuIDA7DQ0KDQ0KCQkJY2FzZSBFSU86
DQ0KCQkJCS8qIENvdWxkIGlnbm9yZSBFSU8sIHNlZSBzcGVjLiAqLw0NCg0N
CgkJCQkvKiBmYWxsIHRocm91Z2ggKi8NDQoNDQoJCQlkZWZhdWx0Og0NCgkJ
CQllcnJub19leGl0ICgiVklESU9DX0RRQlVGIik7DQ0KCQkJfQ0NCgkJfQ0N
Cg0NCgkJYXNzZXJ0IChidWYuaW5kZXggPCBuX2J1ZmZlcnMpOw0NCg0NCgkJ
cHJvY2Vzc19pbWFnZSAoYnVmZmVyc1tidWYuaW5kZXhdLnN0YXJ0KTsNDQoN
DQoJCWlmICgtMSA9PSB4aW9jdGwgKGZkLCBWSURJT0NfUUJVRiwgJmJ1Zikp
DQ0KCQkJZXJybm9fZXhpdCAoIlZJRElPQ19RQlVGIik7DQ0KDQ0KCQlicmVh
azsNDQoNDQoJY2FzZSBJT19NRVRIT0RfVVNFUlBUUjoNDQoJCUNMRUFSIChi
dWYpOw0NCg0NCgkJYnVmLnR5cGUgPSBWNEwyX0JVRl9UWVBFX1ZJREVPX0NB
UFRVUkU7DQ0KCQlidWYubWVtb3J5ID0gVjRMMl9NRU1PUllfVVNFUlBUUjsN
DQoNDQoJCWlmICgtMSA9PSB4aW9jdGwgKGZkLCBWSURJT0NfRFFCVUYsICZi
dWYpKSB7DQ0KCQkJc3dpdGNoIChlcnJubykgew0NCgkJCWNhc2UgRUFHQUlO
Og0NCgkJCQlyZXR1cm4gMDsNDQoNDQoJCQljYXNlIEVJTzoNDQoJCQkJLyog
Q291bGQgaWdub3JlIEVJTywgc2VlIHNwZWMuICovDQ0KDQ0KCQkJCS8qIGZh
bGwgdGhyb3VnaCAqLw0NCg0NCgkJCWRlZmF1bHQ6DQ0KCQkJCWVycm5vX2V4
aXQgKCJWSURJT0NfRFFCVUYiKTsNDQoJCQl9DQ0KCQl9DQ0KDQ0KCQlmb3Ig
KGkgPSAwOyBpIDwgbl9idWZmZXJzOyArK2kpDQ0KCQkJaWYgKGJ1Zi5tLnVz
ZXJwdHIgPT0gKHVuc2lnbmVkIGxvbmcpIGJ1ZmZlcnNbaV0uc3RhcnQNDQoJ
CQkgICAgJiYgYnVmLmxlbmd0aCA9PSBidWZmZXJzW2ldLmxlbmd0aCkNDQoJ
CQkJYnJlYWs7DQ0KDQ0KCQlhc3NlcnQgKGkgPCBuX2J1ZmZlcnMpOw0NCg0N
CgkJcHJvY2Vzc19pbWFnZSAoKHZvaWQgKikgYnVmLm0udXNlcnB0cik7DQ0K
DQ0KCQlpZiAoLTEgPT0geGlvY3RsIChmZCwgVklESU9DX1FCVUYsICZidWYp
KQ0NCgkJCWVycm5vX2V4aXQgKCJWSURJT0NfUUJVRiIpOw0NCg0NCgkJYnJl
YWs7DQ0KCX0NDQoNDQoJcmV0dXJuIDE7DQ0KfQ0NCg0NCnN0YXRpYyB2b2lk
DQ0KbWFpbmxvb3AgICAgICAgICAgICAgICAgICAgICAgICAodm9pZCkNDQp7
DQ0KCXVuc2lnbmVkIGludCBjb3VudDsNDQoNDQoJY291bnQgPSAxMDA7DQ0K
DQ0KCXdoaWxlIChjb3VudC0tID4gMCkgew0NCgkJZm9yICg7Oykgew0NCgkJ
CWZkX3NldCBmZHM7DQ0KCQkJc3RydWN0IHRpbWV2YWwgdHY7DQ0KCQkJaW50
IHI7DQ0KDQ0KCQkJRkRfWkVSTyAoJmZkcyk7DQ0KCQkJRkRfU0VUIChmZCwg
JmZkcyk7DQ0KDQ0KCQkJLyogVGltZW91dC4gKi8NDQoJCQl0di50dl9zZWMg
PSAyOw0NCgkJCXR2LnR2X3VzZWMgPSAwOw0NCg0NCgkJCXIgPSBzZWxlY3Qg
KGZkICsgMSwgJmZkcywgTlVMTCwgTlVMTCwgJnR2KTsNDQoNDQoJCQlpZiAo
LTEgPT0gcikgew0NCgkJCQlpZiAoRUlOVFIgPT0gZXJybm8pDQ0KCQkJCQlj
b250aW51ZTsNDQoNDQoJCQkJZXJybm9fZXhpdCAoInNlbGVjdCIpOw0NCgkJ
CX0NDQoNDQoJCQlpZiAoMCA9PSByKSB7DQ0KCQkJCWZwcmludGYgKHN0ZGVy
ciwgInNlbGVjdCB0aW1lb3V0XG4iKTsNDQoJCQkJZXhpdCAoRVhJVF9GQUlM
VVJFKTsNDQoJCQl9DQ0KDQ0KCQkJaWYgKHJlYWRfZnJhbWUgKCkpDQ0KCQkJ
CWJyZWFrOw0NCg0NCgkJCS8qIEVBR0FJTiAtIGNvbnRpbnVlIHNlbGVjdCBs
b29wLiAqLw0NCgkJfQ0NCgl9DQ0KfQ0NCg0NCnN0YXRpYyB2b2lkDQ0Kc3Rv
cF9jYXB0dXJpbmcgICAgICAgICAgICAgICAgICAodm9pZCkNDQp7DQ0KCWVu
dW0gdjRsMl9idWZfdHlwZSB0eXBlOw0NCg0NCglzd2l0Y2ggKGlvKSB7DQ0K
CWNhc2UgSU9fTUVUSE9EX1JFQUQ6DQ0KCQkvKiBOb3RoaW5nIHRvIGRvLiAq
Lw0NCgkJYnJlYWs7DQ0KDQ0KCWNhc2UgSU9fTUVUSE9EX01NQVA6DQ0KCWNh
c2UgSU9fTUVUSE9EX1VTRVJQVFI6DQ0KCQl0eXBlID0gVjRMMl9CVUZfVFlQ
RV9WSURFT19DQVBUVVJFOw0NCg0NCgkJaWYgKC0xID09IHhpb2N0bCAoZmQs
IFZJRElPQ19TVFJFQU1PRkYsICZ0eXBlKSkNDQoJCQllcnJub19leGl0ICgi
VklESU9DX1NUUkVBTU9GRiIpOw0NCg0NCgkJYnJlYWs7DQ0KCX0NDQp9DQ0K
DQ0Kc3RhdGljIHZvaWQNDQpzdGFydF9jYXB0dXJpbmcgICAgICAgICAgICAg
ICAgICh2b2lkKQ0NCnsNDQoJdW5zaWduZWQgaW50IGk7DQ0KCWVudW0gdjRs
Ml9idWZfdHlwZSB0eXBlOw0NCg0NCglzd2l0Y2ggKGlvKSB7DQ0KCWNhc2Ug
SU9fTUVUSE9EX1JFQUQ6DQ0KCQkvKiBOb3RoaW5nIHRvIGRvLiAqLw0NCgkJ
YnJlYWs7DQ0KDQ0KCWNhc2UgSU9fTUVUSE9EX01NQVA6DQ0KCQlmb3IgKGkg
PSAwOyBpIDwgbl9idWZmZXJzOyArK2kpIHsNDQoJCQlzdHJ1Y3QgdjRsMl9i
dWZmZXIgYnVmOw0NCg0NCgkJCUNMRUFSIChidWYpOw0NCg0NCgkJCWJ1Zi50
eXBlICAgICAgICA9IFY0TDJfQlVGX1RZUEVfVklERU9fQ0FQVFVSRTsNDQoJ
CQlidWYubWVtb3J5ICAgICAgPSBWNEwyX01FTU9SWV9NTUFQOw0NCgkJCWJ1
Zi5pbmRleCAgICAgICA9IGk7DQ0KDQ0KCQkJaWYgKC0xID09IHhpb2N0bCAo
ZmQsIFZJRElPQ19RQlVGLCAmYnVmKSkNDQoJCQkJZXJybm9fZXhpdCAoIlZJ
RElPQ19RQlVGIik7DQ0KCQl9DQ0KDQ0KCQl0eXBlID0gVjRMMl9CVUZfVFlQ
RV9WSURFT19DQVBUVVJFOw0NCg0NCgkJaWYgKC0xID09IHhpb2N0bCAoZmQs
IFZJRElPQ19TVFJFQU1PTiwgJnR5cGUpKQ0NCgkJCWVycm5vX2V4aXQgKCJW
SURJT0NfU1RSRUFNT04iKTsNDQoNDQoJCWJyZWFrO0lPX01FVEhPRF9NTUFQ
DQ0KDQ0KCWNhc2UgSU9fTUVUSE9EX1VTRVJQVFI6DQ0KCQlmb3IgKGkgPSAw
OyBpIDwgbl9idWZmZXJzOyArK2kpIHsNDQoJCQlzdHJ1Y3QgdjRsMl9idWZm
ZXIgYnVmOw0NCg0NCgkJCUNMRUFSIChidWYpOw0NCg0NCgkJCWJ1Zi50eXBl
ICAgICAgICA9IFY0TDJfQlVGX1RZUEVfVklERU9fQ0FQVFVSRTsNDQoJCQli
dWYubWVtb3J5ICAgICAgPSBWNEwyX01FTU9SWV9VU0VSUFRSOw0NCgkJCWJ1
Zi5pbmRleCAgICAgICA9IGk7DQ0KCQkJYnVmLm0udXNlcnB0ciAgID0gKHVu
c2lnbmVkIGxvbmcpIGJ1ZmZlcnNbaV0uc3RhcnQ7DQ0KCQkJYnVmLmxlbmd0
aCAgICAgID0gYnVmZmVyc1tpXS5sZW5ndGg7DQ0KDQ0KCQkJaWYgKC0xID09
IHhpb2N0bCAoZmQsIFZJRElPQ19RQlVGLCAmYnVmKSkNDQoJCQkJZXJybm9f
ZXhpdCAoIlZJRElPQ19RQlVGIik7DQ0KCQl9DQ0KDQ0KCQl0eXBlID0gVjRM
Ml9CVUZfVFlQRV9WSURFT19DQVBUVVJFOw0NCg0NCgkJaWYgKC0xID09IHhp
b2N0bCAoZmQsIFZJRElPQ19TVFJFQU1PTiwgJnR5cGUpKQ0NCgkJCWVycm5v
X2V4aXQgKCJWSURJT0NfU1RSRUFNT04iKTsNDQoNDQoJCWJyZWFrOw0NCgl9
DQ0KfQ0NCg0NCnN0YXRpYyB2b2lkDQ0KdW5pbml0X2RldmljZSAgICAgICAg
ICAgICAgICAgICAodm9pZCkNDQp7DQ0KCXVuc2lnbmVkIGludCBpOw0NCg0N
Cglzd2l0Y2ggKGlvKSB7DQ0KCWNhc2UgSU9fTUVUSE9EX1JFQUQ6DQ0KCQlm
cmVlIChidWZmZXJzWzBdLnN0YXJ0KTsNDQoJCWJyZWFrOw0NCg0NCgljYXNl
IElPX01FVEhPRF9NTUFQOg0NCgkJZm9yIChpID0gMDsgaSA8IG5fYnVmZmVy
czsgKytpKQ0NCgkJCWlmICgtMSA9PSBtdW5tYXAgKGJ1ZmZlcnNbaV0uc3Rh
cnQsIGJ1ZmZlcnNbaV0ubGVuZ3RoKSkNDQoJCQkJZXJybm9fZXhpdCAoIm11
bm1hcCIpOw0NCgkJYnJlYWs7DQ0KDQ0KCWNhc2UgSU9fTUVUSE9EX1VTRVJQ
VFI6DQ0KCQlmb3IgKGkgPSAwOyBpIDwgbl9idWZmZXJzOyArK2kpDQ0KCQkJ
ZnJlZSAoYnVmZmVyc1tpXS5zdGFydCk7DQ0KCQlicmVhazsNDQoJfQ0NCg0N
CglmcmVlIChidWZmZXJzKTsNDQp9DQ0KDQ0Kc3RhdGljIHZvaWQNDQppbml0
X3JlYWQgICAgICAgICAgICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQgICAg
ICAgICAgIGJ1ZmZlcl9zaXplKQ0NCnsNDQoJYnVmZmVycyA9IGNhbGxvYyAo
MSwgc2l6ZW9mICgqYnVmZmVycykpOw0NCg0NCglpZiAoIWJ1ZmZlcnMpIHsN
DQoJCWZwcmludGYgKHN0ZGVyciwgIk91dCBvZiBtZW1vcnlcbiIpOw0NCgkJ
ZXhpdCAoRVhJVF9GQUlMVVJFKTsNDQoJfQ0NCg0NCglidWZmZXJzWzBdLmxl
bmd0aCA9IGJ1ZmZlcl9zaXplOw0NCglidWZmZXJzWzBdLnN0YXJ0ID0gbWFs
bG9jIChidWZmZXJfc2l6ZSk7DQ0KDQ0KCWlmICghYnVmZmVyc1swXS5zdGFy
dCkgew0NCgkJZnByaW50ZiAoc3RkZXJyLCAiT3V0IG9mIG1lbW9yeVxuIik7
DQ0KCQlleGl0IChFWElUX0ZBSUxVUkUpOw0NCgl9DQ0KfQ0NCg0NCnN0YXRp
YyB2b2lkDQ0KaW5pdF9tbWFwICAgICAgICAgICAgICAgICAgICAgICAodm9p
ZCkNDQp7DQ0KCXN0cnVjdCB2NGwyX3JlcXVlc3RidWZmZXJzIHJlcTsNDQoN
DQoJQ0xFQVIgKHJlcSk7DQ0KDQ0KCXJlcS5jb3VudCAgICAgICAgICAgICAg
ID0gNDsNDQoJcmVxLnR5cGUgICAgICAgICAgICAgICAgPSBWNEwyX0JVRl9U
WVBFX1ZJREVPX0NBUFRVUkU7DQ0KCXJlcS5tZW1vcnkgICAgICAgICAgICAg
ID0gVjRMMl9NRU1PUllfTU1BUDsNDQoNDQoJaWYgKC0xID09IHhpb2N0bCAo
ZmQsIFZJRElPQ19SRVFCVUZTLCAmcmVxKSkgew0NCgkJaWYgKEVJTlZBTCA9
PSBlcnJubykgew0NCgkJCWZwcmludGYgKHN0ZGVyciwgIiVzIGRvZXMgbm90
IHN1cHBvcnQgIg0NCgkJCQkgIm1lbW9yeSBtYXBwaW5nXG4iLCBkZXZfbmFt
ZSk7DQ0KCQkJZXhpdCAoRVhJVF9GQUlMVVJFKTsNDQoJCX0gZWxzZSB7DQ0K
CQkJZXJybm9fZXhpdCAoIlZJRElPQ19SRVFCVUZTIik7DQ0KCQl9DQ0KCX0N
DQoNDQoJaWYgKHJlcS5jb3VudCA8IDIpIHsNDQoJCWZwcmludGYgKHN0ZGVy
ciwgIkluc3VmZmljaWVudCBidWZmZXIgbWVtb3J5IG9uICVzXG4iLA0NCgkJ
CSBkZXZfbmFtZSk7DQ0KCQlleGl0IChFWElUX0ZBSUxVUkUpOw0NCgl9DQ0K
DQ0KCWJ1ZmZlcnMgPSBjYWxsb2MgKHJlcS5jb3VudCwgc2l6ZW9mICgqYnVm
ZmVycykpOw0NCg0NCglpZiAoIWJ1ZmZlcnMpIHsNDQoJCWZwcmludGYgKHN0
ZGVyciwgIk91dCBvZiBtZW1vcnlcbiIpOw0NCgkJZXhpdCAoRVhJVF9GQUlM
VVJFKTsNDQoJfQ0NCg0NCglmb3IgKG5fYnVmZmVycyA9IDA7IG5fYnVmZmVy
cyA8IHJlcS5jb3VudDsgKytuX2J1ZmZlcnMpIHsNDQoJCXN0cnVjdCB2NGwy
X2J1ZmZlciBidWY7DQ0KDQ0KCQlDTEVBUiAoYnVmKTsNDQoNDQoJCWJ1Zi50
eXBlICAgICAgICA9IFY0TDJfQlVGX1RZUEVfVklERU9fQ0FQVFVSRTsNDQoJ
CWJ1Zi5tZW1vcnkgICAgICA9IFY0TDJfTUVNT1JZX01NQVA7DQ0KCQlidWYu
aW5kZXggICAgICAgPSBuX2J1ZmZlcnM7DQ0KDQ0KCQlpZiAoLTEgPT0geGlv
Y3RsIChmZCwgVklESU9DX1FVRVJZQlVGLCAmYnVmKSkNDQoJCQllcnJub19l
eGl0ICgiVklESU9DX1FVRVJZQlVGIik7DQ0KDQ0KCQlidWZmZXJzW25fYnVm
ZmVyc10ubGVuZ3RoID0gYnVmLmxlbmd0aDsNDQoJCWJ1ZmZlcnNbbl9idWZm
ZXJzXS5zdGFydCA9DQ0KCQkJbW1hcCAoTlVMTCAvKiBzdGFydCBhbnl3aGVy
ZSAqLywNDQoJCQkgICAgICBidWYubGVuZ3RoLA0NCgkJCSAgICAgIFBST1Rf
UkVBRCB8IFBST1RfV1JJVEUgLyogcmVxdWlyZWQgKi8sDQ0KCQkJICAgICAg
TUFQX1NIQVJFRCAvKiByZWNvbW1lbmRlZCAqLywNDQoJCQkgICAgICBmZCwg
YnVmLm0ub2Zmc2V0KTsNDQoNDQoJCWlmIChNQVBfRkFJTEVEID09IGJ1ZmZl
cnNbbl9idWZmZXJzXS5zdGFydCkNDQoJCQllcnJub19leGl0ICgibW1hcCIp
Ow0NCgl9DQ0KfQ0NCg0NCnN0YXRpYyB2b2lkDQ0KaW5pdF91c2VycCAgICAg
ICAgICAgICAgICAgICAgICAodW5zaWduZWQgaW50ICAgICAgICAgICBidWZm
ZXJfc2l6ZSkNDQp7DQ0KCXN0cnVjdCB2NGwyX3JlcXVlc3RidWZmZXJzIHJl
cTsNDQoNDQoJQ0xFQVIgKHJlcSk7DQ0KDQ0KCXJlcS5jb3VudCAgICAgICAg
ICAgICAgID0gNDsNDQoJcmVxLnR5cGUgICAgICAgICAgICAgICAgPSBWNEwy
X0JVRl9UWVBFX1ZJREVPX0NBUFRVUkU7DQ0KCXJlcS5tZW1vcnkgICAgICAg
ICAgICAgID0gVjRMMl9NRU1PUllfVVNFUlBUUjsNDQoNDQoJaWYgKC0xID09
IHhpb2N0bCAoZmQsIFZJRElPQ19SRVFCVUZTLCAmcmVxKSkgew0NCgkJaWYg
KEVJTlZBTCA9PSBlcnJubykgew0NCgkJCWZwcmludGYgKHN0ZGVyciwgIiVz
IGRvZXMgbm90IHN1cHBvcnQgIg0NCgkJCQkgInVzZXIgcG9pbnRlciBpL29c
biIsIGRldl9uYW1lKTsNDQoJCQlleGl0IChFWElUX0ZBSUxVUkUpOw0NCgkJ
fSBlbHNlIHsNDQoJCQllcnJub19leGl0ICgiVklESU9DX1JFUUJVRlMiKTsN
DQoJCX0NDQoJfQ0NCg0NCglidWZmZXJzID0gY2FsbG9jICg0LCBzaXplb2Yg
KCpidWZmZXJzKSk7DQ0KDQ0KCWlmICghYnVmZmVycykgew0NCgkJZnByaW50
ZiAoc3RkZXJyLCAiT3V0IG9mIG1lbW9yeVxuIik7DQ0KCQlleGl0IChFWElU
X0ZBSUxVUkUpOw0NCgl9DQ0KDQ0KCWZvciAobl9idWZmZXJzID0gMDsgbl9i
dWZmZXJzIDwgNDsgKytuX2J1ZmZlcnMpIHsNDQoJCWJ1ZmZlcnNbbl9idWZm
ZXJzXS5sZW5ndGggPSBidWZmZXJfc2l6ZTsNDQoJCWJ1ZmZlcnNbbl9idWZm
ZXJzXS5zdGFydCA9IG1hbGxvYyAoYnVmZmVyX3NpemUpOw0NCg0NCgkJaWYg
KCFidWZmZXJzW25fYnVmZmVyc10uc3RhcnQpIHsNDQoJCQlmcHJpbnRmIChz
dGRlcnIsICJPdXQgb2YgbWVtb3J5XG4iKTsNDQoJCQlleGl0IChFWElUX0ZB
SUxVUkUpOw0NCgkJfQ0NCgl9DQ0KfQ0NCg0NCnN0YXRpYyB2b2lkDQ0KaW5p
dF9kZXZpY2UgICAgICAgICAgICAgICAgICAgICAodm9pZCkNDQp7DQ0KCXN0
cnVjdCB2NGwyX2NhcGFiaWxpdHkgY2FwOw0NCglzdHJ1Y3QgdjRsMl9jcm9w
Y2FwIGNyb3BjYXA7DQ0KCXN0cnVjdCB2NGwyX2Nyb3AgY3JvcDsNDQoJc3Ry
dWN0IHY0bDJfZm9ybWF0IGZtdDsNDQoJdW5zaWduZWQgaW50IG1pbjsNDQoJ
DQ0KDQ0KCWlmICgtMSA9PSB4aW9jdGwgKGZkLCBWSURJT0NfUVVFUllDQVAs
ICZjYXApKSB7DQ0KCQlpZiAoRUlOVkFMID09IGVycm5vKSB7DQ0KCQkJZnBy
aW50ZiAoc3RkZXJyLCAiJXMgaXMgbm8gVjRMMiBkZXZpY2VcbiIsDQ0KCQkJ
CSBkZXZfbmFtZSk7DQ0KCQkJZXhpdCAoRVhJVF9GQUlMVVJFKTsNDQoJCX0g
ZWxzZSB7DQ0KCQkJZXJybm9fZXhpdCAoIlZJRElPQ19RVUVSWUNBUCIpOw0N
CgkJfQ0NCgl9DQ0KDQ0KCWlmICghKGNhcC5jYXBhYmlsaXRpZXMgJiBWNEwy
X0NBUF9WSURFT19DQVBUVVJFKSkgew0NCgkJZnByaW50ZiAoc3RkZXJyLCAi
JXMgaXMgbm8gdmlkZW8gY2FwdHVyZSBkZXZpY2VcbiIsDQ0KCQkJIGRldl9u
YW1lKTsNDQoJCWV4aXQgKEVYSVRfRkFJTFVSRSk7DQ0KCX0NDQoNDQoJc3dp
dGNoIChpbykgew0NCgljYXNlIElPX01FVEhPRF9SRUFEOg0NCgkJaWYgKCEo
Y2FwLmNhcGFiaWxpdGllcyAmIFY0TDJfQ0FQX1JFQURXUklURSkpIHsNDQoJ
CQlmcHJpbnRmIChzdGRlcnIsICIlcyBkb2VzIG5vdCBzdXBwb3J0IHJlYWQg
aS9vXG4iLA0NCgkJCQkgZGV2X25hbWUpOw0NCgkJCWV4aXQgKEVYSVRfRkFJ
TFVSRSk7DQ0KCQl9DQ0KDQ0KCQlicmVhazsNDQoNDQoJY2FzZSBJT19NRVRI
T0RfTU1BUDoNDQoJY2FzZSBJT19NRVRIT0RfVVNFUlBUUjoNDQoJCWlmICgh
KGNhcC5jYXBhYmlsaXRpZXMgJiBWNEwyX0NBUF9TVFJFQU1JTkcpKSB7DQ0K
CQkJZnByaW50ZiAoc3RkZXJyLCAiJXMgZG9lcyBub3Qgc3VwcG9ydCBzdHJl
YW1pbmcgaS9vXG4iLA0NCgkJCQkgZGV2X25hbWUpOw0NCgkJCWV4aXQgKEVY
SVRfRkFJTFVSRSk7DQ0KCQl9DQ0KDQ0KCQlicmVhazsNDQoJfQ0NCg0NCg0N
CgkvKiBTZWxlY3QgdmlkZW8gaW5wdXQsIHZpZGVvIHN0YW5kYXJkIGFuZCB0
dW5lIGhlcmUuICovDQ0KDQ0KDQ0KCUNMRUFSIChjcm9wY2FwKTsNDQoNDQoJ
Y3JvcGNhcC50eXBlID0gVjRMMl9CVUZfVFlQRV9WSURFT19DQVBUVVJFOw0N
Cg0NCglpZiAoMCA9PSB4aW9jdGwgKGZkLCBWSURJT0NfQ1JPUENBUCwgJmNy
b3BjYXApKSB7DQ0KCQljcm9wLnR5cGUgPSBWNEwyX0JVRl9UWVBFX1ZJREVP
X0NBUFRVUkU7DQ0KCQljcm9wLmMgPSBjcm9wY2FwLmRlZnJlY3Q7IC8qIHJl
c2V0IHRvIGRlZmF1bHQgKi8NDQoNDQoJCWlmICgtMSA9PSB4aW9jdGwgKGZk
LCBWSURJT0NfU19DUk9QLCAmY3JvcCkpIHsNDQoJCQlzd2l0Y2ggKGVycm5v
KSB7DQ0KCQkJY2FzZSBFSU5WQUw6DQ0KCQkJCS8qIENyb3BwaW5nIG5vdCBz
dXBwb3J0ZWQuICovDQ0KCQkJCWJyZWFrOw0NCgkJCWRlZmF1bHQ6DQ0KCQkJ
CS8qIEVycm9ycyBpZ25vcmVkLiAqLw0NCgkJCQlicmVhazsNDQoJCQl9DQ0K
CQl9DQ0KCX0gZWxzZSB7DQ0KCQkvKiBFcnJvcnMgaWdub3JlZC4gKi8NDQoJ
fQ0NCg0NCg0NCglDTEVBUiAoZm10KTsNDQoNDQovLwlmbXQudHlwZSAgICAg
ICAgICAgICAgICA9IFY0TDJfQlVGX1RZUEVfVklERU9fQ0FQVFVSRTsNDQov
LwlmbXQuZm10LnBpeC53aWR0aCAgICAgICA9IDc1MjsNDQovLwlmbXQuZm10
LnBpeC5oZWlnaHQgICAgICA9IDQ4MDsNDQovLwlmbXQuZm10LnBpeC5waXhl
bGZvcm1hdCA9IC8qVjRMMl9QSVhfRk1UX1lVWVY7Ki8gVjRMMl9QSVhfRk1U
X1NCR0dSMTY7DQ0KLy8JZm10LmZtdC5waXguZmllbGQgICAgICAgPSAvKlY0
TDJfRklFTERfSU5URVJMQUNFRCovIFY0TDJfRklFTERfTk9ORTsNDQovLwlm
bXQuZm10LnBpeC5jb2xvcnNwYWNlICA9IFY0TDJfQ09MT1JTUEFDRV9TUkdC
Ow0NCi8vCWZtdC5mbXQucGl4LnNpemVpbWFnZSAgID0gKCg3NTIgKiA0ODAp
ICogMTApIC8gOCA7DQ0KLy8JZm10LmZtdC5waXguDQ0KDQ0KCXByaW50Zigi
JWQgRkQgdmFsXG4iLCBmZCk7DQ0KCWlmKC0xID09IHhpb2N0bChmZCwgVklE
SU9DX0dfRk1ULCAmZm10KSkNDQoJew0NCgkJZXJybm9fZXhpdCAoIlZJRElP
Q19HX0ZNVCIpOw0NCgl9DQ0KCWVsc2UNDQoJew0NCgkJcHJpbnRmKCJmbXQg
dHlwZTogJWRcbiIsIGZtdC50eXBlKTsNDQoJCXByaW50ZigiZm10IHAgd2lk
dGg6ICVkXG4iLCBmbXQuZm10LnBpeC53aWR0aCk7DQ0KCQlwcmludGYoImZt
dCBwIGhlaWdodDogJWRcbiIsZm10LmZtdC5waXguaGVpZ2h0KTsNDQoJCXBy
aW50ZigiZm10IHBpeGVsZm9ybWF0OiAlZFxuIixmbXQuZm10LnBpeC5waXhl
bGZvcm1hdCk7DQ0KCQlwcmludGYoImZtdCBjb2xvcnNwYWNlOiAlZFxuIixm
bXQuZm10LnBpeC5jb2xvcnNwYWNlKTsNDQoJCXByaW50ZigiZm10IGZpZWxk
OiAlZFxuIixmbXQuZm10LnBpeC5maWVsZCk7DQ0KCQlwcmludGYoImZtdCBz
aXplaW1hZ2U6ICVkXG4iLCBmbXQuZm10LnBpeC5zaXplaW1hZ2UpOw0NCgl9
DQ0KCQ0NCgkNDQoJDQ0KCQ0NCglpZiAoLTEgPT0geGlvY3RsIChmZCwgVklE
SU9DX1NfRk1ULCAmZm10KSkNDQoJew0NCgkJZXJybm9fZXhpdCAoIlZJRElP
Q19TX0ZNVCIpOw0NCgl9DQ0KCS8qIE5vdGUgVklESU9DX1NfRk1UIG1heSBj
aGFuZ2Ugd2lkdGggYW5kIGhlaWdodC4gKi8NDQoNDQoJLyogQnVnZ3kgZHJp
dmVyIHBhcmFub2lhLiAqLw0NCgltaW4gPSBmbXQuZm10LnBpeC53aWR0aCAq
IDI7DQ0KCWlmIChmbXQuZm10LnBpeC5ieXRlc3BlcmxpbmUgPCBtaW4pDQ0K
CQlmbXQuZm10LnBpeC5ieXRlc3BlcmxpbmUgPSBtaW47DQ0KCW1pbiA9IGZt
dC5mbXQucGl4LmJ5dGVzcGVybGluZSAqIGZtdC5mbXQucGl4LmhlaWdodDsN
DQoJaWYgKGZtdC5mbXQucGl4LnNpemVpbWFnZSA8IG1pbikNDQoJCWZtdC5m
bXQucGl4LnNpemVpbWFnZSA9IG1pbjsNDQoNDQoJc3dpdGNoIChpbykgew0N
CgljYXNlIElPX01FVEhPRF9SRUFEOg0NCgkJaW5pdF9yZWFkIChmbXQuZm10
LnBpeC5zaXplaW1hZ2UpOw0NCgkJYnJlYWs7DQ0KDQ0KCWNhc2UgSU9fTUVU
SE9EX01NQVA6DQ0KCQlpbml0X21tYXAgKCk7DQ0KCQlicmVhazsNDQoNDQoJ
Y2FzZSBJT19NRVRIT0RfVVNFUlBUUjoNDQoJCWluaXRfdXNlcnAgKGZtdC5m
bXQucGl4LnNpemVpbWFnZSk7DQ0KCQlicmVhazsNDQoJfQ0NCn0NDQoNDQpz
dGF0aWMgdm9pZA0NCmNsb3NlX2RldmljZSAgICAgICAgICAgICAgICAgICAg
KHZvaWQpDQ0Kew0NCglpZiAoLTEgPT0gY2xvc2UgKGZkKSkNDQoJCWVycm5v
X2V4aXQgKCJjbG9zZSIpOw0NCg0NCglmZCA9IC0xOw0NCn0NDQoNDQpzdGF0
aWMgdm9pZA0NCm9wZW5fZGV2aWNlICAgICAgICAgICAgICAgICAgICAgKHZv
aWQpDQ0Kew0NCglzdHJ1Y3Qgc3RhdCBzdDsNDQoNDQoJaWYgKC0xID09IHN0
YXQgKGRldl9uYW1lLCAmc3QpKSB7DQ0KCQlmcHJpbnRmIChzdGRlcnIsICJD
YW5ub3QgaWRlbnRpZnkgJyVzJzogJWQsICVzXG4iLA0NCgkJCSBkZXZfbmFt
ZSwgZXJybm8sIHN0cmVycm9yIChlcnJubykpOw0NCgkJZXhpdCAoRVhJVF9G
QUlMVVJFKTsNDQoJfQ0NCg0NCglpZiAoIVNfSVNDSFIgKHN0LnN0X21vZGUp
KSB7DQ0KCQlmcHJpbnRmIChzdGRlcnIsICIlcyBpcyBubyBkZXZpY2VcbiIs
IGRldl9uYW1lKTsNDQoJCWV4aXQgKEVYSVRfRkFJTFVSRSk7DQ0KCX0NDQoN
DQoJZmQgPSBvcGVuIChkZXZfbmFtZSwgT19SRFdSIC8qIHJlcXVpcmVkICov
IHwgT19OT05CTE9DSywgMCk7DQ0KCQ0NCglpZiAoLTEgPT0gZmQpIHsNDQoJ
CWZwcmludGYgKHN0ZGVyciwgIkNhbm5vdCBvcGVuICclcyc6ICVkLCAlc1xu
IiwNDQoJCQkgZGV2X25hbWUsIGVycm5vLCBzdHJlcnJvciAoZXJybm8pKTsN
DQoJCWV4aXQgKEVYSVRfRkFJTFVSRSk7DQ0KCX0NDQoJcHJpbnRmKCIlcyIs
Im9wZW5fZGV2aWNlIGNvbXBsZXRlXG4iKTsNDQoJcHJpbnRmKCIlZCBGRCB2
YWxcbiIsIGZkKTsNDQp9DQ0KDQ0Kc3RhdGljIHZvaWQNDQp1c2FnZSAgICAg
ICAgICAgICAgICAgICAgICAgICAgIChGSUxFICogICAgICAgICAgICAgICAg
IGZwLA0NCgkJCQkgaW50ICAgICAgICAgICAgICAgICAgICBhcmdjLA0NCgkJ
CQkgY2hhciAqKiAgICAgICAgICAgICAgICBhcmd2KQ0NCnsNDQoJZnByaW50
ZiAoZnAsDQ0KCQkgIlVzYWdlOiAlcyBbb3B0aW9uc11cblxuIg0NCgkJICJP
cHRpb25zOlxuIg0NCgkJICItZCB8IC0tZGV2aWNlIG5hbWUgICBWaWRlbyBk
ZXZpY2UgbmFtZSBbL2Rldi92aWRlb11cbiINDQoJCSAiLWggfCAtLWhlbHAg
ICAgICAgICAgUHJpbnQgdGhpcyBtZXNzYWdlXG4iDQ0KCQkgIi1tIHwgLS1t
bWFwICAgICAgICAgIFVzZSBtZW1vcnkgbWFwcGVkIGJ1ZmZlcnNcbiINDQoJ
CSAiLXIgfCAtLXJlYWQgICAgICAgICAgVXNlIHJlYWQoKSBjYWxsc1xuIg0N
CgkJICItdSB8IC0tdXNlcnAgICAgICAgICBVc2UgYXBwbGljYXRpb24gYWxs
b2NhdGVkIGJ1ZmZlcnNcbiINDQoJCSAiIiwNDQoJCSBhcmd2WzBdKTsNDQp9
DQ0KDQ0Kc3RhdGljIGNvbnN0IGNoYXIgc2hvcnRfb3B0aW9ucyBbXSA9ICJk
OmhtcnUiOw0NCg0NCnN0YXRpYyBjb25zdCBzdHJ1Y3Qgb3B0aW9uDQ0KbG9u
Z19vcHRpb25zIFtdID0gew0NCgl7ICJkZXZpY2UiLCAgICAgcmVxdWlyZWRf
YXJndW1lbnQsICAgICAgTlVMTCwgICAgICAgICAgICdkJyB9LA0NCgl7ICJo
ZWxwIiwgICAgICAgbm9fYXJndW1lbnQsICAgICAgICAgICAgTlVMTCwgICAg
ICAgICAgICdoJyB9LA0NCgl7ICJtbWFwIiwgICAgICAgbm9fYXJndW1lbnQs
ICAgICAgICAgICAgTlVMTCwgICAgICAgICAgICdtJyB9LA0NCgl7ICJyZWFk
IiwgICAgICAgbm9fYXJndW1lbnQsICAgICAgICAgICAgTlVMTCwgICAgICAg
ICAgICdyJyB9LA0NCgl7ICJ1c2VycCIsICAgICAgbm9fYXJndW1lbnQsICAg
ICAgICAgICAgTlVMTCwgICAgICAgICAgICd1JyB9LA0NCgl7IDAsIDAsIDAs
IDAgfQ0NCn07DQ0KDQ0KaW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKiogICAg
ICAgICAgICAgICAgYXJndikNDQp7DQ0KCWRldl9uYW1lID0gIi9kZXYvdmlk
ZW8wIjsNDQoNDQoJZm9yICg7OykgDQ0KCXsNDQoJCWludCBpbmRleDsNDQoJ
CWludCBjOw0NCg0NCgkJYyA9IGdldG9wdF9sb25nIChhcmdjLCBhcmd2LA0N
CgkJCQkgc2hvcnRfb3B0aW9ucywgbG9uZ19vcHRpb25zLA0NCgkJCQkgJmlu
ZGV4KTsNDQoNDQoJCWlmICgtMSA9PSBjKQ0NCgkJCWJyZWFrOw0NCg0NCgkJ
c3dpdGNoIChjKSB7DQ0KCQljYXNlIDA6IC8qIGdldG9wdF9sb25nKCkgZmxh
ZyAqLw0NCgkJCWJyZWFrOw0NCg0NCgkJY2FzZSAnZCc6DQ0KCQkJZGV2X25h
bWUgPSBvcHRhcmc7DQ0KCQkJYnJlYWs7DQ0KDQ0KCQljYXNlICdoJzoNDQoJ
CQl1c2FnZSAoc3Rkb3V0LCBhcmdjLCBhcmd2KTsNDQoJCQlleGl0IChFWElU
X1NVQ0NFU1MpOw0NCg0NCgkJY2FzZSAnbSc6DQ0KCQkJaW8gPSBJT19NRVRI
T0RfTU1BUDsNDQoJCQlicmVhazsNDQoNDQoJCWNhc2UgJ3InOg0NCgkJCWlv
ID0gSU9fTUVUSE9EX1JFQUQ7DQ0KCQkJYnJlYWs7DQ0KDQ0KCQljYXNlICd1
JzoNDQoJCQlpbyA9IElPX01FVEhPRF9VU0VSUFRSOw0NCgkJCWJyZWFrOw0N
Cg0NCgkJZGVmYXVsdDoNDQoJCQl1c2FnZSAoc3RkZXJyLCBhcmdjLCBhcmd2
KTsNDQoJCQlleGl0IChFWElUX0ZBSUxVUkUpOw0NCgkJfQ0NCgl9DQ0KCQ0N
CglwcmludGYoIlRoZSBkZXZpY2UgbmFtZTogJXNcbiIsIGRldl9uYW1lKTsN
DQoJb3Blbl9kZXZpY2UgKCk7DQ0KDQ0KCWluaXRfZGV2aWNlICgpOw0NCg0N
CglzdGFydF9jYXB0dXJpbmcgKCk7DQ0KDQ0KCW1haW5sb29wICgpOw0NCg0N
CglzdG9wX2NhcHR1cmluZyAoKTsNDQoNDQoJdW5pbml0X2RldmljZSAoKTsN
DQoNDQoJY2xvc2VfZGV2aWNlICgpOw0NCg0NCglleGl0IChFWElUX1NVQ0NF
U1MpOw0NCg0NCglyZXR1cm4gMDsNDQp9DQ0KDQ0KDQ0K

--8323329-1800195233-1209113944=:6045
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

--
video4linux-list mailing list
Unsubscribe mailto:video4linux-list-request@redhat.com?subject=unsubscribe
https://www.redhat.com/mailman/listinfo/video4linux-list
--8323329-1800195233-1209113944=:6045--
