Return-path: <linux-media-owner@vger.kernel.org>
Received: from qw-out-2122.google.com ([74.125.92.26]:48040 "EHLO
	qw-out-2122.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1751528Ab0DLOfu (ORCPT
	<rfc822;linux-media@vger.kernel.org>);
	Mon, 12 Apr 2010 10:35:50 -0400
Received: by qw-out-2122.google.com with SMTP id 8so2026650qwh.37
        for <linux-media@vger.kernel.org>; Mon, 12 Apr 2010 07:35:50 -0700 (PDT)
MIME-Version: 1.0
Date: Mon, 12 Apr 2010 10:35:47 -0400
Message-ID: <v2k74e606bb1004120735v9401ebf0u24f38e391e166e11@mail.gmail.com>
Subject: cx88: IR code causing excessive interrupts during idle
From: Taylor Ralph <taylor.ralph@gmail.com>
To: linux-media@vger.kernel.org
Content-Type: text/plain; charset=ISO-8859-1
Sender: linux-media-owner@vger.kernel.org
List-ID: <linux-media.vger.kernel.org>

I've recently assembled a core i3 system and attempted to reduce the
power consumed by using powertop. I noticed that during idle with no
applications running (including Xorg) that the idle power state (C6)
average residency was less than 5ms. The top offender was interrupts
generated by the cx88 module. I mentioned this to Devin on IRC and he
mentioned to comment out line 3533 of cx88-cards.c:

//cx88_ir_init(core, pci);

With this patch applied the interrupts disappeared and the idle state
average residency jumped to more than 60ms. This obviously allows much
better power efficiency as it avoids the power consumed by exiting
idle states.

I don't use the IR interface on my Pinnacle 800i cards and the driver
doesn't have an option to disable IR.

Just thought I'd bring this up on the list in case it interests anyone.

Thanks.

--
Taylor
