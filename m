Return-path: <linux-dvb-bounces+mchehab=infradead.org@linuxtv.org>
Received: from bane.moelleritberatung.de ([77.37.2.25])
	by www.linuxtv.org with esmtp (Exim 4.63)
	(envelope-from <artem@moelleritberatung.de>) id 1LEln5-0001cW-Bb
	for linux-dvb@linuxtv.org; Mon, 22 Dec 2008 15:29:52 +0100
Date: Mon, 22 Dec 2008 15:29:37 +0100
From: Artem Makhutov <artem@makhutov.org>
To: linux-dvb@linuxtv.org
Message-ID: <20081222142937.GK12059@titan.makhutov-it.de>
MIME-Version: 1.0
Content-Disposition: inline
Cc: abraham.manu@gmail.com
Subject: [linux-dvb] DVB-S2 stream partitially broken for Astra HD+ on 19.2E
	with	SkyStar HD (stb0899)
List-Unsubscribe: <http://www.linuxtv.org/cgi-bin/mailman/listinfo/linux-dvb>,
	<mailto:linux-dvb-request@linuxtv.org?subject=unsubscribe>
List-Archive: <http://www.linuxtv.org/pipermail/linux-dvb>
List-Post: <mailto:linux-dvb@linuxtv.org>
List-Help: <mailto:linux-dvb-request@linuxtv.org?subject=help>
List-Subscribe: <http://www.linuxtv.org/cgi-bin/mailman/listinfo/linux-dvb>,
	<mailto:linux-dvb-request@linuxtv.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: linux-dvb-bounces@linuxtv.org
Errors-To: linux-dvb-bounces+mchehab=infradead.org@linuxtv.org
List-ID: <linux-dvb@linuxtv.org>

Hello,

I was playing around with streaming of H264 streams to an STB and found out
that the stream generated by my SkyStar HD card (also know as TechnoTrend S2-3200)
is partitialy broken.

I am using multiproto drivers from http://mercurial.intuxication.org/hg/liplianindvb.
My satellite dish is setup to Astra 19.2E.

This is my channels.conf line:
ASTRA HD:11914:h:0:27500:1279:1283:131

I am using szap2 from http://mercurial.intuxication.org/hg/szap2 to tune the DVB-S2 channel:

$ szap2 -r -p -S 1 'ASTRA HD'

and then write the stream to a file using cat:

$ cat /dev/dvb/adapter0/dvr0 > test.ts

Then I used Windows to replay the file, as I can use hardware acceleration there.
I can see some artifacts from time to time in the stream, and the STB refuses to decode
the "corrupt" frames when streaming the file to it using VLC.

The Astra HD+ channel is streaming a demo movie in a loop. And the corruptions are always at
the same position in the stream, so I can predict when the next corruption will be.

When using Windows to tune to the same channel, I am getting an absolutly perfect
stream without any errors.

It is also pretty interesting, that first I have used a 60cm sat-dish, and today I have
replaced it with a 80cm one. With the 60cm dish I had more corruptions in the stream,
then with the 80cm dish. But under Windows I had no corruptions at all, even with the 60cm dish.

It looks like I am getting a better/cleaner/stronger signal under Windows than under Linux
and therefore a better stream.

It also looks like this corruptions happends only with DVB-S2 streams, and not with DVB-S.

Any ideas what could be wrong with the driver?
Where and how should I debug?
Can somebody else reproduce this?

Thanks, Artem

_______________________________________________
linux-dvb mailing list
linux-dvb@linuxtv.org
http://www.linuxtv.org/cgi-bin/mailman/listinfo/linux-dvb
